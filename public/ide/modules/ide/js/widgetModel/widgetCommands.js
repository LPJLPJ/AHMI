'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

;(function (factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.

        define('WidgetCommands', [], factory);
    } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object' && module.exports) {
        // Node/CommonJS
        module.exports = factory();
    } else {
        // Browser globals
        window.WidgetCommands = factory();
    }
})(function () {
    var WidgetCommands = {};
    WidgetCommands['Button'] = {
        onInitialize: '\n            var(a,0)\n            set(a,\'this.mode\')\n            set(a,3)\n            if(a>=100){\n                set(\'this.layers.1.hidden\',1)\n            }else{\n                set(\'this.layers.1.hidden\',0)\n            }\n        ',
        onMouseDown: '\n            var(b,0)\n            set(b,\'this.mode\')\n            if(b==0){\n                set(\'this.layers.0.hidden\',0)\n                set(\'this.layers.1.hidden\',1)\n            }else{\n                var(c,0)\n                getTag(c)\n                if(c>0){\n                    setTag(0)\n                }else{\n                    setTag(1)\n                }\n            }\n        ',
        onMouseUp: '\n            var(b,0)\n            set(b,\'this.mode\')\n            if(b==0){\n                set(\'this.layers.0.hidden\',1)\n                set(\'this.layers.1.hidden\',0)\n            }\n        ',
        onTagChange: '\n            var(a,0)\n            var(b,0)\n            set(b,\'this.mode\')\n            getTag(a)\n            if(b==1){\n                if(a>0){\n                    set(\'this.layers.0.hidden\',0)\n                    set(\'this.layers.1.hidden\',1)\n                }else{\n                    set(\'this.layers.0.hidden\',1)\n                    set(\'this.layers.1.hidden\',0)\n                }\n            }\n        ',
        onKeyBoardLeft: '\n          var(tMaxHighLightNum,0)\n          set(tMaxHighLightNum,\'this.maxHighLightNum\')\n          if (tMaxHighLightNum>0) {\n            var(tHighLightNum,0)\n            set(tHighLightNum,\'this.highLightNum\')\n            if (tHighLightNum==1) {\n              //hashighlight\n              set(\'this.layers.2.hidden\',0)\n            }else{\n              set(\'this.layers.2.hidden\',1)\n            }\n          }\n        ',
        onKeyBoardRight: '\n          var(tMaxHighLightNum,0)\n          set(tMaxHighLightNum,\'this.maxHighLightNum\')\n          if (tMaxHighLightNum>0) {\n            var(tHighLightNum,0)\n            set(tHighLightNum,\'this.highLightNum\')\n            if (tHighLightNum==1) {\n              //hashighlight\n              set(\'this.layers.2.hidden\',0)\n            }else{\n              set(\'this.layers.2.hidden\',1)\n            }\n          }\n        ',
        onKeyBoardOK: '\n          executeaction(5)\n        '
    };

    WidgetCommands['ButtonGroup'] = {
        onInitialize: '\n        ',
        onMouseDown: '\n            var(a,0)\n            var(b,0)\n            var(c,0)\n            set(c,\'this.layers.length\')\n            var(tMaxHighLightNum,0)\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')\n            set(tMaxHighLightNum,0)   //add by lx \u4E0D\u77E5\u9053\u4E3A\u4EC0\u4E48\u4EE5\u524D\u4F1A\u7528\u5230\uFF0C\u6240\u4EE5\u7F6E0\n            var(tSingleButtonLayers,0)\n            if (tMaxHighLightNum>0) {\n              set(tSingleButtonLayers,3)\n            }else{\n              set(tSingleButtonLayers,2)\n            }\n            minus(c,tSingleButtonLayers)\n            set(a,\'this.innerX\')\n            set(b,\'this.innerY\')\n            var(lx,0)\n            var(ly,0)\n            var(lw,0)\n            var(lh,0)\n            var(rx,0)\n            var(ry,0)\n            while(c>=0){\n                set(lx,\'this.layers.c.x\')\n                set(ly,\'this.layers.c.y\')\n                set(lw,\'this.layers.c.width\')\n                set(lh,\'this.layers.c.height\')\n                set(rx,lx)\n                set(ry,ly)\n                add(rx,lw)\n                add(ry,lh)\n                if(a>=lx){\n                    if(rx>a){\n                        if(b>=ly){\n                            if(ry>b){\n                                divide(c,tSingleButtonLayers)\n                                add(c,1)\n                                setTag(c)\n                                set(c,0)\n                            }\n                        }\n                    }\n                }\n                minus(c,tSingleButtonLayers)\n            }\n        ',
        onMouseUp: '\n        ',
        onTagChange: '  \n          var(laylen,0)                                //\u56FE\u5C42\u6570\u76EE\n          var(spacing,0)                               //\u6309\u94AE\u95F4\u8DDD\n          var(btnCnt,0)                                //\u6309\u94AE\u4E2A\u6570\n          var(tMaxHighLightNum,0)                      //\u9AD8\u4EAE\u6570\u76EE\n          var(highlightIndex,0)                        //\u9AD8\u4EAE\u5C42\u5750\u6807\n          var(tTag,0)                                  //\u8BB0\u5F55tag\u503C\n          var(t1,0)                                    //\u4E34\u65F6\u53D8\u91CF1\n          var(t2,0)                                    //\u4E34\u65F6\u53D8\u91CF2\n          \n          //set value\n          set(laylen,\'this.layers.length\')\n          set(spacing,\'this.otherAttrs.0\')\n          set(btnCnt,\'this.otherAttrs.1\')             \n          set(tMaxHighLightNum,\'this.maxHighLightNum\')\n          getTag(tTag) \n          \n          if(tMaxHighLightNum>0){\n            minus(laylen,1)\n            set(highlightIndex,laylen)\n          }\n          \n          //\u6E05\u7A7A\u663E\u793A\n          while(t1<laylen){\n            set(\'this.layers.t1.hidden\',0)\n            add(t1,1)\n            set(\'this.layers.t1.hidden\',1)\n            add(t1,1)\n          }\n                    \n          //\u663E\u793A\u5F53\u524D\u503C\n          if(tTag>0){\n            if(tTag<laylen){\n              multiply(tTag,2)\n              minus(tTag,1)\n              set(\'this.layers.tTag.hidden\',0)\n            }\n          }\n         \n        ',
        onKeyBoardLeft: '\n          var(arrange,0)\n          var(laylen,0)                                //\u56FE\u5C42\u6570\u76EE\n          var(spacing,0)                               //\u6309\u94AE\u95F4\u8DDD\n          var(btnCnt,0)                                //\u6309\u94AE\u4E2A\u6570\n          var(tMaxHighLightNum,0)                      //\u9AD8\u4EAE\u6570\u76EE\n          var(highlightIndex,0)                        //\u9AD8\u4EAE\u5C42\u5750\u6807\n          var(startValue,0)                            //\u5F53\u524D\u4F4D\u7F6E,\u5373\u52A8\u753B\u8D77\u59CB\u4F4D\u7F6E\n          var(stopValue,0)                             //\u9AD8\u4EAE\u4F4D\u7F6E\u504F\u79FB\u91CF,\u5373\u52A8\u753B\u7EC8\u6B62\u4F4D\u7F6E\n          var(t1,0)                                    //\u4E34\u65F6\u53D8\u91CF\n          \n          //set value\n          set(arrange,\'this.otherAttrs.4\')\n          set(laylen,\'this.layers.length\')\n          set(spacing,\'this.otherAttrs.0\')\n          set(btnCnt,\'this.otherAttrs.1\')             \n          set(tMaxHighLightNum,\'this.maxHighLightNum\')\n          \n          if(tMaxHighLightNum>0){\n            minus(laylen,1)\n            set(highlightIndex,laylen)\n            var(tHighLightNum,0)\n            set(tHighLightNum,\'this.highLightNum\')\n            \n            if(tHighLightNum>0){\n                if(arrange==0){\n                  //\u6C34\u5E73\u65B9\u5411\n                  //stopValue = (tHightLightNum-1)*(width+spacing)\n                  set(stopValue,tHighLightNum)\n                  minus(stopValue,1)\n                  set(t1,\'this.layers.0.width\')\n                  add(t1,\'this.otherAttrs.0\')\n                  multiply(stopValue,t1)\n                  \n                  //\u8BBE\u7F6E\u52A8\u753B\u8D77\u59CB\u4E0E\u7EC8\u6B62\u503C\n                  set(t1,\'this.layers.highlightIndex.x\')\n                  set(\'this.otherAttrs.2\',t1)\n                  set(\'this.otherAttrs.3\',stopValue)\n                  \n                  //\u663E\u793A\u9AD8\u91CF\u5C42\n                  set(\'this.layers.highlightIndex.hidden\',0)\n                }else{\n                  //\u7AD6\u76F4\u65B9\u5411\n                  //stopValue = (tHightLightNum-1)*(height+spacing)\n                  set(stopValue,tHighLightNum)\n                  minus(stopValue,1)\n                  set(t1,\'this.layers.0.height\')\n                  add(t1,\'this.otherAttrs.0\') \n                  multiply(stopValue,t1)\n                  \n                  //\u8BBE\u7F6E\u52A8\u753B\u8D77\u59CB\u4E0E\u7EC8\u6B62\u503C\n                  set(t1,\'this.layers.highlightIndex.y\')\n                  set(\'this.otherAttrs.2\',t1)\n                  set(\'this.otherAttrs.3\',stopValue)\n                  print(\'this.otherAttrs.2\',\'this.otherAttrs.3\')\n                  \n                  //\u663E\u793A\u9AD8\u91CF\u5C42\n                  set(\'this.layers.highlightIndex.hidden\',0)\n                }\n                starthlanimation(0)\n                \n            }else{\n                set(\'this.layers.highlightIndex.hidden\',1)\n            } \n          }\n        ',
        onKeyBoardRight: '\n          var(arrange,0)\n          var(laylen,0)                                //\u56FE\u5C42\u6570\u76EE\n          var(spacing,0)                               //\u6309\u94AE\u95F4\u8DDD\n          var(btnCnt,0)                                //\u6309\u94AE\u4E2A\u6570\n          var(tMaxHighLightNum,0)                      //\u9AD8\u4EAE\u6570\u76EE\n          var(highlightIndex,0)                        //\u9AD8\u4EAE\u5C42\u5750\u6807\n          var(startValue,0)                            //\u5F53\u524D\u4F4D\u7F6E,\u5373\u52A8\u753B\u8D77\u59CB\u4F4D\u7F6E\n          var(stopValue,0)                             //\u9AD8\u4EAE\u4F4D\u7F6E\u504F\u79FB\u91CF,\u5373\u52A8\u753B\u7EC8\u6B62\u4F4D\u7F6E\n          var(t1,0)                                    //\u4E34\u65F6\u53D8\u91CF\n          \n          //set value\n          set(arrange,\'this.otherAttrs.4\')\n          set(laylen,\'this.layers.length\')\n          set(spacing,\'this.otherAttrs.0\')\n          set(btnCnt,\'this.otherAttrs.1\')             \n          set(tMaxHighLightNum,\'this.maxHighLightNum\')\n          \n          if(tMaxHighLightNum>0){\n            minus(laylen,1)\n            set(highlightIndex,laylen)\n            var(tHighLightNum,0)\n            set(tHighLightNum,\'this.highLightNum\')\n            \n            if(tHighLightNum>0){\n                if(arrange==0){\n                  //\u6C34\u5E73\u65B9\u5411\n                  //\u8BA1\u7B97\u516C\u5F0F:stopValue = (tHightLightNum-1)*(width+spacing)\n                  set(stopValue,tHighLightNum)\n                  minus(stopValue,1)\n                  set(t1,\'this.layers.0.width\')\n                  add(t1,\'this.otherAttrs.0\')\n                  multiply(stopValue,t1)\n                  \n                  //\u8BBE\u7F6E\u52A8\u753B\u8D77\u59CB\u4E0E\u7EC8\u6B62\u503C\n                  set(t1,\'this.layers.highlightIndex.x\')\n                  set(\'this.otherAttrs.2\',t1)\n                  set(\'this.otherAttrs.3\',stopValue)\n                  \n                  //\u663E\u793A\u9AD8\u91CF\u5C42\n                  set(\'this.layers.highlightIndex.hidden\',0)\n                }else{\n                  //\u7AD6\u76F4\u65B9\u5411\n                  //stopValue = (tHightLightNum-1)*(height+spacing)\n                  set(stopValue,tHighLightNum)\n                  minus(stopValue,1)\n                  set(t1,\'this.layers.0.height\')\n                  add(t1,\'this.otherAttrs.0\') \n                  multiply(stopValue,t1)\n                  \n                  //\u8BBE\u7F6E\u52A8\u753B\u8D77\u59CB\u4E0E\u7EC8\u6B62\u503C\n                  set(t1,\'this.layers.highlightIndex.y\')\n                  set(\'this.otherAttrs.2\',t1)\n                  set(\'this.otherAttrs.3\',stopValue)\n                  print(\'this.otherAttrs.2\',\'this.otherAttrs.3\')\n                  \n                  //\u663E\u793A\u9AD8\u91CF\u5C42\n                  set(\'this.layers.highlightIndex.hidden\',0)\n                }\n                starthlanimation(0)\n            }else{\n                set(\'this.layers.highlightIndex.hidden\',1)\n            } \n          }\n        ',
        onKeyBoardOK: '\n          var(tHighLightNum,0)\n          var(laylen,0)\n          \n          set(tHighLightNum,\'this.highLightNum\')\n          set(laylen,\'this.layers.length\')\n          \n          if(tHighLightNum>0){\n            minus(laylen,1)\n            if(tHighLightNum<laylen){\n               print(tHighLightNum,\'tHighLightNum\')\n               setTag(tHighLightNum)\n            }\n          }\n        ',
        onHighlightFrame: '\n          //curHLAnimationFactor\u7406\u8BBA\u4E0A\u4E3A0~1\u7684\u5C0F\u6570\uFF0C\u4E3A\u4E86\u6307\u4EE4\u7684\u8BA1\u7B97\u53D6curHLAnimationFactor\u7406\u8BBA\u4E0A\u4E3A0~1000\u7684\u6B63\u6570\n          \n          var(highlightIndex,0)                     //\u9AD8\u4EAE\u5C42\u5750\u6807\n          var(tFactor,0)                            //\u52A8\u753B\u8FDB\u5EA6\n          var(startValue,0)                         //\u8D77\u59CB\u503C\n          var(stopValue,0)                          //\u7ED3\u675F\u503C\n          var(offset,0)                             //\u504F\u79FB\u503C\n          var(arrange,0)\n          \n          set(arrange,\'this.otherAttrs.4\')\n          set(highlightIndex,\'this.layers.length\')\n          minus(highlightIndex,1)\n          set(tFactor,\'this.curHLAnimationFactor\')\n          set(startValue,\'this.otherAttrs.2\')\n          set(stopValue,\'this.otherAttrs.3\')\n          set(offset,stopValue)\n          \n          //\u516C\u5F0F:offset = startValue + (stopValue-startValue)*curHLAnimationFactor/1000\n          minus(offset,startValue)\n          multiply(offset,tFactor)\n          divide(offset,1000)\n          add(offset,startValue)\n          // print(tFactor,offset)\n          \n          if(arrange==0){\n            set(\'this.layers.highlightIndex.x\',offset)\n          }else{\n            set(\'this.layers.highlightIndex.y\',offset)\n          }\n          \n        '
    };

    WidgetCommands['Dashboard'] = {
        onInitialize: '\n        ',
        onMouseDown: '',
        onMouseUp: '',
        onTagChange: '\n            var(toffsetValue,0)\n            var(tminValue,0)\n            var(tmaxValue,0)\n            var(tminAngle,0)\n            var(tmaxAngle,0)\n            var(ttagValue,0)\n            var(tangleDist,0)   \n            set(tminValue,\'this.minValue\')\n            set(tmaxValue,\'this.maxValue\')\n            set(tminAngle,\'this.minAngle\')\n            set(tmaxAngle,\'this.maxAngle\')\n            set(tangleDist,tmaxAngle)\n            minus(tangleDist,tminAngle)\n            var(ttempDist,0)\n            set(toffsetValue,\'this.otherAttrs.0\')\n            getTag(ttagValue)\n            if (ttagValue>tmaxValue) {\n                set(ttagValue,tmaxValue)\n            }\n            if (ttagValue<tminValue) {\n                set(ttagValue,tminValue)\n            }\n            var(tTotalFrame,0)\n            set(tTotalFrame,\'this.totalFrame\')\n            if (tTotalFrame>0) {\n              var(tOldValue,0)\n              set(tOldValue,\'this.oldValue\')\n              set(\'this.startAnimationTag\',tOldValue)\n              set(\'this.stopAnimationTag\',ttagValue)\n              \n            }else{\n              set(ttempDist,tmaxValue)\n              minus(ttempDist,tminValue)\n              var(ttagDist,0)\n              set(ttagDist,ttagValue)\n              minus(ttagValue,tminValue)\n              var(tvalueRatio,0)\n              set(tvalueRatio,ttagDist)\n              multiply(tvalueRatio,tangleDist)\n              divide(tvalueRatio,ttempDist)\n              add(tvalueRatio,tminAngle)\n              var(tclockwise,0)\n              var(tStartAngle,0)\n              set(tclockwise,\'this.otherAttrs.1\')\n              if (tclockwise==1) {\n                  add(tvalueRatio,45)\n                  add(tvalueRatio,toffsetValue)\n                  add(tStartAngle,toffsetValue)\n                  add(tStartAngle,90)\n              }else{\n                  var(uValueRatio,0)\n                  minus(uValueRatio,tvalueRatio)\n                  minus(uValueRatio,toffsetValue)\n                  set(tvalueRatio,uValueRatio)\n                  minus(tStartAngle,toffsetValue)\n                  add(tStartAngle,90)\n                  add(tvalueRatio,45)\n              }\n              var(tp1x,0)\n              var(tp1y,0)\n              var(tMode,0)\n              var(talpha,0)\n              var(tbeta,0)\n              set(tMode,\'this.mode\')\n              if (tMode==1) {\n                  set(\'this.layers.1.rotateAngle\',tvalueRatio)\n              }\n              if (tMode==0) {\n                  set(\'this.layers.1.rotateAngle\',tvalueRatio)\n              }\n              add(tvalueRatio,45)\n              if (tMode==1) {\n                  set(tp1x,\'this.layers.1.x\')\n                  set(tp1y,\'this.layers.1.y\')\n                  set(\'this.layers.2.subLayers.roi.p1x\',tp1x)\n                  set(\'this.layers.2.subLayers.roi.p1y\',tp1y)\n                  if (tclockwise==1) {\n                      set(\'this.layers.2.subLayers.roi.alpha\',tStartAngle)\n                      set(\'this.layers.2.subLayers.roi.beta\',tvalueRatio)\n                  }else{\n                      set(\'this.layers.2.subLayers.roi.alpha\',tvalueRatio)\n                      set(\'this.layers.2.subLayers.roi.beta\',tStartAngle)\n                  }\n\n              }else{\n                  if (tMode==2) {\n                      set(tp1x,\'this.layers.0.width\')\n                      set(tp1y,\'this.layers.0.height\')\n                      divide(tp1x,2)\n                      divide(tp1y,2)\n                      set(\'this.layers.0.subLayers.roi.p1x\',tp1x)\n                      set(\'this.layers.0.subLayers.roi.p1y\',tp1y)\n                      if (tclockwise==1) {\n                          set(\'this.layers.0.subLayers.roi.alpha\',tStartAngle)\n                          set(\'this.layers.0.subLayers.roi.beta\',tvalueRatio)\n                      }else{\n                          set(\'this.layers.0.subLayers.roi.alpha\',tvalueRatio)\n                          set(\'this.layers.0.subLayers.roi.beta\',tStartAngle)\n                      }\n                  }\n              }\n            }\n            checkalarm(0)\n            \n            set(\'this.oldValue\',ttagValue)\n            if (tTotalFrame>0) {\n              startanimation(0)\n            }\n\n        ',
        onAnimationFrame: '\n          var(tStartTag,0)\n          var(tStopTag,0)\n          set(tStartTag,\'this.startAnimationTag\')\n          set(tStopTag,\'this.stopAnimationTag\')\n          var(tTotalFrame,0)\n          set(tTotalFrame,\'this.totalFrame\')\n          var(tCurFrame,0)\n          set(tCurFrame,\'this.nowFrame\')\n          var(tCurTag,0)\n          var(tDist,0)\n          set(tDist,tStopTag)\n          minus(tDist,tStartTag)\n          multiply(tDist,tCurFrame)\n          divide(tDist,tTotalFrame)\n          add(tDist,tStartTag)\n          set(tCurTag,tDist)\n          set(\'this.curAnimationTag\',tCurTag) //set AnTag \n          var(toffsetValue,0)\n          var(tminValue,0)\n          var(tmaxValue,0)\n          var(tminAngle,0)\n          var(tmaxAngle,0)\n          var(ttagValue,0)\n          var(tangleDist,0)   \n          set(tminValue,\'this.minValue\')\n          set(tmaxValue,\'this.maxValue\')\n          set(tminAngle,\'this.minAngle\')\n          set(tmaxAngle,\'this.maxAngle\')\n          set(tangleDist,tmaxAngle)\n          minus(tangleDist,tminAngle)\n          var(ttempDist,0)\n          set(toffsetValue,\'this.otherAttrs.0\')\n          set(ttagValue,tCurTag)\n          if (ttagValue>tmaxValue) {\n              set(ttagValue,tmaxValue)\n          }\n          if (ttagValue<tminValue) {\n              set(ttagValue,tminValue)\n          }\n          set(ttempDist,tmaxValue)\n          minus(ttempDist,tminValue)\n          var(ttagDist,0)\n          set(ttagDist,ttagValue)\n          minus(ttagValue,tminValue)\n          var(tvalueRatio,0)\n          set(tvalueRatio,ttagDist)\n          multiply(tvalueRatio,tangleDist)\n          divide(tvalueRatio,ttempDist)\n          add(tvalueRatio,tminAngle)\n          var(tclockwise,0)\n          var(tStartAngle,0)\n          set(tclockwise,\'this.otherAttrs.1\')\n          if (tclockwise==1) {\n              add(tvalueRatio,45)\n              add(tvalueRatio,toffsetValue)\n              add(tStartAngle,toffsetValue)\n              add(tStartAngle,90)\n          }else{\n              var(uValueRatio,0)\n              minus(uValueRatio,tvalueRatio)\n              minus(uValueRatio,toffsetValue)\n              set(tvalueRatio,uValueRatio)\n              minus(tStartAngle,toffsetValue)\n              add(tStartAngle,90)\n              add(tvalueRatio,45)\n          }\n          var(tp1x,0)\n          var(tp1y,0)\n          var(tMode,0)\n          var(talpha,0)\n          var(tbeta,0)\n          set(tMode,\'this.mode\')\n          if (tMode==1) {\n              set(\'this.layers.1.rotateAngle\',tvalueRatio)\n          }\n          if (tMode==0) {\n              set(\'this.layers.1.rotateAngle\',tvalueRatio)\n          }\n          add(tvalueRatio,45)\n          if (tMode==1) {\n              set(tp1x,\'this.layers.1.x\')\n              set(tp1y,\'this.layers.1.y\')\n              set(\'this.layers.2.subLayers.roi.p1x\',tp1x)\n              set(\'this.layers.2.subLayers.roi.p1y\',tp1y)\n              if (tclockwise==1) {\n                  set(\'this.layers.2.subLayers.roi.alpha\',tStartAngle)\n                  set(\'this.layers.2.subLayers.roi.beta\',tvalueRatio)\n              }else{\n                  set(\'this.layers.2.subLayers.roi.alpha\',tvalueRatio)\n                  set(\'this.layers.2.subLayers.roi.beta\',tStartAngle)\n              }\n\n          }else{\n              if (tMode==2) {\n                  set(tp1x,\'this.layers.0.width\')\n                  set(tp1y,\'this.layers.0.height\')\n                  divide(tp1x,2)\n                  divide(tp1y,2)\n                  set(\'this.layers.0.subLayers.roi.p1x\',tp1x)\n                  set(\'this.layers.0.subLayers.roi.p1y\',tp1y)\n                  if (tclockwise==1) {\n                      set(\'this.layers.0.subLayers.roi.alpha\',tStartAngle)\n                      set(\'this.layers.0.subLayers.roi.beta\',tvalueRatio)\n                  }else{\n                      set(\'this.layers.0.subLayers.roi.alpha\',tvalueRatio)\n                      set(\'this.layers.0.subLayers.roi.beta\',tStartAngle)\n                  }\n              }\n          }\n          \n        '
    };

    WidgetCommands['RotateImg'] = {
        onInitialize: '\n        ',
        onTagChange: '\n            var(tTagValue,0)\n            getTag(tTagValue)\n            var(tMinAngle,0)\n            var(tMaxAngle,0)\n            var(tWidth,0)\n            set(tWidth,\'this.layers.0.width\')\n            divide(tWidth,2)\n            var(tHeight,0)\n            set(tHeight,\'this.layers.0.height\')\n            divide(tHeight,2)\n            set(tMinAngle,\'this.minValue\')\n            set(tMaxAngle,\'this.maxValue\')\n            if (tTagValue>tMaxAngle) {\n                set(tTagValue,tMaxAngle)\n            }\n            if(tTagValue<tMinAngle){\n                set(tTagValue,tMinAngle)\n            }\n            set(\'this.layers.0.rotateCenterX\',tWidth)\n            set(\'this.layers.0.rotateCenterY\',tHeight)\n            set(\'this.layers.0.rotateAngle\',tTagValue)\n        '
    };

    WidgetCommands['Progress'] = {
        onInitialize: '\n            var(mod,0)\n            set(mod,\'this.mode\')\n            var(cur,0)\n            set(cur,\'this.otherAttrs.19\')\n            set(\'this.layers.0.hidden\',0)\n            set(\'this.layers.1.hidden\',0)\n            if(cur==1){\n                set(\'this.layers.2.hidden\',0)\n                set(\'this.layers.2.x\',0)\n            }\n        ',
        onMouseUp: '\n            \n        ',
        onMouseDown: '\n            \n        ',
        onTagChange: '\n            var(arr,0)                //\u65B9\u5411\n            set(arr,\'this.arrange\')        \n            var(tTotalFrame,0)\n            set(tTotalFrame,\'this.totalFrame\')\n            var(m,0)\n            set(m,\'this.mode\')\n            var(tTag,0)\n            getTag(tTag)\n            var(min,0)\n            set(min,\'this.minValue\')\n            var(max,0)\n            set(max,\'this.maxValue\')\n            if (tTotalFrame>0) {\n              var(tOldValue,0)\n              set(tOldValue,\'this.oldValue\')\n              set(\'this.startAnimationTag\',tOldValue)\n              set(\'this.stopAnimationTag\',tTag)\n            }else{\n              if(tTag>=min){\n               if(tTag<=max){\n                  var(v,0)\n                  var(temp1,0)\n                  var(temp2,0)\n                  set(temp1,tTag)\n                  set(temp2,max)\n                  minus(temp1,min)\n                  minus(temp2,min)\n                  var(w,0)\n                  set(w,\'this.layers.0.width\')\n                  var(h,0)\n                  set(h,\'this.layers.0.height\')\n                  if(m==0){\n                    if(arr==0){\n                      //\u6C34\u5E73\n                      multiply(temp1,w)\n                      divide(temp1,temp2)\n                      set(\'this.layers.1.subLayers.roi.p1x\',0)\n                      set(\'this.layers.1.subLayers.roi.p1y\',0)\n                      set(\'this.layers.1.subLayers.roi.p2x\',temp1)\n                      set(\'this.layers.1.subLayers.roi.p2y\',0)\n                      set(\'this.layers.1.subLayers.roi.p3x\',temp1)\n                      set(\'this.layers.1.subLayers.roi.p3y\',h)\n                      set(\'this.layers.1.subLayers.roi.p4x\',0)\n                      set(\'this.layers.1.subLayers.roi.p4y\',h)\n                      set(\'this.layers.1.hidden\',0)\n                    }else{\n                      //\u7AD6\u76F4\n                      multiply(temp1,h)\n                      divide(temp1,temp2)\n                      set(temp2,h)\n                      minus(temp2,temp1)\n                      set(\'this.layers.1.subLayers.roi.p1x\',0)\n                      set(\'this.layers.1.subLayers.roi.p1y\',temp2)\n                      set(\'this.layers.1.subLayers.roi.p2x\',w)\n                      set(\'this.layers.1.subLayers.roi.p2y\',temp2)\n                      set(\'this.layers.1.subLayers.roi.p3x\',w)\n                      set(\'this.layers.1.subLayers.roi.p3y\',h)\n                      set(\'this.layers.1.subLayers.roi.p4x\',0)\n                      set(\'this.layers.1.subLayers.roi.p4y\',h)\n                      set(\'this.layers.1.hidden\',0)\n                    }\n                      \n                  }\n                  if(m==1){\n                      var(r1,0)\n                      set(r1,\'this.otherAttrs.0\')\n                      var(g1,0)\n                      set(g1,\'this.otherAttrs.1\')\n                      var(b1,0)\n                      set(b1,\'this.otherAttrs.2\')\n                      var(a1,0)\n                      set(a1,\'this.otherAttrs.3\')\n                      var(r2,0)\n                      set(r2,\'this.otherAttrs.4\')\n                      var(g2,0)\n                      set(g2,\'this.otherAttrs.5\')\n                \n                      var(b2,0)\n                      set(b2,\'this.otherAttrs.6\')\n                      var(a2,0)\n                      set(a2,\'this.otherAttrs.7\')\n                      var(rt,0)\n                      set(rt,r2)\n                      var(gt,0)\n                      set(gt,g2)\n                      var(bt,0)\n                      set(bt,b2)\n                      var(at,0)\n                      set(at,a2)\n                      minus(rt,r1)\n                      minus(gt,g1)\n                      minus(bt,b1)\n                      minus(at,a1)\n                      multiply(rt,temp1)\n                      multiply(gt,temp1)\n                      multiply(bt,temp1)\n                      multiply(at,temp1)\n                      divide(rt,temp2)\n                      divide(gt,temp2)\n                      divide(bt,temp2)\n                      divide(at,temp2)\n                      add(rt,r1)\n                      add(gt,g1)\n                      add(bt,b1)\n                      add(at,a1)\n                      set(\'this.layers.1.subLayers.color.r\',rt)\n                      set(\'this.layers.1.subLayers.color.g\',gt)\n                      set(\'this.layers.1.subLayers.color.b\',bt)\n                      set(\'this.layers.1.subLayers.color.a\',at)\n                      \n                      if(arr==0){\n                        //\u6C34\u5E73\n                        multiply(temp1,w)\n                        divide(temp1,temp2)\n                        set(\'this.layers.1.width\',temp1)\n                      }else{\n                        //\u7AD6\u76F4\n                        multiply(temp1,h)\n                        divide(temp1,temp2)\n                        set(temp2,h)\n                        minus(temp2,temp1)\n                        set(\'this.layers.1.y\',temp2)\n                        set(\'this.layers.1.height\',temp1)\n                      }\n                      set(\'this.layers.1.hidden\',0)\n                  }\n                  if(m==3){\n                      var(thresM,0)\n                      set(thresM,\'this.otherAttrs.0\')\n                      var(r1,0)\n                      set(r1,\'this.otherAttrs.3\')\n                      var(g1,0)\n                      set(g1,\'this.otherAttrs.4\')\n                      var(b1,0)\n                      set(b1,\'this.otherAttrs.5\')\n                      var(a1,0)\n                      set(a1,\'this.otherAttrs.6\')\n                      var(r2,0)\n                      set(r2,\'this.otherAttrs.7\')\n                      var(g2,0)\n                      set(g2,\'this.otherAttrs.8\')\n                      var(b2,0)\n                      set(b2,\'this.otherAttrs.9\')\n                      var(a2,0)\n                      set(a2,\'this.otherAttrs.10\')\n                      if(thresM==1){\n                         var(thres1,0)\n                         set(thres1,\'this.otherAttrs.1\')\n                         if(tTag<thres1){\n                            set(\'this.layers.1.subLayers.color.r\',r1)\n                            set(\'this.layers.1.subLayers.color.g\',g1)\n                            set(\'this.layers.1.subLayers.color.b\',b1)\n                            set(\'this.layers.1.subLayers.color.a\',a1)\n                         }else{\n                            set(\'this.layers.1.subLayers.color.r\',r2)\n                            set(\'this.layers.1.subLayers.color.g\',g2)\n                            set(\'this.layers.1.subLayers.color.b\',b2)\n                            set(\'this.layers.1.subLayers.color.a\',a2)\n                         }\n                      }\n                      if(thresM==2){\n                         var(r3,0)\n                         set(r3,\'this.otherAttrs.11\')\n                         var(g3,0)\n                         set(g3,\'this.otherAttrs.12\')\n                         var(b3,0)\n                         set(b3,\'this.otherAttrs.13\')\n                         var(a3,0)\n                         set(a3,\'this.otherAttrs.14\')\n                         var(thres1,0)\n                         set(thres1,\'this.otherAttrs.1\')\n                         var(thres2,0)\n                         set(thres2,\'this.otherAttrs.2\')\n                         if(tTag<thres1){\n                            set(\'this.layers.1.subLayers.color.r\',r1)\n                            set(\'this.layers.1.subLayers.color.g\',g1)\n                            set(\'this.layers.1.subLayers.color.b\',b1)\n                            set(\'this.layers.1.subLayers.color.a\',a1)\n                         }else{\n                            if(tTag<thres2){\n                                set(\'this.layers.1.subLayers.color.r\',r2)\n                                set(\'this.layers.1.subLayers.color.g\',g2)\n                                set(\'this.layers.1.subLayers.color.b\',b2)\n                                set(\'this.layers.1.subLayers.color.a\',a2)\n                            }else{\n                                set(\'this.layers.1.subLayers.color.r\',r3)\n                                set(\'this.layers.1.subLayers.color.g\',g3)\n                                set(\'this.layers.1.subLayers.color.b\',b3)\n                                set(\'this.layers.1.subLayers.color.a\',a3)\n                            }\n                         }\n\n                      }\n                      \n                      if(arr==0){\n                        //\u6C34\u5E73\n                        multiply(temp1,w)\n                        divide(temp1,temp2)\n                        set(\'this.layers.1.width\',temp1)\n                        \n                      }else{\n                        //\u7AD6\u76F4\n                        multiply(temp1,h)\n                        divide(temp1,temp2)\n                        set(temp2,h)\n                        minus(temp2,temp1)\n                        set(\'this.layers.1.y\',temp2)\n                        set(\'this.layers.1.height\',temp1)\n                      }\n                      \n                      set(\'this.layers.1.hidden\',0)\n                  }\n               }\n               var(cur,0)\n               set(cur,\'this.otherAttrs.19\')\n               if(cur==1){\n                  set(\'this.layers.2.x\',temp1)\n               }\n              }\n            }\n            \n            checkalarm(0)\n            set(\'this.oldValue\',tTag)\n            if (tTotalFrame>0) {\n              startanimation(0)\n            }\n\n        ',
        onAnimationFrame: '\n          var(arr,0)\n          set(arr,\'this.arrange\')\n          var(m,0)\n          set(m,\'this.mode\')\n          var(tTag,0)\n\n          var(tStartTag,0)\n          var(tStopTag,0)\n          set(tStartTag,\'this.startAnimationTag\')\n          set(tStopTag,\'this.stopAnimationTag\')\n          var(tTotalFrame,0)\n          set(tTotalFrame,\'this.totalFrame\')\n          var(tCurFrame,0)\n          set(tCurFrame,\'this.nowFrame\')\n          var(tCurTag,0)\n          var(tDist,0)\n          set(tDist,tStopTag)\n          minus(tDist,tStartTag)\n          multiply(tDist,tCurFrame)\n          divide(tDist,tTotalFrame)\n          add(tDist,tStartTag)\n          set(tTag,tDist)\n          set(\'this.curAnimationTag\',tTag)\n          var(min,0)\n          set(min,\'this.minValue\')\n          var(max,0)\n          set(max,\'this.maxValue\')\n          if(tTag>=min){\n             if(tTag<=max){\n                var(v,0)\n                var(temp1,0)\n                var(temp2,0)\n                set(temp1,tTag)\n                set(temp2,max)\n                minus(temp1,min)\n                minus(temp2,min)\n                var(w,0)\n                set(w,\'this.layers.0.width\')\n                var(h,0)\n                set(h,\'this.layers.0.height\')\n                if(m==0){\n                    if(arr==0){\n                      //\u6C34\u5E73\n                      multiply(temp1,w)\n                      divide(temp1,temp2)\n                      set(\'this.layers.1.subLayers.roi.p1x\',0)\n                      set(\'this.layers.1.subLayers.roi.p1y\',0)\n                      set(\'this.layers.1.subLayers.roi.p2x\',temp1)\n                      set(\'this.layers.1.subLayers.roi.p2y\',0)\n                      set(\'this.layers.1.subLayers.roi.p3x\',temp1)\n                      set(\'this.layers.1.subLayers.roi.p3y\',h)\n                      set(\'this.layers.1.subLayers.roi.p4x\',0)\n                      set(\'this.layers.1.subLayers.roi.p4y\',h)\n                      set(\'this.layers.1.hidden\',0)\n                    }else{\n                      //\u7AD6\u76F4\n                      multiply(temp1,h)\n                      divide(temp1,temp2)\n                      set(temp2,h)\n                      minus(temp2,temp1)\n                      set(\'this.layers.1.subLayers.roi.p1x\',0)\n                      set(\'this.layers.1.subLayers.roi.p1y\',temp2)\n                      set(\'this.layers.1.subLayers.roi.p2x\',w)\n                      set(\'this.layers.1.subLayers.roi.p2y\',temp2)\n                      set(\'this.layers.1.subLayers.roi.p3x\',w)\n                      set(\'this.layers.1.subLayers.roi.p3y\',h)\n                      set(\'this.layers.1.subLayers.roi.p4x\',0)\n                      set(\'this.layers.1.subLayers.roi.p4y\',h)\n                      set(\'this.layers.1.hidden\',0)\n                    }\n                }\n                if(m==1){\n                    var(r1,0)\n                    set(r1,\'this.otherAttrs.0\')\n                    var(g1,0)\n                    set(g1,\'this.otherAttrs.1\')\n                    var(b1,0)\n                    set(b1,\'this.otherAttrs.2\')\n                    var(a1,0)\n                    set(a1,\'this.otherAttrs.3\')\n                    var(r2,0)\n                    set(r2,\'this.otherAttrs.4\')\n                    var(g2,0)\n                    set(g2,\'this.otherAttrs.5\')\n                    var(b2,0)\n                    set(b2,\'this.otherAttrs.6\')\n                    var(a2,0)\n                    set(a2,\'this.otherAttrs.7\')\n                    var(rt,0)\n                    set(rt,r2)\n                    var(gt,0)\n                    set(gt,g2)\n                    var(bt,0)\n                    set(bt,b2)\n                    var(at,0)\n                    set(at,a2)\n                    minus(rt,r1)\n                    minus(gt,g1)\n                    minus(bt,b1)\n                    minus(at,a1)\n                    multiply(rt,temp1)\n                    multiply(gt,temp1)\n                    multiply(bt,temp1)\n                    multiply(at,temp1)\n                    divide(rt,temp2)\n                    divide(gt,temp2)\n                    divide(bt,temp2)\n                    divide(at,temp2)\n                    add(rt,r1)\n                    add(gt,g1)\n                    add(bt,b1)\n                    add(at,a1)\n                    set(\'this.layers.1.subLayers.color.r\',rt)\n                    set(\'this.layers.1.subLayers.color.g\',gt)\n                    set(\'this.layers.1.subLayers.color.b\',bt)\n                    set(\'this.layers.1.subLayers.color.a\',at)\n                    if(arr==0){\n                        //\u6C34\u5E73\n                        multiply(temp1,w)\n                        divide(temp1,temp2)\n                        set(\'this.layers.1.width\',temp1)\n                      }else{\n                        //\u7AD6\u76F4\n                        multiply(temp1,h)\n                        divide(temp1,temp2)\n                        set(temp2,h)\n                        minus(temp2,temp1)\n                        set(\'this.layers.1.y\',temp2)\n                        set(\'this.layers.1.height\',temp1)\n                      }\n                    set(\'this.layers.1.hidden\',0)\n                }\n                if(m==3){\n                    var(thresM,0)\n                    set(thresM,\'this.otherAttrs.0\')\n                    var(r1,0)\n                    set(r1,\'this.otherAttrs.3\')\n                    var(g1,0)\n                    set(g1,\'this.otherAttrs.4\')\n                    var(b1,0)\n                    set(b1,\'this.otherAttrs.5\')\n                    var(a1,0)\n                    set(a1,\'this.otherAttrs.6\')\n                    var(r2,0)\n                    set(r2,\'this.otherAttrs.7\')\n                    var(g2,0)\n                    set(g2,\'this.otherAttrs.8\')\n                    var(b2,0)\n                    set(b2,\'this.otherAttrs.9\')\n                    var(a2,0)\n                    set(a2,\'this.otherAttrs.10\')\n                    if(thresM==1){\n                       var(thres1,0)\n                       set(thres1,\'this.otherAttrs.1\')\n                       if(tTag<thres1){\n                          set(\'this.layers.1.subLayers.color.r\',r1)\n                          set(\'this.layers.1.subLayers.color.g\',g1)\n                          set(\'this.layers.1.subLayers.color.b\',b1)\n                          set(\'this.layers.1.subLayers.color.a\',a1)\n                       }else{\n                          set(\'this.layers.1.subLayers.color.r\',r2)\n                          set(\'this.layers.1.subLayers.color.g\',g2)\n                          set(\'this.layers.1.subLayers.color.b\',b2)\n                          set(\'this.layers.1.subLayers.color.a\',a2)\n                       }\n                    }\n                    if(thresM==2){\n                       var(r3,0)\n                       set(r3,\'this.otherAttrs.11\')\n                       var(g3,0)\n                       set(g3,\'this.otherAttrs.12\')\n                       var(b3,0)\n                       set(b3,\'this.otherAttrs.13\')\n                       var(a3,0)\n                       set(a3,\'this.otherAttrs.14\')\n                       var(thres1,0)\n                       set(thres1,\'this.otherAttrs.1\')\n                       var(thres2,0)\n                       set(thres2,\'this.otherAttrs.2\')\n                       if(tTag<thres1){\n                          set(\'this.layers.1.subLayers.color.r\',r1)\n                          set(\'this.layers.1.subLayers.color.g\',g1)\n                          set(\'this.layers.1.subLayers.color.b\',b1)\n                          set(\'this.layers.1.subLayers.color.a\',a1)\n                       }else{\n                          if(tTag<thres2){\n                              set(\'this.layers.1.subLayers.color.r\',r2)\n                              set(\'this.layers.1.subLayers.color.g\',g2)\n                              set(\'this.layers.1.subLayers.color.b\',b2)\n                              set(\'this.layers.1.subLayers.color.a\',a2)\n                          }else{\n                              set(\'this.layers.1.subLayers.color.r\',r3)\n                              set(\'this.layers.1.subLayers.color.g\',g3)\n                              set(\'this.layers.1.subLayers.color.b\',b3)\n                              set(\'this.layers.1.subLayers.color.a\',a3)\n                          }\n                       }\n\n                   }\n                   if(arr==0){\n                     //\u6C34\u5E73\n                     multiply(temp1,w)\n                     divide(temp1,temp2)\n                     set(\'this.layers.1.width\',temp1)\n                      \n                   }else{\n                     //\u7AD6\u76F4\n                     multiply(temp1,h)\n                     divide(temp1,temp2)\n                     set(temp2,h)\n                     minus(temp2,temp1)\n                     set(\'this.layers.1.y\',temp2)\n                     set(\'this.layers.1.height\',temp1)\n                   }\n                      \n                  set(\'this.layers.1.hidden\',0)\n                }\n             }\n             var(cur,0)\n             set(cur,\'this.otherAttrs.19\')\n             if(cur==1){\n                set(\'this.layers.2.x\',temp1)\n             }\n             \n\n             //reset oldValue\n             getTag(tTag)\n             set(\'this.oldValue\',tTag)\n\n             \n            }\n          \n        '
    };

    WidgetCommands['TextArea'] = {
        onInitialize: ''
    };

    WidgetCommands['Switch'] = {
        onInitialize: '\n            set(\'this.layers.0.hidden\',1)\n        ',
        onMouseUp: '\n        ',
        onMouseDown: '\n        ',
        onTagChange: '\n            var(tag,0)\n            var(bt,0)\n            set(bt,\'this.otherAttrs.0\')\n            getTag(tag)\n            var(tBt,0)\n            set(tBt,bt)\n            var(t,0)\n            set(t,tag)\n            while(tBt>=0){\n                if(tBt==0){\n                    mod(t,2)\n                    if(t==1){\n                        set(\'this.layers.0.hidden\',0)\n                    }else{\n                        set(\'this.layers.0.hidden\',1)\n                    }\n                }\n                divide(t,2)\n                minus(tBt,1)\n            }\n        '
    };

    WidgetCommands['ScriptTrigger'] = {
        onInitialize: '',
        onTagChange: '\n            var(tTagValue,0)\n            getTag(tTagValue)\n            checkalarm(0)\n            set(\'this.oldValue\',tTagValue)\n        '
    };

    WidgetCommands['Video'] = {};

    WidgetCommands['Slide'] = {
        onInitialize: '\n        ',
        onMouseUp: '\n        ',
        onMouseDown: '\n        ',
        onTagChange: '\n            var(len,0)\n            set(len,\'this.layers.length\')\n            while(len>0){\n                minus(len,1)\n                set(\'this.layers.len.hidden\',1)\n            }\n            var(t,0)\n            getTag(t)\n            set(\'this.layers.t.hidden\',0)\n\n        '
    };

    WidgetCommands['Animation'] = {
        onInitialize: '\n        ',
        onMouseUp: '\n        ',
        onMouseDown: '\n        ',
        onTagChange: '\n            var(len,0)\n            set(len,\'this.layers.length\')\n            while(len>0){\n                minus(len,1)\n                set(\'this.layers.len.hidden\',1)\n            }\n            var(t,0)\n            getTag(t)\n            set(\'this.layers.t.hidden\',0)\n\n        '
    };

    WidgetCommands['SlideBlock'] = {
        onInitialize: '\n        ',
        onMouseUp: '\n        ',
        onMouseDown: '\n            var(tBx,0)\n            var(tBy,0)\n            var(tBw,0)\n            var(tBh,0)\n            var(tInnerX,0)\n            var(tInnerY,0)\n            var(tBrx,0)\n            var(tBry,0)\n            set(tBx,\'this.layers.1.x\')\n            set(tBy,\'this.layers.1.y\')\n            set(tBw,\'this.layers.1.width\')\n            set(tBh,\'this.layers.1.height\')\n            set(tBrx,tBx)\n            add(tBrx,tBw)\n            set(tBry,tBy)\n            add(tBry,tBh)\n            set(tInnerX,\'this.innerX\')\n            set(tInnerY,\'this.innerY\')\n            set(\'this.otherAttrs.4\',0)\n            if (tInnerX>=tBx) {\n                if(tInnerX < tBrx){\n                    if (tInnerY>=tBy) {\n                        if (tInnerY<tBry) {\n                            set(\'this.otherAttrs.4\',1)\n                            set(\'this.otherAttrs.0\',tInnerX)\n                            set(\'this.otherAttrs.1\',tInnerY)\n                            set(\'this.otherAttrs.5\',tBx)\n                            set(\'this.otherAttrs.6\',tBy)\n                        }\n                    }\n                }\n            }\n        ',
        onMouseMove: '\n            var(tArrange,0)\n            set(tArrange,\'this.arrange\')\n            var(tInnerX,0)\n            var(tInnerY,0)\n            set(tInnerX,\'this.innerX\')\n            set(tInnerY,\'this.innerY\')\n            var(tHit,0)\n            set(tHit,\'this.otherAttrs.4\')\n            var(tDist,0)\n            var(tLastX,0)\n            var(tBx,0)\n            var(tMaxLength,0)\n            var(tBw,0)\n            var(tMinValue,0)\n            var(tMaxValue,0)\n            var(tValueDist,0)\n            var(tOriginX,0)\n            var(tOriginY,0)\n            if (tHit==1) {\n                set(tOriginX,\'this.otherAttrs.5\')\n                set(tOriginY,\'this.otherAttrs.6\')\n                \n                if (tArrange==0) {\n                    set(tLastX,\'this.otherAttrs.0\')\n                    \n                    set(tDist,tInnerX)\n                    minus(tDist,tLastX)\n                    set(tBx,tOriginX)\n                    add(tBx,tDist)\n                    set(tBw,\'this.layers.1.width\')\n                    set(tMaxLength,\'this.info.width\')\n                    minus(tMaxLength,tBw)\n                    \n                }else{\n                    set(tLastX,\'this.otherAttrs.1\')\n                    \n                    set(tDist,tInnerY)\n                    minus(tDist,tLastX)\n                    set(tBx,tOriginY)\n                    add(tBx,tDist)\n                    set(tBw,\'this.layers.1.height\')\n                    set(tMaxLength,\'this.info.height\')\n                    minus(tMaxLength,tBw)\n                }\n\n                if (tBx<0) {\n                    set(tBx,0)\n                }\n                if (tBx>tMaxLength) {\n                    set(tBx,tMaxLength)\n                }\n                set(tMinValue,\'this.minValue\')\n                set(tMaxValue,\'this.maxValue\')\n                set(tValueDist,tMaxValue)\n                minus(tValueDist,tMinValue)\n                multiply(tBx,tValueDist)\n                divide(tBx,tMaxLength)\n                add(tBx,tMinValue)\n                setTag(tBx)\n\n            }\n        ',
        onTagChange: '\n            var(tMinValue,0)\n            var(tMaxValue,0)\n            var(tValueDist,0)\n            var(tTagValue,0)\n            getTag(tTagValue)\n            var(tCurValue,0)\n            var(tMaxLength,0)\n            var(tBw,0)\n            set(tCurValue,tTagValue)\n            set(tMinValue,\'this.minValue\')\n            set(tMaxValue,\'this.maxValue\')\n            if (tCurValue>tMaxValue) {\n                set(tCurValue,tMaxValue)\n            }\n            if (tCurValue<tMinValue) {\n                set(tCurValue,tMinValue)\n            }\n            var(tArrange,0)\n            set(tArrange,\'this.arrange\')\n            if (tArrange==0) {\n                set(tMaxLength,\'this.info.width\')\n                set(tBw,\'this.layers.1.width\')\n            }else{\n                set(tMaxLength,\'this.info.height\')\n                set(tBw,\'this.layers.1.height\')\n            }\n            \n            minus(tMaxLength,tBw)\n            var(tValueDist,0)\n            var(tValueRatio,0)\n            set(tValueDist,tMaxValue)\n            minus(tValueDist,tMinValue)\n            set(tValueRatio,tCurValue)\n            minus(tValueRatio,tMinValue)\n            multiply(tValueRatio,tMaxLength)\n            divide(tValueRatio,tValueDist)\n            if (tArrange==0) {\n                set(\'this.layers.1.x\',tValueRatio)\n            }else{\n                set(\'this.layers.1.y\',tValueRatio)\n            }\n            checkalarm(0)\n            set(\'this.oldValue\',tCurValue)\n\n\n        '
    };

    WidgetCommands['Num'] = {
        onInitialize: '\n            // var(tInitValue,0)\n            // var(tLen,0)\n            // var(tIndex,0)\n            // var(tDecimalCount,0)\n            // var(tDecimalIndex,0)\n            // //init value\n            // add(tInitValue,48)\n            // set(tLen,\'this.layers.length\')\n            // set(tDecimalCount,\'this.otherAttrs.3\')\n            // set(tDecimalIndex,tLen)\n            // if(tDecimalCount>0){\n            //     minus(tDecimalIndex,1)\n            //     minus(tDecimalIndex,tDecimalCount)\n            // }\n            // // print(tDecimalIndex,\'tDecimalIndex\')\n            // // print(tLen,\'tLen\')\n            // while(tIndex<tLen){\n            //     // print(tIndex,\'tIndex\') \n            //     if(tDecimalIndex==tIndex){\n            //         set(\'this.layers.tIndex.subLayers.font.text\',46)\n            //     }else{\n            //         // print(tIndex,\'tIndex\')\n            //         set(\'this.layers.tIndex.subLayers.font.text\',tInitValue)\n            //     }\n            //     add(tIndex,1)\n            // }\n        ',
        onMouseUp: '\n        ',
        onMouseDown: '\n        ',
        onTagChange: '\n            //\u6E05\u7A7A\u6240\u6709\u6570\u5B57\u5185\u5BB9\n            var(tIndex,0)   //\u7528\u4E8E\u5FAA\u73AF\n            var(tLaysLen,0)     //\u56FE\u5C42\u957F\u5EA6\n            set(tLaysLen,\'this.layers.length\')\n            set(tIndex,0)\n            while(tIndex<tLaysLen){\n                set(\'this.layers.tIndex.subLayers.font.text\',0)\n                add(tIndex,1)\n            }\n            \n           \n            \n            //\u521D\u59CB\u5316\u53D8\u91CF\n            var(tCurVal,0)        //\u5F53\u524D\u503C\n            var(tTrueCurVal,0)    //backup of tCurVal\n            var(tMaxVal,0)        //\u6700\u5927\u503C\n            var(tMinVal,0)        //\u6700\u5C0F\u503C\n            var(hasFrontZero,0)   //\u662F\u5426\u6709\u524D\u5BFC\u96F6\n            var(hasSymbol,0)      //\u662F\u5426\u6709\u7B26\u53F7\n            var(decimalCnt,0)     //\u5C0F\u6570\u4F4D\u6570\n            var(numOfDigits,0)    //\u5B57\u7B26\u6570\n            var(overflow,0)       //\u6EA2\u51FA\u6A21\u5F0F\uFF0C0\u4E0D\u663E\u793A\uFF0C1\u663E\u793A\n            var(fontWidth,0)      //\u5B57\u7B26\u56FE\u5C42\u5BBD\u5EA6\n            var(align,0)          //\u5BF9\u9F50\u65B9\u5F0F\uFF0C0\u5DE6\uFF0C1\u4E2D\uFF0C2\u53F3\n            var(widgetWidth,0)    //\u63A7\u4EF6\u5BBD\u5EA6\n            var(fontSpacing,0)    //\u5B57\u7B26\u95F4\u8DDD\n            var(paddingRatio,0)   //padddingRatio\n            \n            var(initPosX,0)       //\u7ED8\u5236\u8D77\u59CB\u5750\u6807\n            var(symbolCnt,0)      //\u8981\u7ED8\u5236\u7684\u7B26\u53F7\u7684\u4E2A\u6570\n            var(decimalIndex,0)   //\u5C0F\u6570\u70B9\u7684\u6807\u8BC6\u5750\u6807\uFF0C\u5373\u5728\u7B2C\u51E0\u4E2A\u56FE\u5C42\u4F4D\u7F6E\u7ED8\u5236\u5C0F\u6570\u70B9\n            var(decimalCnt,0)     //\u8981\u7ED8\u5236\u7684\u5C0F\u6570\u70B9\u7684\u4E2A\u6570\n            var(decimalZeroCnt,0) //\u8981\u8865\u9F50\u7684\u5C0F\u6570\u70B9\u540E\u76840\u7684\u4E2A\u6570\n            var(frontZeroCnt,0)   //\u8981\u7ED8\u5236\u7684\u524D\u5BFC\u96F6\u7684\u4E2A\u6570\n            var(curValCnt,0)      //\u8981\u7ED8\u5236\u7684\u5F53\u524D\u503C\u6570\u5B57\u7684\u4E2A\u6570\n            var(allFontCnt,0)     //\u8981\u7ED8\u5236\u7684\u603B\u5B57\u7B26\u7684\u4E2A\u6570\n            var(tempVal,0)        //\u4E34\u65F6\u53D8\u91CF\n            var(needDraw,0)       //\u662F\u5426\u9700\u8981\u7ED8\u5236\uFF0C\u5728\u6EA2\u51FA\u4E0D\u663E\u793A\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u9700\u8981\u7ED8\u5236\u30020\u4E0D\u9700\u8981\uFF0C1\u9700\u8981\n            var(isOverflow,0)     //\u662F\u5426\u6EA2\u51FA\n            var(tTotalFrame,0)    //\u603B\u5E27\u6570\n            \n            getTag(tCurVal)\n            print(\'tagVal\',tCurVal)\n           \n            set(tTotalFrame,\'this.totalFrame\')\n            \n            if(tTotalFrame > 0){\n                set(tTrueCurVal,tCurVal)\n                set(tCurVal,\'this.oldValue\')\n            }   \n            set(tMaxVal,\'this.maxValue\')\n            set(tMinVal,\'this.minValue\')\n            set(hasFrontZero,\'this.otherAttrs.1\')\n            set(hasSymbol,\'this.otherAttrs.2\')\n            set(decimalCnt,\'this.otherAttrs.3\')\n            set(numOfDigits,\'this.otherAttrs.4\')\n            set(overflow,\'this.otherAttrs.5\')\n            set(fontWidth,\'this.otherAttrs.6\')\n            set(align,\'this.otherAttrs.7\')\n            set(widgetWidth,\'this.otherAttrs.8\')\n            set(fontSpacing,\'this.otherAttrs.9\')\n            set(paddingRatio,\'this.otherAttrs.10\')      \n            \n            multiply(paddingRatio,fontWidth)\n            \n            set(needDraw,1)\n            // print(needDraw,\'needDrawInit\')   \n            \n          \n            \n            //\u5904\u7406\u8981\u663E\u793A\u7684\u503C\n            if(tCurVal>tMaxVal){\n                //\u6EA2\u51FA\u6700\u5927\u503C\n                set(tCurVal,tMaxVal)\n                set(isOverflow,1)\n            }else{\n                //\u6EA2\u51FA\u6700\u5C0F\u503C\n                if(tCurVal<tMinVal){\n                    set(tCurVal,tMinVal)\n                    set(isOverflow,1)\n                }\n            }\n            \n            \n            if(isOverflow==1){\n                //\u6EA2\u51FA\n                if(overflow==0){\n                    //\u6EA2\u51FA\u4E0D\u663E\u793A\n                    set(needDraw,0)\n                }\n            }\n            //\u5224\u65AD\u662F\u5426\u9700\u8981\u7ED8\u5236\n            if(needDraw==1){\n                //\u7B26\u53F7\n                if(hasSymbol==1){\n                    if(tCurVal<0){\n                        set(symbolCnt,1)\n                    }\n                }\n                \n                //\u5F53\u524D\u503C\u6570\u5B57\u4E2A\u6570\n                //--while \u6CA1\u6709>=\uFF0C\u6545tCurVal\u4E3A0\u65F6\uFF0CcurValCnt\u4E3A1\n                if(tCurVal<0){\n                   set(tempVal,0)\n                   minus(tempVal,tCurVal)\n                   set(tCurVal,tempVal) \n                }\n                set(tempVal,tCurVal)\n                while(tempVal>0){\n                    add(curValCnt,1)\n                    divide(tempVal,10)\n                }\n                if(curValCnt==0){\n                    set(curValCnt,1) \n                }\n                \n                //\u524D\u5BFC\u96F6\n                if(hasFrontZero==1){\n                    set(tempVal,numOfDigits)\n                    minus(tempVal,curValCnt)\n                    set(frontZeroCnt,tempVal)\n                }\n                \n                //\u603B\u5B57\u7B26\u6570\n                add(allFontCnt,symbolCnt)\n                add(allFontCnt,frontZeroCnt)\n                add(allFontCnt,curValCnt)\n                \n                //\u5C0F\u6570  add\n                set(decimalIndex,-1)\n               \n                if(decimalCnt>0){\n                    add(allFontCnt,1)\n                    if(decimalCnt<curValCnt){\n                        //\u5C0F\u6570\u4F4D\u6570\u5C0F\u4E8E\u4E8E\u5B57\u7B26\u4F4D\u6570\n                        set(decimalIndex,0)\n                    }else{\n                        //\u5C0F\u6570\u4F4D\u6570\u5927\u4E8E\u7B49\u4E8E\u5B57\u7B26\u4F4D\u6570\uFF0C\u5728\u975E\u524D\u5BFC\u96F6\u6A21\u5F0F\u4E0B\u9700\u8981\u8865\u96F6\n                        set(decimalIndex,0)\n                        if(hasFrontZero==0){\n                            set(decimalZeroCnt,decimalCnt)\n                            minus(decimalZeroCnt,curValCnt)\n                            add(decimalZeroCnt,1)\n                            add(allFontCnt,decimalZeroCnt)\n                        }else{\n                            set(decimalIndex,0)\n                        }\n                    }\n                    //\u8BA1\u7B97\u5C0F\u6570\u70B9\u5750\u6807\n                    set(decimalIndex,allFontCnt)\n                    minus(decimalIndex,decimalCnt)\n                    minus(decimalIndex,1)\n                }else{\n                    set(decimalIndex,-1)\n                }\n               \n                \n                //\u8BA1\u7B97\u8D77\u59CB\u5750\u6807\n                set(tempVal,allFontCnt)\n                var(tempValW,0)     //\u603B\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                var(fontWidthHalf,0) //\u534A\u4E2A\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                set(fontWidthHalf,fontWidth)\n                divide(fontWidthHalf,2)\n                \n                if(tempVal>0){\n                    add(tempValW,fontWidth)\n                    minus(tempVal,1)\n                }\n                while(tempVal>0){\n                   \n                    add(tempValW,fontWidth)\n                    add(tempValW,fontSpacing)\n                    minus(tempVal,1)\n                }\n                if(decimalCnt>0){\n                    minus(tempValW,fontWidthHalf)\n                }\n                //\u8003\u8651\u8D77\u59CB\u4F4D\u7F6E\n                                \n                if(align==0){\n                    //\u5DE6\u5BF9\u9F50\n                    if(paddingRatio>0){\n                        set(initPosX,paddingRatio)\n                       \n                    }else{\n                        set(initPosX,0)\n                    }\n                    \n                }else{\n                    if(align==2){\n                        //\u53F3\u5BF9\u9F50\n                        if(paddingRatio>0){\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                            minus(initPosX,paddingRatio)\n                        }else{\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                        }\n                        \n                    }else{\n                        //\u5C45\u4E2D\u5BF9\u9F50\n                        set(initPosX,widgetWidth)\n                        minus(initPosX,tempValW)\n                        divide(initPosX,2)\n                    }\n                }\n                \n                //\u5F00\u59CB\u7ED8\u5236\n                var(tempValText,0)  //\u4FDD\u5B58\u8981\u7ED8\u5236\u7684\u6570\u5B57\n                var(tempValMid1,0)  //\u4FDD\u5B58\u4E34\u65F6\u4E2D\u95F4\u7ED3\u679C\n                var(tempValMid2,0)  //\u4FDD\u5B58\u4E34\u65F6\u4E2D\u95F4\u7ED3\u679C\n                set(tempVal,0)\n                while(tempVal<allFontCnt){\n                    set(\'this.layers.tempVal.x\',initPosX)\n                    set(\'this.layers.tempVal.width\',fontWidth)\n                    if(symbolCnt==1){\n                        //\u7ED8\u5236\n                        // print(symbolCnt,\'symbolCnt\')\n                        set(tempValText,0)\n                        add(tempValText,45)\n                        set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                        set(symbolCnt,0)\n                        add(initPosX,fontWidth)\n                        add(initPosX,fontSpacing)\n                    }else{\n                        if(decimalIndex==tempVal){\n                            //\u7ED8\u5236\u5C0F\u6570\u70B9\n                            set(\'this.layers.tempVal.width\',fontWidthHalf)\n                            set(tempValMid1,46)\n                            set(\'this.layers.tempVal.subLayers.font.text\',46)\n                            add(initPosX,fontWidthHalf)\n                            add(initPosX,fontSpacing)\n                        }else{\n                            if(frontZeroCnt>0){\n                                //\u7ED8\u5236\u524D\u5BFC\u96F6\n                                set(tempValText,0)\n                                add(tempValText,48)\n                                set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                                minus(frontZeroCnt,1)\n                                add(initPosX,fontWidth)\n                                add(initPosX,fontSpacing)\n                            }else{\n                                if(decimalZeroCnt>0){\n                                    set(tempValText,0)\n                                    add(tempValText,48)\n                                    set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                                    add(initPosX,fontWidth)\n                                    add(initPosX,fontSpacing)\n                                    minus(decimalZeroCnt,1)\n                                }else{\n                                    //\u7ED8\u5236\u6570\u5B57\u503C\n                                    set(tempValMid1,curValCnt)\n                                    set(tempValMid2,1)\n                                    while(tempValMid1>1){\n                                        multiply(tempValMid2,10)\n                                        minus(tempValMid1,1)\n                                    }\n                                    set(tempValText,tCurVal)\n                                    divide(tempValText,tempValMid2)\n                                    mod(tempValText,10)\n                                    add(tempValText,48)\n                                    set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                                    minus(curValCnt,1)\n                                    add(initPosX,fontWidth)\n                                    add(initPosX,fontSpacing)\n                                }\n                            }\n                        }\n                    }\n                    add(tempVal,1)\n                }\n            } \n            \n            \n            \n            \n            if(tTotalFrame > 0){\n                if(tTrueCurVal>tMaxVal){\n                    //\u6EA2\u51FA\u6700\u5927\u503C\n                    set(tTrueCurVal,tMaxVal)\n                   \n                }else{\n                    //\u6EA2\u51FA\u6700\u5C0F\u503C\n                    if(tTrueCurVal<tMinVal){\n                        set(tTrueCurVal,tMinVal)\n                        \n                    }\n                }\n                var(tOldValue,0)\n                set(tOldValue,\'this.oldValue\')\n                set(\'this.startAnimationTag\',tOldValue)\n                set(\'this.stopAnimationTag\',tTrueCurVal)\n                checkalarm(0)\n                set(\'this.oldValue\',tTrueCurVal)\n                startanimation(0)\n            }else{\n                checkalarm(0)\n                set(\'this.oldValue\',tCurVal)\n            }\n                \n          \n        ',
        onAnimationFrame: '\n            var(tStartTag,0)\n            var(tStopTag,0)\n            set(tStartTag,\'this.startAnimationTag\')\n            set(tStopTag,\'this.stopAnimationTag\')\n            var(tTotalFrame,0)\n            set(tTotalFrame,\'this.totalFrame\')\n            var(tCurFrame,0)\n            set(tCurFrame,\'this.nowFrame\')\n            var(tYOffset,0)\n            var(tYOffset2,0)\n            var(tHeight,0)\n            set(tHeight,\'this.info.height\')\n            set(tYOffset,tHeight)\n            multiply(tYOffset,tCurFrame)\n            divide(tYOffset,tTotalFrame)\n            set(tYOffset2,tYOffset)\n            minus(tYOffset2,tHeight)\n            \n            \n            // var(tCurTag,0)\n            // var(tDist,0)\n            // set(tDist,tStopTag)\n            // minus(tDist,tStartTag)\n            // multiply(tDist,tCurFrame)\n            // divide(tDist,tTotalFrame)\n            // add(tDist,tStartTag)\n            // set(tCurTag,tDist)\n            //set(\'this.curAnimationTag\',tCurTag) //set AnTag \n            //\u6E05\u7A7A\u6240\u6709\u6570\u5B57\u5185\u5BB9\n            var(tIndex,0)   //\u7528\u4E8E\u5FAA\u73AF\n            var(tLaysLen,0)     //\u56FE\u5C42\u957F\u5EA6\n            set(tLaysLen,\'this.layers.length\')\n            var(halfLayersLen,0)\n            set(halfLayersLen,tLaysLen)\n            divide(halfLayersLen,2)\n            set(tIndex,0)\n            // print(tLaysLen,\'tLaysLen\')\n            // print(halfLayersLen,\'halfLayersLen\')\n            // print(tYOffset,tYOffset2)\n            while(tIndex<tLaysLen){\n                set(\'this.layers.tIndex.subLayers.font.text\',0)\n                if(tIndex < halfLayersLen){\n                    set(\'this.layers.tIndex.y\',tYOffset)\n                }else{\n                    set(\'this.layers.tIndex.y\',tYOffset2)\n                }\n                add(tIndex,1)\n            }\n            // print(\'this.layers.0.y\',\'layersy\')\n            \n           \n            \n            //\u521D\u59CB\u5316\u53D8\u91CF\n            var(tCurVal,0)        //\u5F53\u524D\u503C\n            var(tMaxVal,0)        //\u6700\u5927\u503C\n            var(tMinVal,0)        //\u6700\u5C0F\u503C\n            var(hasFrontZero,0)   //\u662F\u5426\u6709\u524D\u5BFC\u96F6\n            var(hasSymbol,0)      //\u662F\u5426\u6709\u7B26\u53F7\n            var(decimalCnt,0)     //\u5C0F\u6570\u4F4D\u6570\n            var(numOfDigits,0)    //\u5B57\u7B26\u6570\n            var(overflow,0)       //\u6EA2\u51FA\u6A21\u5F0F\uFF0C0\u4E0D\u663E\u793A\uFF0C1\u663E\u793A\n            var(fontWidth,0)      //\u5B57\u7B26\u56FE\u5C42\u5BBD\u5EA6\n            var(align,0)          //\u5BF9\u9F50\u65B9\u5F0F\uFF0C0\u5DE6\uFF0C1\u4E2D\uFF0C2\u53F3\n            var(widgetWidth,0)    //\u63A7\u4EF6\u5BBD\u5EA6\n            var(fontSpacing,0)    //\u5B57\u7B26\u95F4\u8DDD\n            var(paddingRatio,0)   //padddingRatio\n            \n            var(initPosX,0)       //\u7ED8\u5236\u8D77\u59CB\u5750\u6807\n            var(symbolCnt,0)      //\u8981\u7ED8\u5236\u7684\u7B26\u53F7\u7684\u4E2A\u6570\n            var(decimalIndex,0)   //\u5C0F\u6570\u70B9\u7684\u6807\u8BC6\u5750\u6807\uFF0C\u5373\u5728\u7B2C\u51E0\u4E2A\u56FE\u5C42\u4F4D\u7F6E\u7ED8\u5236\u5C0F\u6570\u70B9\n            var(decimalCnt,0)     //\u8981\u7ED8\u5236\u7684\u5C0F\u6570\u70B9\u7684\u4E2A\u6570\n            var(decimalZeroCnt,0) //\u8981\u8865\u9F50\u7684\u5C0F\u6570\u70B9\u540E\u76840\u7684\u4E2A\u6570\n            var(frontZeroCnt,0)   //\u8981\u7ED8\u5236\u7684\u524D\u5BFC\u96F6\u7684\u4E2A\u6570\n            var(curValCnt,0)      //\u8981\u7ED8\u5236\u7684\u5F53\u524D\u503C\u6570\u5B57\u7684\u4E2A\u6570\n            var(allFontCnt,0)     //\u8981\u7ED8\u5236\u7684\u603B\u5B57\u7B26\u7684\u4E2A\u6570\n            var(tempVal,0)        //\u4E34\u65F6\u53D8\u91CF\n            var(needDraw,0)       //\u662F\u5426\u9700\u8981\u7ED8\u5236\uFF0C\u5728\u6EA2\u51FA\u4E0D\u663E\u793A\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u9700\u8981\u7ED8\u5236\u30020\u4E0D\u9700\u8981\uFF0C1\u9700\u8981\n            var(isOverflow,0)     //\u662F\u5426\u6EA2\u51FA\n            var(tTotalFrame,0)    //\u603B\u5E27\u6570\n            \n            set(tCurVal,tStartTag)\n            // print(\'tagVal\',tCurVal)\n            set(tMaxVal,\'this.maxValue\')\n            set(tMinVal,\'this.minValue\')\n            set(hasFrontZero,\'this.otherAttrs.1\')\n            set(hasSymbol,\'this.otherAttrs.2\')\n            set(decimalCnt,\'this.otherAttrs.3\')\n            set(numOfDigits,\'this.otherAttrs.4\')\n            set(overflow,\'this.otherAttrs.5\')\n            set(fontWidth,\'this.otherAttrs.6\')\n            set(align,\'this.otherAttrs.7\')\n            set(widgetWidth,\'this.otherAttrs.8\')\n            set(fontSpacing,\'this.otherAttrs.9\')\n            set(paddingRatio,\'this.otherAttrs.10\')      \n            \n            multiply(paddingRatio,fontWidth)\n            \n            set(needDraw,1)\n            // print(needDraw,\'needDrawInit\')      \n            \n            \n            //\u5904\u7406\u524D\u4E00\u4E2A\u6570\u5B57\n            //\u5904\u7406\u8981\u663E\u793A\u7684\u503C\n            if(tCurVal>tMaxVal){\n                //\u6EA2\u51FA\u6700\u5927\u503C\n                set(tCurVal,tMaxVal)\n                set(isOverflow,1)\n            }else{\n                //\u6EA2\u51FA\u6700\u5C0F\u503C\n                if(tCurVal<tMinVal){\n                    set(tCurVal,tMinVal)\n                    set(isOverflow,1)\n                }\n            }\n            \n            if(isOverflow==1){\n                //\u6EA2\u51FA\n                if(overflow==0){\n                    //\u6EA2\u51FA\u4E0D\u663E\u793A\n                    set(needDraw,0)\n                }\n            }\n            //\u5224\u65AD\u662F\u5426\u9700\u8981\u7ED8\u5236\n            if(needDraw==1){\n                //\u7B26\u53F7\n                if(hasSymbol==1){\n                    if(tCurVal<0){\n                        set(symbolCnt,1)\n                    }\n                }\n                \n                //\u5F53\u524D\u503C\u6570\u5B57\u4E2A\u6570\n                //--while \u6CA1\u6709>=\uFF0C\u6545tCurVal\u4E3A0\u65F6\uFF0CcurValCnt\u4E3A1\n                if(tCurVal<0){\n                   set(tempVal,0)\n                   minus(tempVal,tCurVal)\n                   set(tCurVal,tempVal) \n                }\n                set(tempVal,tCurVal)\n                while(tempVal>0){\n                    add(curValCnt,1)\n                    divide(tempVal,10)\n                }\n                if(curValCnt==0){\n                    set(curValCnt,1) \n                }\n                \n                //\u524D\u5BFC\u96F6\n                if(hasFrontZero==1){\n                    set(tempVal,numOfDigits)\n                    minus(tempVal,curValCnt)\n                    set(frontZeroCnt,tempVal)\n                }\n                \n                //\u603B\u5B57\u7B26\u6570\n                set(allFontCnt,0)\n                add(allFontCnt,symbolCnt)\n                add(allFontCnt,frontZeroCnt)\n                add(allFontCnt,curValCnt)\n                \n                //\u5C0F\u6570  add\n                set(decimalIndex,-1)\n               \n                if(decimalCnt>0){\n                    add(allFontCnt,1)\n                    if(decimalCnt<curValCnt){\n                        //\u5C0F\u6570\u4F4D\u6570\u5C0F\u4E8E\u4E8E\u5B57\u7B26\u4F4D\u6570\n                        set(decimalIndex,0)\n                    }else{\n                        //\u5C0F\u6570\u4F4D\u6570\u5927\u4E8E\u7B49\u4E8E\u5B57\u7B26\u4F4D\u6570\uFF0C\u5728\u975E\u524D\u5BFC\u96F6\u6A21\u5F0F\u4E0B\u9700\u8981\u8865\u96F6\n                        set(decimalIndex,0)\n                        if(hasFrontZero==0){\n                            set(decimalZeroCnt,decimalCnt)\n                            minus(decimalZeroCnt,curValCnt)\n                            add(decimalZeroCnt,1)\n                            add(allFontCnt,decimalZeroCnt)\n                        }else{\n                            set(decimalIndex,0)\n                        }\n                    }\n                    //\u8BA1\u7B97\u5C0F\u6570\u70B9\u5750\u6807\n                    set(decimalIndex,allFontCnt)\n                    minus(decimalIndex,decimalCnt)\n                    minus(decimalIndex,1)\n                }else{\n                    set(decimalIndex,-1)\n                }\n               \n                \n                //\u8BA1\u7B97\u8D77\u59CB\u5750\u6807\n                set(tempVal,allFontCnt)\n                var(tempValW,0)     //\u603B\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                set(tempValW,0)\n                var(fontWidthHalf,0) //\u534A\u4E2A\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                set(fontWidthHalf,fontWidth)\n                divide(fontWidthHalf,2)\n                \n                if(tempVal>0){\n                    add(tempValW,fontWidth)\n                    minus(tempVal,1)\n                }\n                while(tempVal>0){\n                   \n                    add(tempValW,fontWidth)\n                    add(tempValW,fontSpacing)\n                    minus(tempVal,1)\n                }\n                if(decimalCnt>0){\n                    minus(tempValW,fontWidthHalf)\n                }\n                //\u8003\u8651\u8D77\u59CB\u4F4D\u7F6E\n                                \n                if(align==0){\n                    //\u5DE6\u5BF9\u9F50\n                    if(paddingRatio>0){\n                        set(initPosX,paddingRatio)\n                       \n                    }else{\n                        set(initPosX,0)\n                    }\n                    \n                }else{\n                    if(align==2){\n                        //\u53F3\u5BF9\u9F50\n                        if(paddingRatio>0){\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                            minus(initPosX,paddingRatio)\n                        }else{\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                        }\n                        \n                    }else{\n                        //\u5C45\u4E2D\u5BF9\u9F50\n                        set(initPosX,widgetWidth)\n                        minus(initPosX,tempValW)\n                        divide(initPosX,2)\n                    }\n                }\n                \n                var(initPosXBackup,0)\n                set(initPosXBackup,initPosX)\n                \n                //\u5F00\u59CB\u7ED8\u5236\n                var(tempValText,0)  //\u4FDD\u5B58\u8981\u7ED8\u5236\u7684\u6570\u5B57\n                var(tempValMid1,0)  //\u4FDD\u5B58\u4E34\u65F6\u4E2D\u95F4\u7ED3\u679C\n                var(tempValMid2,0)  //\u4FDD\u5B58\u4E34\u65F6\u4E2D\u95F4\u7ED3\u679C\n                set(tempVal,0)\n                while(tempVal<allFontCnt){\n                  \n                    set(\'this.layers.tempVal.x\',initPosX)\n                    set(\'this.layers.tempVal.width\',fontWidth)\n                    if(symbolCnt==1){\n                        //\u7ED8\u5236\n                        // print(symbolCnt,\'symbolCnt\')\n                        set(tempValText,0)\n                        add(tempValText,45)\n                        set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                        set(symbolCnt,0)\n                        add(initPosX,fontWidth)\n                        add(initPosX,fontSpacing)\n                    }else{\n                        if(decimalIndex==tempVal){\n                            //\u7ED8\u5236\u5C0F\u6570\u70B9\n                            set(\'this.layers.tempVal.width\',fontWidthHalf)\n                            set(tempValMid1,46)\n                            set(\'this.layers.tempVal.subLayers.font.text\',46)\n                            add(initPosX,fontWidthHalf)\n                            add(initPosX,fontSpacing)\n                        }else{\n                            if(frontZeroCnt>0){\n                                //\u7ED8\u5236\u524D\u5BFC\u96F6\n                                set(tempValText,0)\n                                add(tempValText,48)\n                                set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                                minus(frontZeroCnt,1)\n                                add(initPosX,fontWidth)\n                                add(initPosX,fontSpacing)\n                            }else{\n                                if(decimalZeroCnt>0){\n                                    set(tempValText,0)\n                                    add(tempValText,48)\n                                    set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                                    add(initPosX,fontWidth)\n                                    add(initPosX,fontSpacing)\n                                    minus(decimalZeroCnt,1)\n                                }else{\n                                    //\u7ED8\u5236\u6570\u5B57\u503C\n                                    set(tempValMid1,curValCnt)\n                                    set(tempValMid2,1)\n                                    while(tempValMid1>1){\n                                        multiply(tempValMid2,10)\n                                        minus(tempValMid1,1)\n                                    }\n                                    set(tempValText,tCurVal)\n                                    divide(tempValText,tempValMid2)\n                                    mod(tempValText,10)\n                                    add(tempValText,48)\n                                    set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                                    minus(curValCnt,1)\n                                    add(initPosX,fontWidth)\n                                    add(initPosX,fontSpacing)\n                                }\n                            }\n                        }\n                    }\n                    add(tempVal,1)\n                }\n            } \n            \n            \n            set(tCurVal,tStopTag)\n           \n            //\u5904\u7406\u8981\u663E\u793A\u7684\u503C\n            set(needDraw,1)\n            if(tCurVal>tMaxVal){\n                //\u6EA2\u51FA\u6700\u5927\u503C\n                set(tCurVal,tMaxVal)\n                set(isOverflow,1)\n            }else{\n                //\u6EA2\u51FA\u6700\u5C0F\u503C\n                if(tCurVal<tMinVal){\n                    set(tCurVal,tMinVal)\n                    set(isOverflow,1)\n                }\n            }\n            \n            if(isOverflow==1){\n                //\u6EA2\u51FA\n                if(overflow==0){\n                    //\u6EA2\u51FA\u4E0D\u663E\u793A\n                    set(needDraw,0)\n                }\n            }\n            \n            \n            //\u5224\u65AD\u662F\u5426\u9700\u8981\u7ED8\u5236\n            if(needDraw==1){\n                //\u7B26\u53F7\n                if(hasSymbol==1){\n                    if(tCurVal<0){\n                        set(symbolCnt,1)\n                    }\n                }\n                \n                //\u5F53\u524D\u503C\u6570\u5B57\u4E2A\u6570\n                //--while \u6CA1\u6709>=\uFF0C\u6545tCurVal\u4E3A0\u65F6\uFF0CcurValCnt\u4E3A1\n                if(tCurVal<0){\n                   set(tempVal,0)\n                   minus(tempVal,tCurVal)\n                   set(tCurVal,tempVal) \n                }\n                set(tempVal,tCurVal)\n                while(tempVal>0){\n                    add(curValCnt,1)\n                    divide(tempVal,10)\n                }\n                if(curValCnt==0){\n                    set(curValCnt,1) \n                }\n                \n                //\u524D\u5BFC\u96F6\n                if(hasFrontZero==1){\n                    set(tempVal,numOfDigits)\n                    minus(tempVal,curValCnt)\n                    set(frontZeroCnt,tempVal)\n                }\n                \n                //\u603B\u5B57\u7B26\u6570\n                set(allFontCnt,0)\n                add(allFontCnt,symbolCnt)\n                add(allFontCnt,frontZeroCnt)\n                add(allFontCnt,curValCnt)\n                \n                //\u5C0F\u6570  add\n                set(decimalIndex,-1)\n               \n                if(decimalCnt>0){\n                    add(allFontCnt,1)\n                    if(decimalCnt<curValCnt){\n                        //\u5C0F\u6570\u4F4D\u6570\u5C0F\u4E8E\u4E8E\u5B57\u7B26\u4F4D\u6570\n                        set(decimalIndex,0)\n                    }else{\n                        //\u5C0F\u6570\u4F4D\u6570\u5927\u4E8E\u7B49\u4E8E\u5B57\u7B26\u4F4D\u6570\uFF0C\u5728\u975E\u524D\u5BFC\u96F6\u6A21\u5F0F\u4E0B\u9700\u8981\u8865\u96F6\n                        set(decimalIndex,0)\n                        if(hasFrontZero==0){\n                            set(decimalZeroCnt,decimalCnt)\n                            minus(decimalZeroCnt,curValCnt)\n                            add(decimalZeroCnt,1)\n                            add(allFontCnt,decimalZeroCnt)\n                        }else{\n                            set(decimalIndex,0)\n                        }\n                    }\n                    //\u8BA1\u7B97\u5C0F\u6570\u70B9\u5750\u6807\n                    set(decimalIndex,allFontCnt)\n                    minus(decimalIndex,decimalCnt)\n                    minus(decimalIndex,1)\n                }else{\n                    set(decimalIndex,-1)\n                }\n               \n                \n                //\u8BA1\u7B97\u8D77\u59CB\u5750\u6807\n                set(tempVal,allFontCnt)\n                set(tempValW,0)\n                \n                if(tempVal>0){\n                    add(tempValW,fontWidth)\n                    minus(tempVal,1)\n                }\n                while(tempVal>0){\n                   \n                    add(tempValW,fontWidth)\n                    add(tempValW,fontSpacing)\n                    minus(tempVal,1)\n                }\n                if(decimalCnt>0){\n                    minus(tempValW,fontWidthHalf)\n                }\n                //\u8003\u8651\u8D77\u59CB\u4F4D\u7F6E\n                                \n                if(align==0){\n                    //\u5DE6\u5BF9\u9F50\n                    if(paddingRatio>0){\n                        set(initPosX,paddingRatio)\n                       \n                    }else{\n                        set(initPosX,0)\n                    }\n                    \n                }else{\n                    if(align==2){\n                        //\u53F3\u5BF9\u9F50\n                        if(paddingRatio>0){\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                            minus(initPosX,paddingRatio)\n                        }else{\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                        }\n                        \n                    }else{\n                        //\u5C45\u4E2D\u5BF9\u9F50\n                        set(initPosX,widgetWidth)\n                        minus(initPosX,tempValW)\n                        divide(initPosX,2)\n                    }\n                }\n                \n                \n                \n                //\u5F00\u59CB\u7ED8\u5236\n                \n                set(tempVal,halfLayersLen)\n                var(allFontCnt2,0)\n                set(allFontCnt2,halfLayersLen)\n                add(allFontCnt2,allFontCnt)\n                var(tRelativeLayerNum,0)\n                while(tempVal<allFontCnt2){\n                    // print(initPosX,\'initPosX\')\n                    set(\'this.layers.tempVal.x\',initPosX)\n                    set(\'this.layers.tempVal.width\',fontWidth)\n                    if(symbolCnt==1){\n                        //\u7ED8\u5236\n                        // print(symbolCnt,\'symbolCnt\')\n                        set(tempValText,0)\n                        add(tempValText,45)\n                        set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                        set(symbolCnt,0)\n                        add(initPosX,fontWidth)\n                        add(initPosX,fontSpacing)\n                    }else{\n                        set(tRelativeLayerNum,tempVal)\n                        minus(tRelativeLayerNum,halfLayersLen)\n                        if(decimalIndex==tRelativeLayerNum){\n                            //\u7ED8\u5236\u5C0F\u6570\u70B9\n                            set(\'this.layers.tempVal.width\',fontWidthHalf)\n                            set(tempValMid1,46)\n                            set(\'this.layers.tempVal.subLayers.font.text\',46)\n                            add(initPosX,fontWidthHalf)\n                            add(initPosX,fontSpacing)\n                        }else{\n                            if(frontZeroCnt>0){\n                                //\u7ED8\u5236\u524D\u5BFC\u96F6\n                                set(tempValText,0)\n                                add(tempValText,48)\n                                set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                                minus(frontZeroCnt,1)\n                                add(initPosX,fontWidth)\n                                add(initPosX,fontSpacing)\n                            }else{\n                                if(decimalZeroCnt>0){\n                                    set(tempValText,0)\n                                    add(tempValText,48)\n                                    set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                                    add(initPosX,fontWidth)\n                                    add(initPosX,fontSpacing)\n                                    minus(decimalZeroCnt,1)\n                                }else{\n                                    //\u7ED8\u5236\u6570\u5B57\u503C\n                                    set(tempValMid1,curValCnt)\n                                    set(tempValMid2,1)\n                                    while(tempValMid1>1){\n                                        multiply(tempValMid2,10)\n                                        minus(tempValMid1,1)\n                                    }\n                                    set(tempValText,tCurVal)\n                                    divide(tempValText,tempValMid2)\n                                    mod(tempValText,10)\n                                    add(tempValText,48)\n                                    set(\'this.layers.tempVal.subLayers.font.text\',tempValText)\n                                    minus(curValCnt,1)\n                                    add(initPosX,fontWidth)\n                                    add(initPosX,fontSpacing)\n                                }\n                            }\n                        }\n                    }\n                    add(tempVal,1)\n                }\n            } \n            \n            \n        '
    };

    WidgetCommands['TexNum'] = {
        "onInitialize": '\n            //\u9690\u85CF\u6240\u6709\u56FE\u5C42\n            var(offset,0)\n            var(len,0)\n            set(len,\'this.layers.length\')\n            while(offset<len){\n                set(\'this.layers.offset.hidden\',1)\n                add(offset,1)\n            }\n\n            // draw num\n            //\u521D\u59CB\u5316\u53D8\u91CF\n\n            var(tCurVal,0)                       //\u5F53\u524D\u503C\n            set(hasFrontZero,\'this.otherAttrs.0\')\n\n            var(tMaxVal,0)                       //\u6700\u5927\u503C\n            set(tMaxVal,\'this.maxValue\')\n            \n            var(tMinVal,0)                       //\u6700\u5C0F\u503C\n            set(tMinVal,\'this.minValue\')\n\n            var(hasFrontZero,0)                  //\u662F\u5426\u6709\u524D\u5BFC\u96F6\n            set(hasFrontZero,\'this.otherAttrs.1\')\n\n            var(hasSymbol,0)                     //\u662F\u5426\u6709\u7B26\u53F7\n            set(hasSymbol,\'this.otherAttrs.2\')\n\n            var(decimalCnt,0)                    //\u5C0F\u6570\u4F4D\u6570\n            set(decimalCnt,\'this.otherAttrs.3\')\n\n            var(numOfDigits,0)                   //\u5B57\u7B26\u6570\n            set(numOfDigits,\'this.otherAttrs.4\')\n\n            var(overflow,0)                      //\u6EA2\u51FA\u6A21\u5F0F\uFF0C0\u4E0D\u663E\u793A\uFF0C1\u663E\u793A\n            set(overflow,\'this.otherAttrs.5\')\n\n            var(fontWidth,0)                     //\u5B57\u7B26\u56FE\u5C42\u5BBD\u5EA6\n            set(fontWidth,\'this.otherAttrs.6\')\n\n            var(align,0)                         //\u5BF9\u9F50\u65B9\u5F0F\uFF0C0\u5DE6\uFF0C1\u4E2D\uFF0C2\u53F3\n            set(align,\'this.otherAttrs.9\')\n\n            var(widgetWidth,0)                   //\u63A7\u4EF6\u5BBD\u5EA6\n            set(widgetWidth,\'this.otherAttrs.8\')\n\n            var(symbolCnt,0)                     //\u8981\u7ED8\u5236\u7684\u7B26\u53F7\u7684\u4E2A\u6570\n            set(symbolCnt,0)\n\n            var(curValCnt,0)                     //\u8981\u7ED8\u5236\u7684\u5F53\u524D\u503C\u6570\u5B57\u7684\u4E2A\u6570\n\n            var(allFontCnt,0)                    //\u8981\u7ED8\u5236\u7684\u603B\u5B57\u7B26\u7684\u4E2A\u6570\n\n            var(initPosX,0)                      //\u7ED8\u5236\u8D77\u59CB\u5750\u6807\n\n            var(decimalIndex,0)                  //\u5C0F\u6570\u70B9\u7684\u6807\u8BC6\u5750\u6807\uFF0C\u5373\u5728\u7B2C\u51E0\u4E2A\u56FE\u5C42\u4F4D\u7F6E\u7ED8\u5236\u5C0F\u6570\u70B9\n\n            var(decimalZeroCnt,0)                //\u8981\u8865\u9F50\u7684\u5C0F\u6570\u70B9\u540E\u76840\u7684\u4E2A\u6570\n\n            var(frontZeroCnt,0)                  //\u8981\u7ED8\u5236\u7684\u524D\u5BFC\u96F6\u7684\u4E2A\u6570\n\n            var(needDraw,0)                      //\u662F\u5426\u9700\u8981\u7ED8\u5236\uFF0C\u5728\u6EA2\u51FA\u4E0D\u663E\u793A\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u9700\u8981\u7ED8\u5236\u30020\u4E0D\u9700\u8981\uFF0C1\u9700\u8981\n            set(needDraw,1)\n\n            var(isOverflow,0)                    //\u6570\u5B57\u503C\u662F\u5426\u6EA2\u51FA\n\n            var(tempValW,0)                      //\u603B\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n\n            var(fontWidthHalf,0)                 //\u534A\u4E2A\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n\n            var(tempVal,0)                       //\u4E34\u65F6\u53D8\u91CF\n            \n            var(layersCount,0)                   //layer\u6570\n            \n            var(index,0)                         //layer index\n            \n            var(curl,0)                          //\u5F53\u524D\u5B57\u7B26\n            \n            var(i,0)                             //\u5FAA\u73AF\u53D8\u91CF\n            \n      \n            \n\n            //\u6EA2\u51FA\u5904\u7406\n            if(tCurVal>tMaxVal){\n                //\u6EA2\u51FA\u6700\u5927\u503C\n                set(tCurVal,tMaxVal)\n                set(isOverflow,1)\n            }else{\n                //\u6EA2\u51FA\u6700\u5C0F\u503C\n                if(tCurVal<tMinVal){\n                    set(tCurVal,tMinVal)\n                    set(isOverflow,1)\n                }\n            }\n            if(isOverflow==1){\n                //\u6EA2\u51FA\n                if(overflow==0){\n                    //\u6EA2\u51FA\u4E0D\u663E\u793A\n                    set(needDraw,0)\n                }\n            }\n\n            //\u5224\u65AD\u662F\u5426\u9700\u8981\u7ED8\u5236\n            if(needDraw==1){\n                //\u7B26\u53F7&\u53D6\u7EDD\u5BF9\u503C\n                if(tCurVal<0){\n                    if(hasSymbol==1){\n                        set(symbolCnt,1)\n                    }\n                    multiply(tCurVal,-1)//\u53D6\u7EDD\u5BF9\u503C\n                }\n\n                //\u5F53\u524D\u503C\u4F4D\u6570\n                set(tempVal,tCurVal)\n                while(tempVal>0){\n                    add(curValCnt,1)\n                    divide(tempVal,10)\n                }\n                if(curValCnt==0){\n                    set(curValCnt,1) \n                }\n\n                //\u524D\u5BFC\u96F6\n                if(hasFrontZero==1){\n                    set(tempVal,numOfDigits)\n                    minus(tempVal,curValCnt)\n                    set(frontZeroCnt,tempVal)\n                }\n\n                //\u603B\u5B57\u7B26\u6570=\u524D\u5BFC0/\u81EA\u52A8\u88650+\u6570\u5B57\u4F4D\n                add(allFontCnt,symbolCnt)\n                add(allFontCnt,frontZeroCnt)\n                add(allFontCnt,curValCnt)\n\n                //\u5C0F\u6570\u70B9\u4F4D\u7F6E\n                if(decimalCnt>0){\n                    add(allFontCnt,1)\n                    if(decimalCnt>=curValCnt){\n                        //\u5C0F\u6570\u4F4D\u6570\u5927\u4E8E\u7B49\u4E8E\u5B57\u7B26\u4F4D\u6570\uFF0C\u5728\u975E\u524D\u5BFC\u96F6\u6A21\u5F0F\u4E0B\u9700\u8981\u8865\u96F6\n                        if(hasFrontZero==0){\n                            set(decimalZeroCnt,decimalCnt)//decimalZeroCnt\uFF1A\u8981\u8865\u9F50\u7684\u5C0F\u6570\u70B9\u540E\u76840\u7684\u4E2A\u6570=\u5C0F\u6570\u4F4D\u6570-\u6570\u5B57\u4F4D\u6570\n                            minus(decimalZeroCnt,curValCnt)\n                            add(decimalZeroCnt,1)//\u5C0F\u6570\u70B9\u524D\u9762\u76840\n                            add(allFontCnt,decimalZeroCnt)\n                        }\n                    }\n                }\n                //\u8BA1\u7B97\u5B57\u7B26\u6240\u5360\u603B\u5BBD\u5EA6\n                set(tempVal,allFontCnt)\n                multiply(tempVal,fontWidth)\n                set(tempValW,tempVal)//tempValW:\u603B\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                set(fontWidthHalf,fontWidth)//fontWidthHalf:\u534A\u4E2A\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                divide(fontWidthHalf,2)\n                if(decimalCnt>0){\n                    minus(tempValW,fontWidthHalf)\n                }\n\n                //\u8BA1\u7B97\u8D77\u59CB\u5750\u6807\n                if(widgetWidth>tempValW){\n                    if(align==0){\n                        //\u5DE6\u5BF9\u9F50\n                        set(initPosX,0)\n                    }else{\n                        if(align==2){\n                            //\u53F3\u5BF9\u9F50\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                        }else{\n                            //\u5C45\u4E2D\u5BF9\u9F50\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                            divide(initPosX,2)\n                        }\n                    }\n                }else{\n                    set(initPosX,0)\n                }                \n                \n                //layer\u6570\n                set(layersCount,allFontCnt)\n\n                //\u7ED8\u5236\u7B26\u53F7\n                if(symbolCnt==1){\n                    //\u6709\u8D1F\u53F7\n                    set(\'this.layers.0.subLayers.image.texture\',11)\n                    set(\'this.layers.0.x\',initPosX)\n                    set(\'this.layers.0.hidden\',0)\n                    minus(layersCount,1)\n                }\n                \n                \n                //\u8BBE\u7F6E\u6BCF\u4E00\u4E2A\u5B57\u7B26\u7684\u521D\u59CB\u4F4D\u7F6E\n                set(xCoordinate,initPosX)\n                add(xCoordinate,tempValW)\n\n                \n                //\u7ED8\u5236\u903B\u8F91              \n                while(i<layersCount){\n                    if(i==decimalCnt){\n                        if(decimalCnt==0){\n                        }else{\n                           //\u756B\u5C0F\u6578\u9EDE\n                            \n                           //xCoordinate-=fontWidth/2;\n                           set(tempVal,fontWidth)\n                           divide(tempVal,2)\n                           minus(xCoordinate,tempVal)\n                            \n                           //draw(index,xCoordinate)\n                           set(\'this.layers.1.hidden\',0)\n                           set(\'this.layers.1.x\',xCoordinate)\n                           set(\'this.layers.1.subLayers.image.texture\',10)\n                           \n                           minus(layersCount,1)\n                        }\n                        set(decimalCnt,-1)\n                        minus(i,1)\n                    }else{\n                        //\u756B\u6578\u5B57\n                        if(i<curValCnt){\n                            //\u756Breal\u6578\u5B57\n                            //curl=tCurVal-tCurVal/10*10\n                            set(tempVal,tCurVal)\n                            divide(tempVal,10)\n                            multiply(tempVal,10)\n                            set(curl,tCurVal)\n                            minus(curl,tempVal)\n                            \n                            //tCurVal=tCurVal/10\n                            divide(tCurVal,10)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //xCoordinate-=fontWidth\n                            minus(xCoordinate,fontWidth)\n                            \n                            //draw(index,xCoordinate)\n                            set(\'this.layers.index.hidden\',0)\n                            set(\'this.layers.index.x\',xCoordinate)\n                            set(\'this.layers.index.subLayers.image.texture\',curl)\n                        }else{\n                            //\u756B\u96F6\n                            //xCoordinate-=fontWidth;\n                            minus(xCoordinate,fontWidth)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //draw(index,xCoordinate)\n                            set(\'this.layers.index.hidden\',0)\n                            set(\'this.layers.index.x\',xCoordinate)\n                            set(\'this.layers.index.subLayers.image.texture\',0)\n                        }\n                    }\n                    //i++\n                    add(i,1)\n                }\n            }\n        ',
        onMouseUp: '\n        ',
        onMouseDown: '\n        ',
        onTagChange: '\n            //\u9690\u85CF\u6240\u6709\u56FE\u5C42\n            var(offset,0)\n            var(len,0)\n            set(len,\'this.layers.length\')\n            while(offset<len){\n                set(\'this.layers.offset.hidden\',1)\n                add(offset,1)\n            }\n\n            // draw num\n            //\u521D\u59CB\u5316\u53D8\u91CF\n            var(tTrueCurVal,0)\n            var(tTotalFrame,0)\n            set(tTotalFrame,\'this.totalFrame\')\n\n            var(tCurVal,0)                       //\u5F53\u524D\u503C\n            getTag(tCurVal)\n            if(tTotalFrame > 0){\n                set(tTrueCurVal,tCurVal)\n                set(tCurVal,\'this.oldValue\')\n            }\n\n            var(tMaxVal,0)                       //\u6700\u5927\u503C\n            set(tMaxVal,\'this.maxValue\')\n            \n            var(tMinVal,0)                       //\u6700\u5C0F\u503C\n            set(tMinVal,\'this.minValue\')\n\n            var(hasFrontZero,0)                  //\u662F\u5426\u6709\u524D\u5BFC\u96F6\n            set(hasFrontZero,\'this.otherAttrs.1\')\n\n            var(hasSymbol,0)                     //\u662F\u5426\u6709\u7B26\u53F7\n            set(hasSymbol,\'this.otherAttrs.2\')\n\n            var(decimalCnt,0)                    //\u5C0F\u6570\u4F4D\u6570\n            set(decimalCnt,\'this.otherAttrs.3\')\n\n            var(numOfDigits,0)                   //\u5B57\u7B26\u6570\n            set(numOfDigits,\'this.otherAttrs.4\')\n\n            var(overflow,0)                      //\u6EA2\u51FA\u6A21\u5F0F\uFF0C0\u4E0D\u663E\u793A\uFF0C1\u663E\u793A\n            set(overflow,\'this.otherAttrs.5\')\n\n            var(fontWidth,0)                     //\u5B57\u7B26\u56FE\u5C42\u5BBD\u5EA6\n            set(fontWidth,\'this.otherAttrs.6\')\n\n            var(align,0)                         //\u5BF9\u9F50\u65B9\u5F0F\uFF0C0\u5DE6\uFF0C1\u4E2D\uFF0C2\u53F3\n            set(align,\'this.otherAttrs.9\')\n\n            var(widgetWidth,0)                   //\u63A7\u4EF6\u5BBD\u5EA6\n            set(widgetWidth,\'this.otherAttrs.8\')\n\n            var(symbolCnt,0)                     //\u8981\u7ED8\u5236\u7684\u7B26\u53F7\u7684\u4E2A\u6570\n            set(symbolCnt,0)\n\n            var(curValCnt,0)                     //\u8981\u7ED8\u5236\u7684\u5F53\u524D\u503C\u6570\u5B57\u7684\u4E2A\u6570\n\n            var(allFontCnt,0)                    //\u8981\u7ED8\u5236\u7684\u603B\u5B57\u7B26\u7684\u4E2A\u6570\n\n            var(initPosX,0)                      //\u7ED8\u5236\u8D77\u59CB\u5750\u6807\n\n            var(decimalIndex,0)                  //\u5C0F\u6570\u70B9\u7684\u6807\u8BC6\u5750\u6807\uFF0C\u5373\u5728\u7B2C\u51E0\u4E2A\u56FE\u5C42\u4F4D\u7F6E\u7ED8\u5236\u5C0F\u6570\u70B9\n\n            var(decimalZeroCnt,0)                //\u8981\u8865\u9F50\u7684\u5C0F\u6570\u70B9\u540E\u76840\u7684\u4E2A\u6570\n\n            var(frontZeroCnt,0)                  //\u8981\u7ED8\u5236\u7684\u524D\u5BFC\u96F6\u7684\u4E2A\u6570\n\n            var(needDraw,0)                      //\u662F\u5426\u9700\u8981\u7ED8\u5236\uFF0C\u5728\u6EA2\u51FA\u4E0D\u663E\u793A\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u9700\u8981\u7ED8\u5236\u30020\u4E0D\u9700\u8981\uFF0C1\u9700\u8981\n            set(needDraw,1)\n\n            var(isOverflow,0)                    //\u6570\u5B57\u503C\u662F\u5426\u6EA2\u51FA\n\n            var(tempValW,0)                      //\u603B\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n\n            var(fontWidthHalf,0)                 //\u534A\u4E2A\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n\n            var(tempVal,0)                       //\u4E34\u65F6\u53D8\u91CF\n            \n            var(layersCount,0)                   //layer\u6570\n            \n            var(index,0)                         //layer index\n            \n            var(curl,0)                          //\u5F53\u524D\u5B57\u7B26\n            \n            var(i,0)                             //\u5FAA\u73AF\u53D8\u91CF\n            \n      \n            \n\n            //\u6EA2\u51FA\u5904\u7406\n            if(tCurVal>tMaxVal){\n                //\u6EA2\u51FA\u6700\u5927\u503C\n                print(\'\u6EA2\u51FA\u6700\u5927\u503C\',tMaxVal)\n                set(tCurVal,tMaxVal)\n                set(isOverflow,1)\n            }else{\n                //\u6EA2\u51FA\u6700\u5C0F\u503C\n                if(tCurVal<tMinVal){\n                    print(\'\u6EA2\u51FA\u6700\u5C0F\u503C\',tMinVal)\n                    set(tCurVal,tMinVal)\n                    set(isOverflow,1)\n                }\n            }\n            if(isOverflow==1){\n                //\u6EA2\u51FA\n                if(overflow==0){\n                    //\u6EA2\u51FA\u4E0D\u663E\u793A\n                    set(needDraw,0)\n                }\n            }\n\n            //\u5224\u65AD\u662F\u5426\u9700\u8981\u7ED8\u5236\n            if(needDraw==1){\n                //\u7B26\u53F7&\u53D6\u7EDD\u5BF9\u503C\n                if(tCurVal<0){\n                    if(hasSymbol==1){\n                        set(symbolCnt,1)\n                    }\n                    multiply(tCurVal,-1)//\u53D6\u7EDD\u5BF9\u503C\n                }\n\n                //\u5F53\u524D\u503C\u4F4D\u6570\n                set(tempVal,tCurVal)\n                while(tempVal>0){\n                    add(curValCnt,1)\n                    divide(tempVal,10)\n                }\n                if(curValCnt==0){\n                    set(curValCnt,1) \n                }\n\n                //\u524D\u5BFC\u96F6\n                if(hasFrontZero==1){\n                    set(tempVal,numOfDigits)\n                    minus(tempVal,curValCnt)\n                    set(frontZeroCnt,tempVal)\n                }\n\n                //\u603B\u5B57\u7B26\u6570=\u524D\u5BFC0/\u81EA\u52A8\u88650+\u6570\u5B57\u4F4D\n                add(allFontCnt,symbolCnt)\n                add(allFontCnt,frontZeroCnt)\n                add(allFontCnt,curValCnt)\n\n                //\u5C0F\u6570\u70B9\u4F4D\u7F6E\n                if(decimalCnt>0){\n                    add(allFontCnt,1)\n                    if(decimalCnt>=curValCnt){\n                        //\u5C0F\u6570\u4F4D\u6570\u5927\u4E8E\u7B49\u4E8E\u5B57\u7B26\u4F4D\u6570\uFF0C\u5728\u975E\u524D\u5BFC\u96F6\u6A21\u5F0F\u4E0B\u9700\u8981\u8865\u96F6\n                        if(hasFrontZero==0){\n                            set(decimalZeroCnt,decimalCnt)//decimalZeroCnt\uFF1A\u8981\u8865\u9F50\u7684\u5C0F\u6570\u70B9\u540E\u76840\u7684\u4E2A\u6570=\u5C0F\u6570\u4F4D\u6570-\u6570\u5B57\u4F4D\u6570\n                            minus(decimalZeroCnt,curValCnt)\n                            add(decimalZeroCnt,1)//\u5C0F\u6570\u70B9\u524D\u9762\u76840\n                            add(allFontCnt,decimalZeroCnt)\n                        }\n                    }\n                }\n                //\u8BA1\u7B97\u5B57\u7B26\u6240\u5360\u603B\u5BBD\u5EA6\n                set(tempVal,allFontCnt)\n                multiply(tempVal,fontWidth)\n                set(tempValW,tempVal)//tempValW:\u603B\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                set(fontWidthHalf,fontWidth)//fontWidthHalf:\u534A\u4E2A\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                divide(fontWidthHalf,2)\n                if(decimalCnt>0){\n                    minus(tempValW,fontWidthHalf)\n                }\n\n                //\u8BA1\u7B97\u8D77\u59CB\u5750\u6807\n                if(widgetWidth>tempValW){\n                    if(align==0){\n                        //\u5DE6\u5BF9\u9F50\n                        set(initPosX,0)\n                    }else{\n                        if(align==2){\n                            //\u53F3\u5BF9\u9F50\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                        }else{\n                            //\u5C45\u4E2D\u5BF9\u9F50\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                            divide(initPosX,2)\n                        }\n                    }\n                }else{\n                    set(initPosX,0)\n                }                \n                \n                //layer\u6570\n                set(layersCount,allFontCnt)\n\n                //\u7ED8\u5236\u7B26\u53F7\n                if(symbolCnt==1){\n                    //\u6709\u8D1F\u53F7\n                    set(\'this.layers.0.subLayers.image.texture\',12)\n                    set(\'this.layers.0.x\',initPosX)\n                    set(\'this.layers.0.hidden\',0)\n                    minus(layersCount,1)\n                    minus(allFontCnt,1)\n                }\n                \n                \n                //\u8BBE\u7F6E\u6BCF\u4E00\u4E2A\u5B57\u7B26\u7684\u521D\u59CB\u4F4D\u7F6E\n                set(xCoordinate,initPosX)\n                add(xCoordinate,tempValW)\n                set(i,0)\n                \n                //\u7ED8\u5236\u903B\u8F91              \n                while(i<layersCount){\n                    if(i==decimalCnt){\n                        if(decimalCnt==0){\n                        }else{\n                           //\u756B\u5C0F\u6578\u9EDE\n                            \n                           //xCoordinate-=fontWidth/2;\n                           set(tempVal,fontWidth)\n                           divide(tempVal,2)\n                           minus(xCoordinate,tempVal)\n                            \n                           //draw(index,xCoordinate)\n                           set(\'this.layers.1.hidden\',0)\n                           set(\'this.layers.1.x\',xCoordinate)\n                           set(\'this.layers.1.subLayers.image.texture\',10)\n                           \n                           minus(layersCount,1)\n                        }\n                        set(decimalCnt,-1)\n                        minus(i,1)\n                    }else{\n                        //\u756B\u6578\u5B57\n                        if(i<curValCnt){\n                            //\u756Breal\u6578\u5B57\n                            //curl=tCurVal-tCurVal/10*10\n                            set(tempVal,tCurVal)\n                            divide(tempVal,10)\n                            multiply(tempVal,10)\n                            set(curl,tCurVal)\n                            minus(curl,tempVal)\n                            \n                            //tCurVal=tCurVal/10\n                            divide(tCurVal,10)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //xCoordinate-=fontWidth\n                            minus(xCoordinate,fontWidth)\n                            \n                            //draw(index,xCoordinate)\n                            set(\'this.layers.index.hidden\',0)\n                            set(\'this.layers.index.x\',xCoordinate)\n                            set(\'this.layers.index.subLayers.image.texture\',curl)\n                        }else{\n                            //\u756B\u96F6\n                            //xCoordinate-=fontWidth;\n                            minus(xCoordinate,fontWidth)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //draw(index,xCoordinate)\n                            set(\'this.layers.index.hidden\',0)\n                            set(\'this.layers.index.x\',xCoordinate)\n                            set(\'this.layers.index.subLayers.image.texture\',0)\n                        }\n                    }\n                    //i++\n                    add(i,1)\n                }\n            }\n            if(tTotalFrame > 0){\n                if(tTrueCurVal>tMaxVal){\n                    //\u6EA2\u51FA\u6700\u5927\u503C\n                    set(tTrueCurVal,tMaxVal)\n                   \n                }else{\n                    //\u6EA2\u51FA\u6700\u5C0F\u503C\n                    if(tTrueCurVal<tMinVal){\n                        set(tTrueCurVal,tMinVal)\n                        \n                    }\n                }\n                var(tOldValue,0)\n                set(tOldValue,\'this.oldValue\')\n                set(\'this.startAnimationTag\',tOldValue)\n                set(\'this.stopAnimationTag\',tTrueCurVal)\n                checkalarm(0)\n                set(\'this.oldValue\',tTrueCurVal)\n                startanimation(0)\n            }else{\n                checkalarm(0)\n                set(\'this.oldValue\',tCurVal)\n            }\n        ',
        onAnimationFrame: '\n            //print(\'animation\',\'aa\')\n            var(tStartTag,0)\n            var(tStopTag,0)\n            set(tStartTag,\'this.startAnimationTag\')\n            set(tStopTag,\'this.stopAnimationTag\')\n            var(tTotalFrame,0)\n            set(tTotalFrame,\'this.totalFrame\')\n            var(tCurFrame,0)\n            set(tCurFrame,\'this.nowFrame\')\n            var(tYOffset,0)\n            var(tYOffset2,0)\n            var(tHeight,0)\n            set(tHeight,\'this.info.height\')\n            set(tYOffset,tHeight)\n            multiply(tYOffset,tCurFrame)\n            divide(tYOffset,tTotalFrame)\n            set(tYOffset2,tYOffset)\n            minus(tYOffset2,tHeight)\n            \n            //\u9690\u85CF\u6240\u6709\u56FE\u5C42\n            var(offset,0)\n            var(len,0)\n            var(halfLen,0)\n            set(len,\'this.layers.length\')\n            set(halfLen,len)\n            divide(halfLen,2)\n            while(offset<len){\n                set(\'this.layers.offset.hidden\',1)\n                if(offset < halfLen){\n                    set(\'this.layers.offset.y\',tYOffset)\n                }else{\n                    set(\'this.layers.offset.y\',tYOffset2)\n                }\n                add(offset,1)\n            }\n            // while(tIndex<tLaysLen){\n            //     set(\'this.layers.tIndex.subLayers.font.text\',0)\n            //     if(tIndex < halfLayersLen){\n            //         set(\'this.layers.tIndex.y\',tYOffset)\n            //     }else{\n            //         set(\'this.layers.tIndex.y\',tYOffset2)\n            //     }\n            //     add(tIndex,1)\n            // }\n\n            // draw num\n            //\u521D\u59CB\u5316\u53D8\u91CF\n            var(tTrueCurVal,0)\n           \n\n            var(tCurVal,0)                       //\u5F53\u524D\u503C\n            \n            \n\n            var(tMaxVal,0)                       //\u6700\u5927\u503C\n            set(tMaxVal,\'this.maxValue\')\n            \n            var(tMinVal,0)                       //\u6700\u5C0F\u503C\n            set(tMinVal,\'this.minValue\')\n\n            var(hasFrontZero,0)                  //\u662F\u5426\u6709\u524D\u5BFC\u96F6\n            set(hasFrontZero,\'this.otherAttrs.1\')\n\n            var(hasSymbol,0)                     //\u662F\u5426\u6709\u7B26\u53F7\n            set(hasSymbol,\'this.otherAttrs.2\')\n\n            var(decimalCnt,0)                    //\u5C0F\u6570\u4F4D\u6570\n            set(decimalCnt,\'this.otherAttrs.3\')\n\n            var(numOfDigits,0)                   //\u5B57\u7B26\u6570\n            set(numOfDigits,\'this.otherAttrs.4\')\n\n            var(overflow,0)                      //\u6EA2\u51FA\u6A21\u5F0F\uFF0C0\u4E0D\u663E\u793A\uFF0C1\u663E\u793A\n            set(overflow,\'this.otherAttrs.5\')\n\n            var(fontWidth,0)                     //\u5B57\u7B26\u56FE\u5C42\u5BBD\u5EA6\n            set(fontWidth,\'this.otherAttrs.6\')\n\n            var(align,0)                         //\u5BF9\u9F50\u65B9\u5F0F\uFF0C0\u5DE6\uFF0C1\u4E2D\uFF0C2\u53F3\n            set(align,\'this.otherAttrs.9\')\n\n            var(widgetWidth,0)                   //\u63A7\u4EF6\u5BBD\u5EA6\n            set(widgetWidth,\'this.otherAttrs.8\')\n\n            var(symbolCnt,0)                     //\u8981\u7ED8\u5236\u7684\u7B26\u53F7\u7684\u4E2A\u6570\n            set(symbolCnt,0)\n\n            var(curValCnt,0)                     //\u8981\u7ED8\u5236\u7684\u5F53\u524D\u503C\u6570\u5B57\u7684\u4E2A\u6570\n\n            var(allFontCnt,0)                    //\u8981\u7ED8\u5236\u7684\u603B\u5B57\u7B26\u7684\u4E2A\u6570\n\n            var(initPosX,0)                      //\u7ED8\u5236\u8D77\u59CB\u5750\u6807\n\n            var(decimalIndex,0)                  //\u5C0F\u6570\u70B9\u7684\u6807\u8BC6\u5750\u6807\uFF0C\u5373\u5728\u7B2C\u51E0\u4E2A\u56FE\u5C42\u4F4D\u7F6E\u7ED8\u5236\u5C0F\u6570\u70B9\n\n            var(decimalZeroCnt,0)                //\u8981\u8865\u9F50\u7684\u5C0F\u6570\u70B9\u540E\u76840\u7684\u4E2A\u6570\n\n            var(frontZeroCnt,0)                  //\u8981\u7ED8\u5236\u7684\u524D\u5BFC\u96F6\u7684\u4E2A\u6570\n\n            var(needDraw,0)                      //\u662F\u5426\u9700\u8981\u7ED8\u5236\uFF0C\u5728\u6EA2\u51FA\u4E0D\u663E\u793A\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u9700\u8981\u7ED8\u5236\u30020\u4E0D\u9700\u8981\uFF0C1\u9700\u8981\n            set(needDraw,1)\n\n            var(isOverflow,0)                    //\u6570\u5B57\u503C\u662F\u5426\u6EA2\u51FA\n\n            var(tempValW,0)                      //\u603B\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n\n            var(fontWidthHalf,0)                 //\u534A\u4E2A\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n\n            var(tempVal,0)                       //\u4E34\u65F6\u53D8\u91CF\n            \n            var(layersCount,0)                   //layer\u6570\n            \n            var(index,0)                         //layer index\n            \n            var(curl,0)                          //\u5F53\u524D\u5B57\u7B26\n            \n            var(i,0)                             //\u5FAA\u73AF\u53D8\u91CF\n            \n      \n            //startTag\n            set(tCurVal, tStartTag)\n\n            //\u6EA2\u51FA\u5904\u7406\n            if(tCurVal>tMaxVal){\n                //\u6EA2\u51FA\u6700\u5927\u503C\n                print(\'\u6EA2\u51FA\u6700\u5927\u503C\',tMaxVal)\n                set(tCurVal,tMaxVal)\n                set(isOverflow,1)\n            }else{\n                //\u6EA2\u51FA\u6700\u5C0F\u503C\n                if(tCurVal<tMinVal){\n                    print(\'\u6EA2\u51FA\u6700\u5C0F\u503C\',tMinVal)\n                    set(tCurVal,tMinVal)\n                    set(isOverflow,1)\n                }\n            }\n            if(isOverflow==1){\n                //\u6EA2\u51FA\n                if(overflow==0){\n                    //\u6EA2\u51FA\u4E0D\u663E\u793A\n                    set(needDraw,0)\n                }\n            }\n\n            //\u5224\u65AD\u662F\u5426\u9700\u8981\u7ED8\u5236\n            if(needDraw==1){\n                //\u7B26\u53F7&\u53D6\u7EDD\u5BF9\u503C\n                if(tCurVal<0){\n                    if(hasSymbol==1){\n                        set(symbolCnt,1)\n                    }\n                    multiply(tCurVal,-1)//\u53D6\u7EDD\u5BF9\u503C\n                }\n\n                //\u5F53\u524D\u503C\u4F4D\u6570\n                set(tempVal,tCurVal)\n                while(tempVal>0){\n                    add(curValCnt,1)\n                    divide(tempVal,10)\n                }\n                if(curValCnt==0){\n                    set(curValCnt,1) \n                }\n\n                //\u524D\u5BFC\u96F6\n                if(hasFrontZero==1){\n                    set(tempVal,numOfDigits)\n                    minus(tempVal,curValCnt)\n                    set(frontZeroCnt,tempVal)\n                }\n\n                //\u603B\u5B57\u7B26\u6570=\u524D\u5BFC0/\u81EA\u52A8\u88650+\u6570\u5B57\u4F4D\n                set(allFontCnt,0)\n                add(allFontCnt,symbolCnt)\n                add(allFontCnt,frontZeroCnt)\n                add(allFontCnt,curValCnt)\n\n                //\u5C0F\u6570\u70B9\u4F4D\u7F6E\n                if(decimalCnt>0){\n                    add(allFontCnt,1)\n                    if(decimalCnt>=curValCnt){\n                        //\u5C0F\u6570\u4F4D\u6570\u5927\u4E8E\u7B49\u4E8E\u5B57\u7B26\u4F4D\u6570\uFF0C\u5728\u975E\u524D\u5BFC\u96F6\u6A21\u5F0F\u4E0B\u9700\u8981\u8865\u96F6\n                        if(hasFrontZero==0){\n                            set(decimalZeroCnt,decimalCnt)//decimalZeroCnt\uFF1A\u8981\u8865\u9F50\u7684\u5C0F\u6570\u70B9\u540E\u76840\u7684\u4E2A\u6570=\u5C0F\u6570\u4F4D\u6570-\u6570\u5B57\u4F4D\u6570\n                            minus(decimalZeroCnt,curValCnt)\n                            add(decimalZeroCnt,1)//\u5C0F\u6570\u70B9\u524D\u9762\u76840\n                            add(allFontCnt,decimalZeroCnt)\n                        }\n                    }\n                }\n                //\u8BA1\u7B97\u5B57\u7B26\u6240\u5360\u603B\u5BBD\u5EA6\n                set(tempVal,allFontCnt)\n                multiply(tempVal,fontWidth)\n                set(tempValW,tempVal)//tempValW:\u603B\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                set(fontWidthHalf,fontWidth)//fontWidthHalf:\u534A\u4E2A\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                divide(fontWidthHalf,2)\n                if(decimalCnt>0){\n                    minus(tempValW,fontWidthHalf)\n                }\n\n                //\u8BA1\u7B97\u8D77\u59CB\u5750\u6807\n                if(widgetWidth>tempValW){\n                    if(align==0){\n                        //\u5DE6\u5BF9\u9F50\n                        set(initPosX,0)\n                    }else{\n                        if(align==2){\n                            //\u53F3\u5BF9\u9F50\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                        }else{\n                            //\u5C45\u4E2D\u5BF9\u9F50\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                            divide(initPosX,2)\n                        }\n                    }\n                }else{\n                    set(initPosX,0)\n                }                \n                \n                //layer\u6570\n                set(layersCount,allFontCnt)\n\n                //\u7ED8\u5236\u7B26\u53F7\n                if(symbolCnt==1){\n                    //\u6709\u8D1F\u53F7\n                    set(\'this.layers.0.subLayers.image.texture\',12)\n                    set(\'this.layers.0.x\',initPosX)\n                    set(\'this.layers.0.hidden\',0)\n                    minus(layersCount,1)\n                    minus(allFontCnt,1)\n                }\n                \n                \n                //\u8BBE\u7F6E\u6BCF\u4E00\u4E2A\u5B57\u7B26\u7684\u521D\u59CB\u4F4D\u7F6E\n                set(xCoordinate,initPosX)\n                add(xCoordinate,tempValW)\n                \n                //print(\'start xc\',xCoordinate)\n                \n                //\u7ED8\u5236\u903B\u8F91              \n                while(i<layersCount){\n                    if(i==decimalCnt){\n                        if(decimalCnt==0){\n                        }else{\n                           //\u756B\u5C0F\u6578\u9EDE\n                            \n                           //xCoordinate-=fontWidth/2;\n                           set(tempVal,fontWidth)\n                           divide(tempVal,2)\n                           minus(xCoordinate,tempVal)\n                            \n                           //draw(index,xCoordinate)\n                           set(\'this.layers.1.hidden\',0)\n                           set(\'this.layers.1.x\',xCoordinate)\n                           set(\'this.layers.1.subLayers.image.texture\',10)\n                           \n                           minus(layersCount,1)\n                        }\n                        set(decimalCnt,-1)\n                        minus(i,1)\n                    }else{\n                        //\u756B\u6578\u5B57\n                        if(i<curValCnt){\n                            //\u756Breal\u6578\u5B57\n                            //curl=tCurVal-tCurVal/10*10\n                            set(tempVal,tCurVal)\n                            divide(tempVal,10)\n                            multiply(tempVal,10)\n                            set(curl,tCurVal)\n                            minus(curl,tempVal)\n                            \n                            //tCurVal=tCurVal/10\n                            divide(tCurVal,10)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //xCoordinate-=fontWidth\n                            minus(xCoordinate,fontWidth)\n                            \n                            //draw(index,xCoordinate)\n                            set(\'this.layers.index.hidden\',0)\n                            set(\'this.layers.index.x\',xCoordinate)\n                            set(\'this.layers.index.subLayers.image.texture\',curl)\n                        }else{\n                            //\u756B\u96F6\n                            //xCoordinate-=fontWidth;\n                            minus(xCoordinate,fontWidth)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //draw(index,xCoordinate)\n                            set(\'this.layers.index.hidden\',0)\n                            set(\'this.layers.index.x\',xCoordinate)\n                            set(\'this.layers.index.subLayers.image.texture\',0)\n                        }\n                    }\n                    //i++\n                    add(i,1)\n                }\n            }\n            \n            \n            //stopTag\n            set(tCurVal, tStopTag)\n            set(isOverflow,0)\n            set(needDraw,1)\n            set(curValCnt,0)\n            set(symbolCnt,0)\n            set(frontZeroCnt,0)\n            var(tFloatIndex,0)\n\n            //\u6EA2\u51FA\u5904\u7406\n            if(tCurVal>tMaxVal){\n                //\u6EA2\u51FA\u6700\u5927\u503C\n                print(\'\u6EA2\u51FA\u6700\u5927\u503C\',tMaxVal)\n                set(tCurVal,tMaxVal)\n                set(isOverflow,1)\n            }else{\n                //\u6EA2\u51FA\u6700\u5C0F\u503C\n                if(tCurVal<tMinVal){\n                    print(\'\u6EA2\u51FA\u6700\u5C0F\u503C\',tMinVal)\n                    set(tCurVal,tMinVal)\n                    set(isOverflow,1)\n                }\n            }\n            if(isOverflow==1){\n                //\u6EA2\u51FA\n                if(overflow==0){\n                    //\u6EA2\u51FA\u4E0D\u663E\u793A\n                    set(needDraw,0)\n                }\n            }\n\n            //\u5224\u65AD\u662F\u5426\u9700\u8981\u7ED8\u5236\n            if(needDraw==1){\n                //\u7B26\u53F7&\u53D6\u7EDD\u5BF9\u503C\n                if(tCurVal<0){\n                    if(hasSymbol==1){\n                        set(symbolCnt,1)\n                    }\n                    multiply(tCurVal,-1)//\u53D6\u7EDD\u5BF9\u503C\n                }\n\n                //\u5F53\u524D\u503C\u4F4D\u6570\n                set(tempVal,tCurVal)\n                while(tempVal>0){\n                    add(curValCnt,1)\n                    divide(tempVal,10)\n                }\n                if(curValCnt==0){\n                    set(curValCnt,1) \n                }\n\n                //\u524D\u5BFC\u96F6\n                if(hasFrontZero==1){\n                    set(tempVal,numOfDigits)\n                    minus(tempVal,curValCnt)\n                    set(frontZeroCnt,tempVal)\n                }\n\n                //\u603B\u5B57\u7B26\u6570=\u524D\u5BFC0/\u81EA\u52A8\u88650+\u6570\u5B57\u4F4D\n                set(allFontCnt,0)\n                add(allFontCnt,symbolCnt)\n                add(allFontCnt,frontZeroCnt)\n                add(allFontCnt,curValCnt)\n\n                //\u5C0F\u6570\u70B9\u4F4D\u7F6E\n                if(decimalCnt>0){\n                    add(allFontCnt,1)\n                    if(decimalCnt>=curValCnt){\n                        //\u5C0F\u6570\u4F4D\u6570\u5927\u4E8E\u7B49\u4E8E\u5B57\u7B26\u4F4D\u6570\uFF0C\u5728\u975E\u524D\u5BFC\u96F6\u6A21\u5F0F\u4E0B\u9700\u8981\u8865\u96F6\n                        if(hasFrontZero==0){\n                            set(decimalZeroCnt,decimalCnt)//decimalZeroCnt\uFF1A\u8981\u8865\u9F50\u7684\u5C0F\u6570\u70B9\u540E\u76840\u7684\u4E2A\u6570=\u5C0F\u6570\u4F4D\u6570-\u6570\u5B57\u4F4D\u6570\n                            minus(decimalZeroCnt,curValCnt)\n                            add(decimalZeroCnt,1)//\u5C0F\u6570\u70B9\u524D\u9762\u76840\n                            add(allFontCnt,decimalZeroCnt)\n                        }\n                    }\n                }\n                //\u8BA1\u7B97\u5B57\u7B26\u6240\u5360\u603B\u5BBD\u5EA6\n                set(tempVal,allFontCnt)\n                multiply(tempVal,fontWidth)\n                set(tempValW,tempVal)//tempValW:\u603B\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                set(fontWidthHalf,fontWidth)//fontWidthHalf:\u534A\u4E2A\u5B57\u7B26\u6240\u5360\u5BBD\u5EA6\n                divide(fontWidthHalf,2)\n                if(decimalCnt>0){\n                    minus(tempValW,fontWidthHalf)\n                }\n\n                //\u8BA1\u7B97\u8D77\u59CB\u5750\u6807\n                set(initPosX,0)\n                if(widgetWidth>tempValW){\n                    if(align==0){\n                        //\u5DE6\u5BF9\u9F50\n                        set(initPosX,0)\n                    }else{\n                        if(align==2){\n                            //\u53F3\u5BF9\u9F50\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                        }else{\n                            //\u5C45\u4E2D\u5BF9\u9F50\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                            divide(initPosX,2)\n                        }\n                    }\n                }else{\n                    set(initPosX,0)\n                }                \n                \n                //layer\u6570\n                set(layersCount,allFontCnt)\n\n                //\u7ED8\u5236\u7B26\u53F7\n                if(symbolCnt==1){\n                    //\u6709\u8D1F\u53F7\n                    set(tFloatIndex,halfLen)\n                    set(\'this.layers.tFloatIndex.subLayers.image.texture\',12)\n                    set(\'this.layers.tFloatIndex.x\',initPosX)\n                    set(\'this.layers.tFloatIndex.hidden\',0)\n                    minus(layersCount,1)\n                    minus(allFontCnt,1)\n                }\n                \n                \n                //\u8BBE\u7F6E\u6BCF\u4E00\u4E2A\u5B57\u7B26\u7684\u521D\u59CB\u4F4D\u7F6E\n                set(xCoordinate,initPosX)\n                add(xCoordinate,tempValW)\n                //print(\'stoptag xc\',xCoordinate)\n                \n                //\u7ED8\u5236\u903B\u8F91 \n                //print(i,layersCount,\'i layersCount\')   \n                set(i,0)          \n                while(i<layersCount){\n                    if(i==decimalCnt){\n                        if(decimalCnt==0){\n                        }else{\n                           //\u756B\u5C0F\u6578\u9EDE\n                            \n                           //xCoordinate-=fontWidth/2;\n                           set(tempVal,fontWidth)\n                           divide(tempVal,2)\n                           minus(xCoordinate,tempVal)\n                            \n                           //draw(index,xCoordinate)\n                           set(tFloatIndex,halfLen)\n                           add(tFloatIndex,1)\n                           set(\'this.layers.tFloatIndex.hidden\',0)\n                           set(\'this.layers.tFloatIndex.x\',xCoordinate)\n                           set(\'this.layers.tFloatIndex.subLayers.image.texture\',10)\n                           \n                           minus(layersCount,1)\n                        }\n                        set(decimalCnt,-1)\n                        minus(i,1)\n                    }else{\n                        //\u756B\u6578\u5B57\n                        if(i<curValCnt){\n                            //\u756Breal\u6578\u5B57\n                            //curl=tCurVal-tCurVal/10*10\n                            set(tempVal,tCurVal)\n                            divide(tempVal,10)\n                            multiply(tempVal,10)\n                            set(curl,tCurVal)\n                            minus(curl,tempVal)\n                            \n                            //tCurVal=tCurVal/10\n                            divide(tCurVal,10)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //xCoordinate-=fontWidth\n                            minus(xCoordinate,fontWidth)\n                            \n                            //draw(index,xCoordinate)\n                            set(tFloatIndex,halfLen)\n                            add(tFloatIndex,index)\n                            set(\'this.layers.tFloatIndex.hidden\',0)\n                            set(\'this.layers.tFloatIndex.x\',xCoordinate)\n                            set(\'this.layers.tFloatIndex.subLayers.image.texture\',curl)\n                        }else{\n                            //\u756B\u96F6\n                            //xCoordinate-=fontWidth;\n                            minus(xCoordinate,fontWidth)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //draw(index,xCoordinate)\n                            set(tFloatIndex,halfLen)\n                            add(tFloatIndex,index)\n                            set(\'this.layers.tFloatIndex.hidden\',0)\n                            set(\'this.layers.tFloatIndex.x\',xCoordinate)\n                            set(\'this.layers.tFloatIndex.subLayers.image.texture\',0)\n                        }\n                    }\n                    //i++\n                    add(i,1)\n                }\n                //print(\'curWidget\',\'this\')\n            }\n            \n        '
    };

    WidgetCommands['Selector'] = {
        onInitialize: '\n            var(offset,0)\n            set(offset,2)\n            var(len,0)\n            set(len,\'this.layers.length\')\n            var(tMaxHighLightNum,0)\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')\n            if(tMaxHighLightNum>0){\n                minus(len,1)\n            }\n            while(offset<len){\n                set(\'this.layers.offset.hidden\',0)\n                add(offset,1)\n            }\n        ',
        onTagChange: '\n            var(curItem,0)                            //curValue\u5F53\u524D\u5143\u7D20 = tag\u503C\n            getTag(curItem)\n                       \n            var(itemCount,0)                          //\u5143\u7D20\u603B\u4E2A\u6570\n            set(itemCount,\'this.otherAttrs.2\')\n            \n            var(itemShowCount,0)                      //\u5F85\u9009\u5143\u7D20\u5C55\u793A\u4E2A\u6570\uFF08\u5355\u8FB9\uFF09\n            set(itemShowCount,\'this.otherAttrs.3\')\n           \n            var(w,0)                                  //\u63A7\u4EF6\u5BBD\u5EA6 = \u9009\u4E2D\u5143\u7D20\u5BBD\u5EA6\n            set(w,\'this.otherAttrs.4\')\n            \n            var(h,0)                                  //\u63A7\u4EF6\u9AD8\u5EA6\n            set(h,\'this.otherAttrs.5\')\n            \n            var(itemWidth,0)                          //\u5F85\u9009\u5143\u7D20\u5BBD\u5EA6\n            set(itemWidth,\'this.otherAttrs.6\')\n            \n            var(itemHeight,0)                         //\u5F85\u9009\u5143\u7D20\u9AD8\u5EA6\n            set(itemHeight,\'this.otherAttrs.7\')\n            \n            var(selectorHeight,0)                     //\u9009\u4E2D\u5143\u7D20\u9AD8\u5EA6\n            set(selectorHeight,\'this.otherAttrs.9\')\n            \n            var(temp1,0)                              //\u4E34\u65F6\u53D8\u91CF\n            var(temp2,0)\n           \n            //curItem\u53D6\u6A21\n            mod(curItem,itemCount)\n            //\u8D1F\u6570\u5904\u7406\n            if(curItem<0){\n                add(curItem,itemCount)\n            }\n            set(\'this.otherAttrs.1\',curItem)\n           \n           \n            //\u6807\u9898\u5C42\u80CC\u666F\u5C42\u4E0D\u7528\u52A8\n            \n            \n            //\u524D\u666F\u5C42\n            //\u524D\u666F\u5C42\u4F4D\u7F6E\n            //var startH=h/2-selectorHeight/2\n            var(startH,0)\n            set(temp1,h)\n            divide(temp1,2)\n            set(temp2,selectorHeight)\n            divide(temp2,2)\n            minus(temp1,temp2)\n            set(startH,temp1)\n         \n            //var temp2=startH-curValue*selectorHeight\n            set(temp1,curItem)\n            multiply(temp1,selectorHeight)\n            set(temp2,startH)\n            minus(temp2,temp1)\n            \n            //Layer(0,temp2,selectorWidth,selectorHeight*itemCount,true)\n            set(\'this.layers.3.y\',temp2)\n            \n            //\u524D\u666F\u5C42roi\n            //temp1=curValue*selectorHeight;\n            set(temp1,curItem)\n            multiply(temp1,selectorHeight)\n            set(temp2,temp1)\n            add(temp2,selectorHeight)\n            \n            //ROISubLayer(0,0,temp1,w,temp1,w,temp1+selectorHeight,0,temp1+selectorHeight);\n            set(\'this.layers.3.subLayers.roi.p1y\',temp1)\n            set(\'this.layers.3.subLayers.roi.p2y\',temp1)\n            set(\'this.layers.3.subLayers.roi.p3y\',temp2)\n            set(\'this.layers.3.subLayers.roi.p4y\',temp2)\n            \n            \n            //\u540E\u666F\u5C42(\u4E0A)\n            //\u540E\u666F\u5C42(\u4E0A)\u4F4D\u7F6E\n            //temp1=-(curValue-itemShowCount)*itemHeight;\n            set(temp1,curItem)\n            minus(temp1,itemShowCount)\n            multiply(temp1,itemHeight)\n            multiply(temp1,-1)\n            \n            //Layer(selectorWidth/2-itemWidth/2,temp1,itemWidth,itemHeight*itemCount,true);\n            set(\'this.layers.1.y\',temp1)\n            \n            //\u540E\u666F\u5C42(\u4E0A)roi\n            //-tempH\n            multiply(temp1,-1)\n            //-tempH+itemShowCount*itemHeight\n            set(temp2,itemShowCount)\n            multiply(temp2,itemHeight)\n            add(temp2,temp1)\n            \n            //ROISubLayer(0,0,-tempH,itemWidth,-tempH,itemWidth,-tempH+itemShowCount*itemHeight,0,-tempH+itemShowCount*itemHeight)\n            set(\'this.layers.1.subLayers.roi.p1y\',temp1)\n            set(\'this.layers.1.subLayers.roi.p2y\',temp1)\n            set(\'this.layers.1.subLayers.roi.p3y\',temp2)\n            set(\'this.layers.1.subLayers.roi.p4y\',temp2)\n            \n            \n            //\u540E\u666F\u5C42(\u4E0B)\n            //\u540E\u666F\u5C42(\u4E0B)\u4F4D\u7F6E\n            //tempH=h/2+selectorHeight/2-(curValue+1)*itemHeight;\n            set(temp1,curItem)\n            add(temp1,1)\n            multiply(temp1,itemHeight)\n            multiply(temp1,-1)\n            set(temp2,h)\n            divide(temp2,2)\n            add(temp1,temp2)\n            set(temp2,selectorHeight)\n            divide(temp2,2)\n            add(temp1,temp2)\n\n            //Layer(selectorWidth/2-itemWidth/2,tempH,itemWidth,itemHeight*itemCount,true);\n            set(\'this.layers.0.y\',temp1)\n            \n            \n            //\u540E\u666F\u5C42(\u4E0B)roi\n            //(curValue+1)*itemHeight\n            set(temp1,curItem)\n            add(temp1,1)\n            multiply(temp1,itemHeight)\n            //(curValue+1)*itemHeight+itemShowCount*itemHeight\n            set(temp2,itemShowCount)\n            multiply(temp2,itemHeight)\n            add(temp2,temp1)\n            \n            //ROISubLayer(0,0,(curValue+1)*itemHeight,itemWidth,(curValue+1)*itemHeight,itemWidth,(curValue+1)*itemHeight+itemShowCount*itemHeight,0,(curValue+1)*itemHeight+itemShowCount*itemHeight);\n            set(\'this.layers.0.subLayers.roi.p1y\',temp1)\n            set(\'this.layers.0.subLayers.roi.p2y\',temp1)\n            set(\'this.layers.0.subLayers.roi.p3y\',temp2)\n            set(\'this.layers.0.subLayers.roi.p4y\',temp2)\n            \n        ',
        onMouseUp: '\n            var(len,0)                                       //\u56FE\u5C42\u603B\u6570\n            set(len,\'this.layers.length\')\n            minus(len,1)\n            \n            var(curValue,0)                                 //tag\u503C\n            getTag(curValue) \n\n            var(itemCount,0)                                //\u5143\u7D20\u603B\u4E2A\u6570\n            set(itemCount,\'this.otherAttrs.2\')\n\n            var(itemShowCount,0)                            //\u5F85\u9009\u5143\u7D20\u5C55\u793A\u4E2A\u6570\uFF08\u5355\u8FB9\uFF09\n            set(itemShowCount,\'this.otherAttrs.3\')\n\n            var(itemHeight,0)                               //\u5F85\u9009\u5143\u7D20\u9AD8\u5EA6\n            set(itemHeight,\'this.otherAttrs.7\')\n\n            var(selectorHeight,0)                           //\u9009\u4E2D\u5143\u7D20\u9AD8\u5EA6\n            set(selectorHeight,\'this.otherAttrs.9\')\n\n            var(tInnerX,0)                                  //\u9F20\u6807\u5750\u6807x\n            set(tInnerX,\'this.innerX\')\n\n            var(tInnerY,0)                                  //\u9F20\u6807\u5750\u6807y\n            set(tInnerY,\'this.innerY\')\n\n            var(tStartX,0)                                  //\u63A7\u4EF6\u5DE6\u4E0A\u89D2\u5750\u6807x\n            // set(tStartX,\'this.otherAttrs.11\')   \n\n            var(tStartY,0)                                  //\u63A7\u4EF6\u5DE6\u4E0A\u89D2\u5750\u6807y\n            // set(tStartY,\'this.otherAttrs.12\')\n\n            var(tSelectedStartY,0)                          //\u9009\u62E9\u6846\u5DE6\u4E0A\u89D2\u5750\u6807y\n            set(tSelectedStartY,itemShowCount)            \n            multiply(tSelectedStartY,itemHeight)            \n            add(tSelectedStartY,tStartY)            \n\n            var(tWidth,0)                                   //\u63A7\u4EF6\u5BBD\u5EA6\n            set(tWidth,\'this.otherAttrs.4\')            \n\n            var(tHeight,0)                                  //\u63A7\u4EF6\u9AD8\u5EA6\n            set(tHeight,\'this.otherAttrs.5\')  \n\n            var(tEndX,0)                                    //\u63A7\u4EF6\u53F3\u4E0B\u89D2\u5750\u6807x\n            set(tEndX,tStartX)\n            add(tEndX,tWidth)           \n\n            var(tEndY,0)                                    //\u63A7\u4EF6\u53F3\u4E0B\u89D2\u5750\u6807y\n            set(tEndY,tStartY)\n            add(tEndY,tHeight)\n\n            var(tSelectedEndY,0)                            //\u9009\u62E9\u6846\u5DE6\u4E0A\u89D2\u5750\u6807y\n            set(tSelectedEndY,tSelectedStartY)                       \n            add(tSelectedEndY,selectorHeight)   \n\n            var(temp1,0)                                    //\u4E34\u65F6\u53D8\u91CF\n            var(temp2,0)\n\n            // print(\'tInnerX\',tInnerX)\n            // print(\'tInnerY\',tInnerY)\n            // print(\'tStartX\',tStartX)\n            // print(\'tStartY\',tStartY)\n            // print(\'tEndX\',tEndX)\n            // print(\'tEndY\',tEndY)\n            // print(\'tSelectedStartY\',tSelectedStartY)\n            // print(\'tSelectedEndY\',tSelectedEndY)\n\n            var(okFlag,0)                                                 //\u9AD8\u4EAE\u662F\u5426\u5DF2\u9009\u4E2D\n            set(okFlag,\'this.otherAttrs.10\')\n            var(isMoved,0)\n            set(isMoved,\'this.otherAttrs.14\')                             //isMoved \n            \n            if(isMoved==0){                                               //isMoved==0\uFF0C\u6CA1\u6709\u88AB\u62D6\u62FD\u8FC7\n                if(okFlag==1){\n                    if (tInnerX>=tStartX) {\n                        if(tInnerX < tEndX){\n                            if (tInnerY>=tStartY) {\n                                if (tInnerY<tEndY) {                      //\u5728\u63A7\u4EF6\u5185\n                                    if (tInnerY<tSelectedStartY) {        //\u4E0D\u5728\u9009\u62E9\u6846\u91CC\uFF0C\u5728\u9009\u62E9\u6846\u4E0A\u65B9\n                                        set(temp1,tSelectedStartY)\n                                        minus(temp1,tInnerY)\n                                        divide(temp1,itemHeight)\n                                        add(temp1,1)\n                                        set(temp2,curValue)\n                                        minus(temp2,temp1)\n                                        if(temp2>=0){\n                                            // set(temp2,0)\n                                            setTag(temp2)\n                                        }\n\n                                    }else{\n                                        if (tInnerY>tSelectedEndY) {      //\u4E0D\u5728\u9009\u62E9\u6846\u91CC\uFF0C\u5728\u9009\u62E9\u6846\u4E0B\u65B9\n                                            set(temp1,tInnerY)\n                                            minus(temp1,tSelectedEndY)\n                                            divide(temp1,itemHeight)\n                                            add(temp1,1)\n                                            set(temp2,curValue)\n                                            add(temp2,temp1)\n                                            set(temp1,itemCount)\n                                            minus(temp1,1)\n                                            if(temp2<=temp1){\n                                                // set(temp2,temp1)\n                                                setTag(temp2)\n                                            }\n\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }else{\n\n                    var(isItemShow,0)                                     //\u9009\u9879\u662F\u5426\u5DF2\u5C55\u5F00\n                    set(isItemShow,\'this.otherAttrs.13\')\n                    if(isItemShow==1){\n                        if (tInnerX>=tStartX) {\n                            if(tInnerX <=tEndX){\n                                if (tInnerY>=tStartY) {\n                                    if (tInnerY<=tEndY) {                 //\u5728\u63A7\u4EF6\u91CC\n                                        if (tInnerY<tSelectedStartY) {    //\u4E0D\u5728\u9009\u62E9\u6846\u91CC\uFF0C\u5728\u9009\u62E9\u6846\u4E0A\u65B9\n                                            set(temp1,tSelectedStartY)\n                                            minus(temp1,tInnerY)\n                                            divide(temp1,itemHeight)\n                                            add(temp1,1)\n                                            set(temp2,curValue)\n                                            minus(temp2,temp1)\n                                            if(temp2>=0){\n                                                // set(temp2,0)\n                                                setTag(temp2)\n                                            }\n\n                                        }else{\n                                            if (tInnerY>tSelectedEndY) {  //\u4E0D\u5728\u9009\u62E9\u6846\u91CC\uFF0C\u5728\u9009\u62E9\u6846\u4E0B\u65B9\n                                                set(temp1,tInnerY)\n                                                minus(temp1,tSelectedEndY)\n                                                divide(temp1,itemHeight)\n                                                add(temp1,1)\n                                                set(temp2,curValue)\n                                                add(temp2,temp1)\n                                                set(temp1,itemCount)\n                                                minus(temp1,1)\n                                                if(temp2<=temp1){\n                                                    // set(temp2,temp1)\n                                                    setTag(temp2)\n                                                }\n\n                                            }else{                         //\u5728\u9009\u62E9\u6846\u91CC\n                                                                           //\u6536\u8D77\u9009\u9879\n                                                set(\'this.layers.0.hidden\',1)\n                                                set(\'this.layers.1.hidden\',1)\n                                                set(\'this.otherAttrs.13\',0)  \n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }else{\n                        if (tInnerX>=tStartX) {\n                            if(tInnerX <=tEndX){\n                                if (tInnerY>=tSelectedStartY) {\n                                    if (tInnerY<=tSelectedEndY) {          //\u5728\u9009\u62E9\u6846\u91CC\n                                        var(tMaxHighLightNum,0)                          //\u63A7\u4EF6\u5185\u9AD8\u4EAE\u5757\u6570,\u7528\u4E8E\u5224\u65AD\u662F\u5426\u542F\u7528\u9AD8\u4EAE\n                                        set(tMaxHighLightNum,\'this.maxHighLightNum\')\n                                        \n                                        if(tMaxHighLightNum>0){\n                                            //\u542F\u7528\u9AD8\u4EAE\n                                            var(hiddenValue,0)\n                                            set(hiddenValue,\'this.layers.len.hidden\')\n                                            if(hiddenValue==1){   //\u4E0D\u80FD\u5C55\u5F00\u88AB\u9AD8\u4EAE\u7684\u9009\u62E9\u5668\n                                                                               //\u5C55\u5F00\u9009\u9879 \n                                                set(\'this.layers.0.hidden\',0)\n                                                set(\'this.layers.1.hidden\',0)\n                                                set(\'this.otherAttrs.13\',1)\n                                            }\n                                        }else{\n                                            set(\'this.layers.0.hidden\',0)\n                                            set(\'this.layers.1.hidden\',0)\n                                            set(\'this.otherAttrs.13\',1)\n                                        }\n                                        \n                                       \n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            set(\'this.otherAttrs.14\',0)                     //isMoved = 0\n        ',
        onMouseDown: '\n            var(tInnerY,0)\n            set(tInnerY,\'this.innerY\')\n            set(\'this.otherAttrs.15\',tInnerY)               //\u8BB0\u5F55\u9F20\u6807\u4E0A\u4E00\u5750\u6807y       \n        ',
        onMouseMove: '\n            var(curValue,0)                                 //tag\u503C\n            getTag(curValue) \n\n            var(itemCount,0)                                //\u5143\u7D20\u603B\u4E2A\u6570\n            set(itemCount,\'this.otherAttrs.2\')\n\n            var(itemShowCount,0)                            //\u5F85\u9009\u5143\u7D20\u5C55\u793A\u4E2A\u6570\uFF08\u5355\u8FB9\uFF09\n            set(itemShowCount,\'this.otherAttrs.3\')\n\n            var(itemHeight,0)                               //\u5F85\u9009\u5143\u7D20\u9AD8\u5EA6\n            set(itemHeight,\'this.otherAttrs.7\')\n\n            var(selectorHeight,0)                           //\u9009\u4E2D\u5143\u7D20\u9AD8\u5EA6\n            set(selectorHeight,\'this.otherAttrs.9\')\n\n            var(tInnerX,0)                                  //\u9F20\u6807\u5750\u6807x\n            set(tInnerX,\'this.innerX\')\n\n            var(tInnerY,0)                                  //\u9F20\u6807\u5750\u6807y\n            set(tInnerY,\'this.innerY\')\n\n            var(tLastInnerY,0)                              //\u9F20\u6807\u4E0A\u4E00\u6709\u6548\u5750\u6807y\n            set(tLastInnerY,\'this.otherAttrs.15\')\n\n            var(tStartX,0)                                  //\u63A7\u4EF6\u5DE6\u4E0A\u89D2\u5750\u6807x\n            // set(tStartX,\'this.otherAttrs.11\')   \n\n            var(tStartY,0)                                  //\u63A7\u4EF6\u5DE6\u4E0A\u89D2\u5750\u6807y\n            // set(tStartY,\'this.otherAttrs.12\')\n\n            var(tSelectedStartY,0)                          //\u9009\u62E9\u6846\u5DE6\u4E0A\u89D2\u5750\u6807y\n            set(tSelectedStartY,itemShowCount)            \n            multiply(tSelectedStartY,itemHeight)            \n            add(tSelectedStartY,tStartY)            \n\n            var(tWidth,0)                                   //\u63A7\u4EF6\u5BBD\u5EA6\n            set(tWidth,\'this.otherAttrs.4\')            \n\n            var(tHeight,0)                                  //\u63A7\u4EF6\u9AD8\u5EA6\n            set(tHeight,\'this.otherAttrs.5\')  \n\n            var(tEndX,0)                                    //\u63A7\u4EF6\u53F3\u4E0B\u89D2\u5750\u6807x\n            set(tEndX,tStartX)\n            add(tEndX,tWidth)           \n\n            var(tEndY,0)                                    //\u63A7\u4EF6\u53F3\u4E0B\u89D2\u5750\u6807y\n            set(tEndY,tStartY)\n            add(tEndY,tHeight)\n\n            var(tSelectedEndY,0)                            //\u9009\u62E9\u6846\u5DE6\u4E0A\u89D2\u5750\u6807y\n            set(tSelectedEndY,tSelectedStartY)                       \n            add(tSelectedEndY,selectorHeight)   \n\n            var(temp1,0)                                    //\u4E34\u65F6\u53D8\u91CF\n            var(temp2,0)\n\n            var(isItemShow,0)                                              //\u9009\u9879\u662F\u5426\u5DF2\u5C55\u5F00\n            set(isItemShow,\'this.otherAttrs.13\')\n            if(isItemShow==1){\n                if (tInnerX>=tStartX) {\n                    if(tInnerX <=tEndX){\n                        if (tInnerY>=tStartY) {\n                            if (tInnerY<=tEndY) {                           //\u5728\u63A7\u4EF6\u91CC              \n                                set(temp1,tLastInnerY)                      //\u9F20\u6807\u7EB5\u5411\u79FB\u52A8\u8DDD\u79BB\n                                minus(temp1,tInnerY)\n                                set(temp2,itemHeight)\n                                divide(temp2,2)                             //itemHeight\u7684\u4E00\u534A\n                                if(temp1>0){                                //\u79FB\u52A8\u65B9\u5411\u5411\u4E0A\n                                    if(temp1>=temp2){                       //\u8BA4\u4E3A\u79FB\u52A8\u6709\u6548\n                                        set(temp2,curValue)\n                                        add(temp2,1)\n                                        set(temp1,itemCount)\n                                        minus(temp1,1)\n                                        if(temp2<=temp1){\n                                            setTag(temp2)\n                                        }\n                                        set(\'this.otherAttrs.15\',tInnerY)\n                                        set(\'this.otherAttrs.14\',1)         //isMoved = 1\n                                    }\n                                }else{                                      //\u79FB\u52A8\u65B9\u5411\u5411\u4E0B\n                                    multiply(temp1,-1)\n                                    if(temp1>=temp2){                       //\u8BA4\u4E3A\u79FB\u52A8\u6709\u6548\n                                        set(temp2,curValue)\n                                        minus(temp2,1)\n                                        if(temp2>=0){\n                                            setTag(temp2)\n                                        }\n                                        set(\'this.otherAttrs.15\',tInnerY)\n                                        set(\'this.otherAttrs.14\',1)         //isMoved = 1\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        ',
        onKeyBoardLeft: '\n            var(tMaxHighLightNum,0)                          //\u63A7\u4EF6\u5185\u9AD8\u4EAE\u5757\u6570\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')\n            var(okFlag,0)                                    //\u9AD8\u4EAE\u662F\u5426\u5DF2\u9009\u4E2D\n            set(okFlag,\'this.otherAttrs.10\')\n            var(len,0)                                       //\u56FE\u5C42\u603B\u6570\n            set(len,\'this.layers.length\')\n            minus(len,1)\n            //\u5224\u65AD\u662F\u5426\u542F\u7528\u9AD8\u4EAE\n            if (tMaxHighLightNum>0) {\n                if(okFlag==0){//\u63A7\u4EF6\u95F4\u9AD8\u4EAE\u9009\u62E9\n                    var(tHighLightNum,0)\n                    set(tHighLightNum,\'this.highLightNum\')\n                    if (tHighLightNum==1) {\n                        //hashighlight\n                        set(\'this.layers.len.hidden\',0)\n                    }else{\n                        set(\'this.layers.len.hidden\',1)\n                    }\n                }else{//\u9AD8\u4EAE\u5DF2\u9009\u62E9\uFF0C\u5DE6\u79FBtag\u503C\u51CF1\n                    var(curItem,0)\n                    set(curItem,\'this.otherAttrs.1\')\n                    minus(curItem,1)\n                    //curItem\u53D6\u6A21\n                    mod(curItem,itemCount)\n                    if(curItem<0){\n                        add(curItem,itemCount)\n                    }\n                    set(\'this.otherAttrs.1\',curItem)\n                    setTag(curItem)\n                }\n            }\n          \n        ',
        onKeyBoardRight: '\n            var(tMaxHighLightNum,0)                          //\u63A7\u4EF6\u5185\u9AD8\u4EAE\u5757\u6570\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')\n            var(okFlag,0)                                    //\u9AD8\u4EAE\u662F\u5426\u5DF2\u9009\u4E2D\n            set(okFlag,\'this.otherAttrs.10\')\n            var(len,0)                                       //\u56FE\u5C42\u603B\u6570\n            set(len,\'this.layers.length\')\n            minus(len,1)\n            //\u5224\u65AD\u662F\u5426\u542F\u7528\u9AD8\u4EAE\n            if (tMaxHighLightNum>0) {\n                if(okFlag==0){//\u63A7\u4EF6\u95F4\u9AD8\u4EAE\u9009\u62E9\n                    var(tHighLightNum,0)\n                    set(tHighLightNum,\'this.highLightNum\')\n                    if (tHighLightNum==1) {\n                        //hashighlight\n                        set(\'this.layers.len.hidden\',0)\n                    }else{\n                        set(\'this.layers.len.hidden\',1)\n                    }\n                }else{//\u9AD8\u4EAE\u5DF2\u9009\u62E9\uFF0C\u53F3\u79FBtag\u503C\u52A01\n                    var(curItem,0)\n                    set(curItem,\'this.otherAttrs.1\')\n                    add(curItem,1)\n                    //curItem\u53D6\u6A21\n                    mod(curItem,itemCount)\n                    if(curItem<0){\n                        add(curItem,itemCount)\n                    }\n                    set(\'this.otherAttrs.1\',curItem)\n                    setTag(curItem)\n                }\n            }\n        ',
        onKeyBoardOK: '\n            var(okFlag,0)                                    //\u9AD8\u4EAE\u662F\u5426\u5DF2\u9009\u4E2D\n            set(okFlag,\'this.otherAttrs.10\')\n            if(okFlag==0){\n                setglobalvar(0,1)\n                set(\'this.otherAttrs.10\',1)\n                set(\'this.layers.0.hidden\',0)\n                set(\'this.layers.1.hidden\',0)\n                //\u9009\u9879\u5DF2\u5C55\u5F00\n                set(\'this.otherAttrs.13\',1)\n                \n            }else{\n                setglobalvar(0,0)\n                set(\'this.otherAttrs.10\',0)\n                set(\'this.layers.0.hidden\',1)\n                set(\'this.layers.1.hidden\',1)\n                //\u9009\u9879\u5DF2\u6536\u8D77\n                set(\'this.otherAttrs.13\',0)\n            }\n        '
    };

    WidgetCommands['RotaryKnob'] = {
        onInitialize: '\n            var(offset,0)\n            set(offset,0)\n            var(len,0)\n            set(len,\'this.layers.length\')\n            var(tMaxHighLightNum,0)\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')\n            if(tMaxHighLightNum>0){\n                minus(len,1)                                       //\u9AD8\u4EAE\u5C42\u521D\u59CB\u5316\u65F6\u4E0D\u663E\u793A\n            }\n            while(offset<len){\n                set(\'this.layers.offset.hidden\',0)\n                add(offset,1)\n            }\n        ',
        onMouseUp: '\n            var(tHit,0)                                 //isHited\n            set(tHit,\'this.otherAttrs.4\')\n            \n            var(tMinValue,0)                            //\u6700\u5C0F\u503C\n            set(tMinValue,\'this.minValue\')\n            \n            var(tMaxValue,0)                            //\u6700\u5927\u503C\n            set(tMaxValue,\'this.maxValue\')\n\n            if (tHit==1) {                              //isHited==1 \u6B64\u65F6\u9F20\u6807\u88AB\u6309\u4E0B\n                var(tInnerX,0)                          //\u9F20\u6807\u5750\u6807x\n                set(tInnerX,\'this.innerX\')\n\n                var(tInnerY,0)                          //\u9F20\u6807\u5750\u6807y\n                set(tInnerY,\'this.innerY\')\n\n                var(tLastArea,0)                        //\u9F20\u6807\u4E0A\u4E00\u4E2A\u533A\u57DF\n                set(tLastArea,\'this.otherAttrs.5\') \n\n                var(tOver,0)                            //\u9F20\u6807\u4E0A\u4E00\u4E2A\u533A\u57DF\n                set(tOver,\'this.otherAttrs.6\')      \n\n                var(tRotateX,0)                         //\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807X\n                set(tRotateX,\'this.otherAttrs.2\')\n\n                var(tRotateY,0)                         //\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807Y\n                set(tRotateY,\'this.otherAttrs.3\')\n\n                var(tX,0)                               //\u9F20\u6807\u76F8\u5BF9\u4E8E\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807X\n                set(tX,tInnerX)\n                minus(tX,tRotateX)\n\n                var(tY,0)                               //\u9F20\u6807\u76F8\u5BF9\u4E8E\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807Y\n                set(tY,tRotateY)\n                minus(tY,tInnerY)\n\n                var(tBaseAngle,0)                       //\u533A\u57DF\u57FA\u89D2\n                var(tTanSymbol,0)                       //tan\u89D2\u7684\u662F\u5426\u53D6\u4F59:\u4E0D\u662F\u771F\u6B63\u53D6\u4F59\u89D2\uFF0C\u53D645-tTanAngle\n                var(tTan,0)                             //tan\u503C\n                var(tTanAngle,0)                        //tan\u89D2\n\n                var(tRotateAngle,0)                     //\u65CB\u8F6C\u89D2\n\n                var(temp1,0)                            //\u4E34\u65F6\u53D8\u91CF\n                var(temp2,0)\n\n                                                        //\u5212\u5206\u533A\u57DF\n                if(tX>0){\n                    if(tY>0){\n                        if(tY>=tX){\n                            if(tOver==1){\n                                if(tLastArea==8){\n                                     set(tOver,0)       //\u672A\u6EA2\u51FA\u5408\u6CD5\n                                }\n                            }else{\n                                if(tLastArea==8){\n                                     set(tOver,1)       //\u6EA2\u51FA\u4E0D\u5408\u6CD5\n                                }\n                            }\n                            set(tLastArea,1)            //1\n                            set(tBaseAngle,0)           //\u57FA\u89D2=0        \n                            set(tTan,tX)                //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,tY)\n                            set(tTanSymbol,0)           //\u4E0D\u53D6\u4F59\n\n                        }else{\n                            set(tLastArea,2)            //2\n                            set(tBaseAngle,45)          //\u57FA\u89D2=45\n                            set(tTan,tY)                //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,tX)\n                            set(tTanSymbol,1)           //\u53D6\u4F59\n                        }\n                    }else{         \n                        set(temp1,tY)                   //\u53D6\u7EDD\u5BF9\u503C\n                        multiply(temp1,-1)\n\n                        if(tX>=temp1){\n                            set(tLastArea,3)            //3\n                            set(tBaseAngle,90)          //\u57FA\u89D2=90\n                            set(tTan,temp1)             //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,tX)\n                            set(tTanSymbol,0)           //\u4E0D\u53D6\u4F59\n\n                        }else{\n                            set(tLastArea,4)            //4\n                            set(tBaseAngle,135)         //\u57FA\u89D2=135\n                            set(tTan,tX)                //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,temp1)\n                            set(tTanSymbol,1)           //\u53D6\u4F59\n                        }\n                    }\n                }else{\n                    if(tY<0){\n                        set(temp1,tX)                   //\u53D6\u7EDD\u5BF9\u503C\n                        multiply(temp1,-1)\n                        set(temp2,tY)\n                        multiply(temp2,-1)\n\n                        if(temp2>=temp1){\n                            set(tLastArea,5)            //5\n                            set(tBaseAngle,180)         //\u57FA\u89D2=180\n                            set(tTan,temp1)             //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,temp2)\n                            set(tTanSymbol,0)           //\u4E0D\u53D6\u4F59\n\n                        }else{\n                            set(tLastArea,6)            //6\n                            set(tBaseAngle,225)         //\u57FA\u89D2=225\n                            set(tTan,temp2)             //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,temp1)\n                            set(tTanSymbol,1)           //\u53D6\u4F59\n                        }\n                    }else{\n                        set(temp1,tX)                   //\u53D6\u7EDD\u5BF9\u503C\n                        multiply(temp1,-1)\n\n                        if(temp1>=tY){\n                            set(tLastArea,7)            //7\n                            set(tBaseAngle,270)         //\u57FA\u89D2=270\n                            set(tTan,tY)                //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,temp1)\n                            set(tTanSymbol,0)           //\u4E0D\u53D6\u4F59\n\n                        }else{\n                            if(tOver==1){\n                                if(tLastArea==1){\n                                     set(tOver,0)       //\u672A\u6EA2\u51FA\u5408\u6CD5\n                                }\n                            }else{\n                                if(tLastArea==1){\n                                     set(tOver,1)       //\u6EA2\u51FA\u4E0D\u5408\u6CD5\n                                }\n                            }\n                            set(tLastArea,8)            //8\n                            set(tBaseAngle,315)         //\u57FA\u89D2=315\n                            set(tTan,temp1)             //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,tY)\n                            set(tTanSymbol,1)           //\u53D6\u4F59\n                        } \n                    }\n                }   \n                                                        //\u5224\u65AD\u662F\u5426\u6EA2\u51FA\n                if(tOver==0){\n                                                        //tan\u503C\u67E5\u8868\uFF0C\u8BA1\u7B97tanAngle\n                    if(tTan==0){\n                        set(tTanAngle,0)\n                    }else{\n                        if(tTan==1){\n                            set(tTanAngle,6)  \n                        }else{\n                            if(tTan==2){\n                                set(tTanAngle,12)  \n                            }else{\n                                if(tTan==3){\n                                    set(tTanAngle,17)  \n                                }else{\n                                    if(tTan==4){\n                                        set(tTanAngle,22)  \n                                    }else{\n                                        if(tTan==5){\n                                            set(tTanAngle,27)  \n                                        }else{\n                                            if(tTan==6){\n                                                set(tTanAngle,31)  \n                                            }else{\n                                                if(tTan==7){\n                                                    set(tTanAngle,35)  \n                                                }else{\n                                                    if(tTan==8){\n                                                        set(tTanAngle,39)  \n                                                    }else{\n                                                        if(tTan==9){\n                                                            set(tTanAngle,42)  \n                                                        }else{\n                                                            if(tTan==10){\n                                                                set(tTanAngle,45)  \n                                                            }\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                                                          //\u53D6\u4F59\n                    if(tTanSymbol==1){\n                        set(temp1,45)\n                        minus(temp1,tTanAngle)\n                        set(tTanAngle,temp1)\n                    }\n\n                                                          //\u8BA1\u7B97\u65CB\u8F6C\u89D2\n                    set(tRotateAngle,tBaseAngle)\n                    add(tRotateAngle,tTanAngle)\n                }else{                                    //\u6EA2\u51FA\n                                                          //\u6EA2\u51FA\u8865\u6EE1\u6574\u5706\uFF0C\u6216\u6E05\u9664\u6574\u5706\n                    if(tLastArea==1){\n                        set(tRotateAngle,360)\n                    }\n                    if(tLastArea==8){\n                        set(tRotateAngle,0)\n                    }\n                }\n                                                          //\u8BA1\u7B97tag\u503C\n                set(temp1,tMaxValue) \n                minus(temp1,tMinValue)\n                multiply(temp1,tRotateAngle)\n                divide(temp1,360)\n                add(temp1,tMinValue)\n\n                                                           //setTag\n                setTag(temp1)\n\n                set(\'this.otherAttrs.5\',tLastArea)         //lastArea\n                set(\'this.otherAttrs.6\',tOver)             //over\n\n            }\n        ',
        onMouseDown: '\n            var(curValue,0)                                        //tag\u503C\n            getTag(curValue)\n            \n            var(tMinValue,0)                                       //\u6700\u5C0F\u503C\n            set(tMinValue,\'this.minValue\')\n            \n            var(tMaxValue,0)                                       //\u6700\u5927\u503C\n            set(tMaxValue,\'this.maxValue\')\n            \n            if(curValue>= tMinValue){\n                if(tMaxValue>= curValue){\n                    var(tStartX,0)                                  //\u63A7\u4EF6\u5DE6\u4E0A\u89D2\u5750\u6807x\n                    set(tStartX,\'this.layers.1.x\')   \n                             \n                    var(tStartY,0)                                  //\u63A7\u4EF6\u5DE6\u4E0A\u89D2\u5750\u6807y\n                    set(tStartY,\'this.layers.1.y\')            \n                    \n                    var(tWidth,0)                                   //\u63A7\u4EF6\u5BBD\u5EA6\n                    set(tWidth,\'this.layers.1.width\')            \n                    \n                    var(tHeight,0)                                  //\u63A7\u4EF6\u9AD8\u5EA6\n                    set(tHeight,\'this.layers.1.height\')  \n                    \n                    var(tEndX,0)                                    //\u63A7\u4EF6\u53F3\u4E0B\u89D2\u5750\u6807x\n                    set(tEndX,tStartX)\n                    add(tEndX,tWidth)           \n                    \n                    var(tEndY,0)                                    //\u63A7\u4EF6\u53F3\u4E0B\u89D2\u5750\u6807y\n                    set(tEndY,tStartY)\n                    add(tEndY,tHeight)\n                    \n                    var(tInnerX,0)                                  //\u9F20\u6807\u5750\u6807x\n                    set(tInnerX,\'this.innerX\')\n                    \n                    var(tInnerY,0)                                  //\u9F20\u6807\u5750\u6807y\n                    set(tInnerY,\'this.innerY\')\n                    \n                    var(tRotateX,0)                                 //\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807X\n                    set(tRotateX,\'this.otherAttrs.2\')\n                    \n                    var(tRotateY,0)                                 //\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807Y\n                    set(tRotateY,\'this.otherAttrs.3\')\n                    \n                    var(tX,0)                                       //\u9F20\u6807\u76F8\u5BF9\u4E8E\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807X\n                    set(tX,tInnerX)\n                    minus(tX,tRotateX)\n                    \n                    var(tY,0)                                       //\u9F20\u6807\u76F8\u5BF9\u4E8E\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807Y\n                    set(tY,tRotateY)\n                    minus(tY,tInnerY)\n                    \n                    var(temp1,0)                                    //\u4E34\u65F6\u53D8\u91CF\n                    var(temp2,0)\n                    \n                                                                    //\u9F20\u6807\u70B9\u4E0E\u65CB\u8F6C\u4E2D\u5FC3\u8DDD\u79BB\u7684\u5E73\u65B9\n                    set(temp1,tX)\n                    multiply(temp1,tX)\n                    set(temp2,tY)\n                    multiply(temp2,tY)\n                    add(temp1,temp2)\n                    \n                                                                    //\u534A\u5F84\n                    if(tWidth>tHeight){\n                        set(temp2,tWidth)      \n                    }else{\n                        set(temp2,tHeight)      \n                    }\n                    \n                                                                   //\u534A\u5F84\u7684\u4E00\u534A\u7684\u5E73\u65B9\n                    divide(temp2,4)\n                    multiply(temp2,temp2)\n        \n                    set(\'this.otherAttrs.4\',0)                     //isHited = 0\n        \n                    if(temp1>=temp2){\n                        if (tInnerX>=tStartX) {\n                            if(tInnerX < tEndX){\n                                if (tInnerY>=tStartY) {\n                                    if (tInnerY<tEndY) {\n                                                                               //\u5728\u6709\u6548\u533A\u57DF\u5185\n                                        set(\'this.otherAttrs.4\',1)             //isHited = 1\n                                        set(\'this.otherAttrs.5\',4)             //lastArea\u4E0D\u7B49\u4E8E1\u6216\u80058\n                                        set(\'this.otherAttrs.6\',0)             //over=0\n                                    }\n                                }\n                            }\n                        }\n                    } \n                }\n            }        \n        ',
        onMouseMove: '\n            var(tHit,0)                                 //isHited\n            set(tHit,\'this.otherAttrs.4\')\n            \n            var(tMinValue,0)                            //\u6700\u5C0F\u503C\n            set(tMinValue,\'this.minValue\')\n            \n            var(tMaxValue,0)                            //\u6700\u5927\u503C\n            set(tMaxValue,\'this.maxValue\')\n        \n            if (tHit==1) {                              //isHited==1 \u6B64\u65F6\u9F20\u6807\u88AB\u6309\u4E0B\n                var(tInnerX,0)                          //\u9F20\u6807\u5750\u6807x\n                set(tInnerX,\'this.innerX\')\n                \n                var(tInnerY,0)                          //\u9F20\u6807\u5750\u6807y\n                set(tInnerY,\'this.innerY\')\n\n                var(tLastArea,0)                        //\u9F20\u6807\u4E0A\u4E00\u4E2A\u533A\u57DF\n                set(tLastArea,\'this.otherAttrs.5\') \n                                \n                var(tOver,0)                            //\u9F20\u6807\u4E0A\u4E00\u4E2A\u533A\u57DF\n                set(tOver,\'this.otherAttrs.6\')      \n                \n                var(tRotateX,0)                         //\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807X\n                set(tRotateX,\'this.otherAttrs.2\')\n                \n                var(tRotateY,0)                         //\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807Y\n                set(tRotateY,\'this.otherAttrs.3\')\n                \n                var(tX,0)                               //\u9F20\u6807\u76F8\u5BF9\u4E8E\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807X\n                set(tX,tInnerX)\n                minus(tX,tRotateX)\n                \n                var(tY,0)                               //\u9F20\u6807\u76F8\u5BF9\u4E8E\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807Y\n                set(tY,tRotateY)\n                minus(tY,tInnerY)\n                \n                var(tBaseAngle,0)                       //\u533A\u57DF\u57FA\u89D2\n                var(tTanSymbol,0)                       //tan\u89D2\u7684\u662F\u5426\u53D6\u4F59:\u4E0D\u662F\u771F\u6B63\u53D6\u4F59\u89D2\uFF0C\u53D645-tTanAngle\n                var(tTan,0)                             //tan\u503C\n                var(tTanAngle,0)                        //tan\u89D2\n                            \n                var(tRotateAngle,0)                     //\u65CB\u8F6C\u89D2\n                \n                var(temp1,0)                            //\u4E34\u65F6\u53D8\u91CF\n                var(temp2,0)\n                \n                                                        //\u5212\u5206\u533A\u57DF\n                if(tX>0){\n                    if(tY>0){\n                        if(tY>=tX){\n                            if(tOver==1){\n                                if(tLastArea==8){\n                                     set(tOver,0)       //\u672A\u6EA2\u51FA\u5408\u6CD5\n                                }\n                            }else{\n                                if(tLastArea==8){\n                                     set(tOver,1)       //\u6EA2\u51FA\u4E0D\u5408\u6CD5\n                                }\n                            }\n                            set(tLastArea,1)            //1\n                            set(tBaseAngle,0)           //\u57FA\u89D2=0        \n                            set(tTan,tX)                //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,tY)\n                            set(tTanSymbol,0)           //\u4E0D\u53D6\u4F59\n                            \n                        }else{\n                            set(tLastArea,2)            //2\n                            set(tBaseAngle,45)          //\u57FA\u89D2=45\n                            set(tTan,tY)                //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,tX)\n                            set(tTanSymbol,1)           //\u53D6\u4F59\n                        }\n                    }else{         \n                        set(temp1,tY)                   //\u53D6\u7EDD\u5BF9\u503C\n                        multiply(temp1,-1)\n                        \n                        if(tX>=temp1){\n                            set(tLastArea,3)            //3\n                            set(tBaseAngle,90)          //\u57FA\u89D2=90\n                            set(tTan,temp1)             //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,tX)\n                            set(tTanSymbol,0)           //\u4E0D\u53D6\u4F59\n                            \n                        }else{\n                            set(tLastArea,4)            //4\n                            set(tBaseAngle,135)         //\u57FA\u89D2=135\n                            set(tTan,tX)                //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,temp1)\n                            set(tTanSymbol,1)           //\u53D6\u4F59\n                        }\n                    }\n                }else{\n                    if(tY<0){\n                        set(temp1,tX)                   //\u53D6\u7EDD\u5BF9\u503C\n                        multiply(temp1,-1)\n                        set(temp2,tY)\n                        multiply(temp2,-1)\n                        \n                        if(temp2>=temp1){\n                            set(tLastArea,5)            //5\n                            set(tBaseAngle,180)         //\u57FA\u89D2=180\n                            set(tTan,temp1)             //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,temp2)\n                            set(tTanSymbol,0)           //\u4E0D\u53D6\u4F59\n                            \n                        }else{\n                            set(tLastArea,6)            //6\n                            set(tBaseAngle,225)         //\u57FA\u89D2=225\n                            set(tTan,temp2)             //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,temp1)\n                            set(tTanSymbol,1)           //\u53D6\u4F59\n                        }\n                    }else{\n                        set(temp1,tX)                   //\u53D6\u7EDD\u5BF9\u503C\n                        multiply(temp1,-1)\n                        \n                        if(temp1>=tY){\n                            set(tLastArea,7)            //7\n                            set(tBaseAngle,270)         //\u57FA\u89D2=270\n                            set(tTan,tY)                //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,temp1)\n                            set(tTanSymbol,0)           //\u4E0D\u53D6\u4F59\n                            \n                        }else{\n                            if(tOver==1){\n                                if(tLastArea==1){\n                                     set(tOver,0)       //\u672A\u6EA2\u51FA\u5408\u6CD5\n                                }\n                            }else{\n                                if(tLastArea==1){\n                                     set(tOver,1)       //\u6EA2\u51FA\u4E0D\u5408\u6CD5\n                                }\n                            }\n                            set(tLastArea,8)            //8\n                            set(tBaseAngle,315)         //\u57FA\u89D2=315\n                            set(tTan,temp1)             //tan\u503C\n                            multiply(tTan,10)\n                            divide(tTan,tY)\n                            set(tTanSymbol,1)           //\u53D6\u4F59\n                        } \n                    }\n                }   \n                                                        //\u5224\u65AD\u662F\u5426\u6EA2\u51FA\n                if(tOver==0){\n                                                        //tan\u503C\u67E5\u8868\uFF0C\u8BA1\u7B97tanAngle\n                    if(tTan==0){\n                        set(tTanAngle,0)\n                    }else{\n                        if(tTan==1){\n                            set(tTanAngle,6)  \n                        }else{\n                            if(tTan==2){\n                                set(tTanAngle,12)  \n                            }else{\n                                if(tTan==3){\n                                    set(tTanAngle,17)  \n                                }else{\n                                    if(tTan==4){\n                                        set(tTanAngle,22)  \n                                    }else{\n                                        if(tTan==5){\n                                            set(tTanAngle,27)  \n                                        }else{\n                                            if(tTan==6){\n                                                set(tTanAngle,31)  \n                                            }else{\n                                                if(tTan==7){\n                                                    set(tTanAngle,35)  \n                                                }else{\n                                                    if(tTan==8){\n                                                        set(tTanAngle,39)  \n                                                    }else{\n                                                        if(tTan==9){\n                                                            set(tTanAngle,42)  \n                                                        }else{\n                                                            if(tTan==10){\n                                                                set(tTanAngle,45)  \n                                                            }\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n    \n                                                          //\u53D6\u4F59\n                    if(tTanSymbol==1){\n                        set(temp1,45)\n                        minus(temp1,tTanAngle)\n                        set(tTanAngle,temp1)\n                    }\n                    \n                                                          //\u8BA1\u7B97\u65CB\u8F6C\u89D2\n                    set(tRotateAngle,tBaseAngle)\n                    add(tRotateAngle,tTanAngle)\n                }else{                                    //\u6EA2\u51FA\n                                                          //\u6EA2\u51FA\u8865\u6EE1\u6574\u5706\uFF0C\u6216\u6E05\u9664\u6574\u5706\n                    if(tLastArea==1){\n                        set(tRotateAngle,360)\n                    }\n                    if(tLastArea==8){\n                        set(tRotateAngle,0)\n                    }\n                }\n                                                          //\u8BA1\u7B97tag\u503C\n                set(temp1,tMaxValue) \n                minus(temp1,tMinValue)\n                multiply(temp1,tRotateAngle)\n                divide(temp1,360)\n                add(temp1,tMinValue)\n                \n                                                           //setTag\n                setTag(temp1)\n\n                set(\'this.otherAttrs.5\',tLastArea)         //lastArea\n                set(\'this.otherAttrs.6\',tOver)             //over\n                \n            }\n        ',
        onTagChange: '\n            var(curValue,0)                                //tag\u503C\n            getTag(curValue)\n            \n            var(tMinValue,0)                               //\u6700\u5C0F\u503C\n            set(tMinValue,\'this.minValue\')\n            \n            var(tMaxValue,0)                               //\u6700\u5927\u503C\n            set(tMaxValue,\'this.maxValue\')\n            \n            var(tRotateX,0)                                //\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807X\n            set(tRotateX,\'this.otherAttrs.2\')\n            \n            var(tRotateY,0)                                //\u65CB\u8F6C\u4E2D\u5FC3\u5750\u6807Y\n            set(tRotateY,\'this.otherAttrs.3\')\n            \n            var(tRotateAngle,0)                            //\u65CB\u8F6C\u89D2\n            \n            var(tAlpha,0)                                  //roi\u8D77\u59CB\u70B9\u89D2\u5EA6\n            set(tAlpha,-90)\n\n            var(tBbeta,0)                                  //roi\u7EC8\u70B9\u89D2\u5EA6\n            set(tBbeta,tAlpha)\n            \n            var(temp1,0)                                   //\u4E34\u65F6\u53D8\u91CF\n            var(temp2,0)\n            \n                                                            //\u8BA1\u7B97\u504F\u8F6C\u89D2\n            if(curValue<tMinValue){\n                                                            //\u5C0F\u4E8E\u6700\u5C0F\u503C\uFF0C\u504F\u8F6C\u89D2\u4E3A0\n                set(tRotateAngle,0)\n            }else{\n                if(tMaxValue<curValue){\n                                                            //\u5927\u4E8E\u6700\u5927\u503C\uFF0C\u504F\u8F6C\u89D2\u4E3A360\n                    set(tRotateAngle,360)\n                }else{\n                                                            //tRotateAngle=(curValue-minValue)/(maxValue-minValue)*360;\n                    set(temp1,tMaxValue)     \n                    minus(temp1,tMinValue)\n                    set(temp2,curValue)\n                    minus(temp2,tMinValue)\n                    multiply(temp2,360)\n                    divide(temp2,temp1)\n                    set(tRotateAngle,temp2)\n                }\n            }\n                                                             //\u8BA1\u7B97beta\u503C\n            add(tBbeta,tRotateAngle)\n\n                                                             //\u5149\u5E26\u5C42roi\u8BBE\u7F6E\n            set(\'this.layers.1.subLayers.roi.p1x\',tRotateX)\n            set(\'this.layers.1.subLayers.roi.p1y\',tRotateY)\n            set(\'this.layers.1.subLayers.roi.alpha\',tAlpha)\n            set(\'this.layers.1.subLayers.roi.beta\',tBbeta)\n            \n                                                             //\u5149\u6807\u5C42\u65CB\u8F6C\u8BBE\u7F6E\n            set(\'this.layers.2.rotateCenterX\',tRotateX)\n            set(\'this.layers.2.rotateCenterY\',tRotateY)\n            set(\'this.layers.2.rotateAngle\',tRotateAngle)  \n            \n        ',
        onKeyBoardLeft: '\n            var(tMaxHighLightNum,0)                          //\u63A7\u4EF6\u5185\u9AD8\u4EAE\u5757\u6570\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')\n            var(okFlag,0)                                    //\u9AD8\u4EAE\u662F\u5426\u5DF2\u9009\u4E2D\n            set(okFlag,\'this.otherAttrs.1\')\n            var(len,0)                                       //\u56FE\u5C42\u603B\u6570\n            set(len,\'this.layers.length\')\n            minus(len,1)\n                                                             //\u5224\u65AD\u662F\u5426\u542F\u7528\u9AD8\u4EAE\n            if (tMaxHighLightNum>0) {\n                if(okFlag==0){                               //\u63A7\u4EF6\u95F4\u9AD8\u4EAE\u9009\u62E9\n                    var(tHighLightNum,0)\n                    set(tHighLightNum,\'this.highLightNum\')\n                    if (tHighLightNum==1) {\n                                                             //hashighlight\n                        set(\'this.layers.len.hidden\',0)\n                    }else{\n                        set(\'this.layers.len.hidden\',1)\n                    }\n                }else{                                       //\u9AD8\u4EAE\u5DF2\u9009\u62E9\uFF0C\u5DE6\u79FBtag\u503C\u51CF1\n                    var(curItem,0)\n                    getTag(curItem)\n                    minus(curItem,1)\n                    setTag(curItem)\n                }\n            }\n          \n        ',
        onKeyBoardRight: '\n            var(tMaxHighLightNum,0)                          //\u63A7\u4EF6\u5185\u9AD8\u4EAE\u5757\u6570\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')\n            var(okFlag,0)                                    //\u9AD8\u4EAE\u662F\u5426\u5DF2\u9009\u4E2D\n            set(okFlag,\'this.otherAttrs.1\')\n            var(len,0)                                       //\u56FE\u5C42\u603B\u6570\n            set(len,\'this.layers.length\')\n            minus(len,1)\n                                                             //\u5224\u65AD\u662F\u5426\u542F\u7528\u9AD8\u4EAE\n            if (23>0) {\n                if(okFlag==0){                               //\u63A7\u4EF6\u95F4\u9AD8\u4EAE\u9009\u62E9\n                    var(tHighLightNum,0)\n                    set(tHighLightNum,\'this.highLightNum\')\n                    if (tHighLightNum==1) {\n                        //hashighlight\n                        set(\'this.layers.len.hidden\',0)\n                    }else{\n                        set(\'this.layers.len.hidden\',1)\n                    }\n                }else{                                       //\u9AD8\u4EAE\u5DF2\u9009\u62E9\uFF0C\u53F3\u79FBtag\u503C\u52A01\n                    var(curItem,0)\n                    getTag(curItem)\n                    add(curItem,1)\n                    setTag(curItem)\n                }\n            }\n        ',
        onKeyBoardOK: '\n            var(okFlag,0)                                    //\u9AD8\u4EAE\u662F\u5426\u5DF2\u9009\u4E2D\n            set(okFlag,\'this.otherAttrs.1\')\n            if(okFlag==0){\n                setglobalvar(0,1)\n                set(\'this.otherAttrs.1\',1)\n            }else{\n                setglobalvar(0,0)\n                set(\'this.otherAttrs.1\',0)\n            }\n        '
    };

    WidgetCommands['DateTime'] = {
        onInitialize: '\n            var(offset,0)\n            var(len,0)\n            set(offset,\'this.otherAttrs.0\')\n            set(len,\'this.layers.length\')\n            while(offset<len){\n                set(\'this.layers.offset.hidden\',1)\n                add(offset,1)\n            }\n        ',
        onMouseUp: '\n        ',
        onMouseDown: '\n        ',
        onTagChange: '\n            var(m,0)\n            set(m,\'this.mode\')\n            var(tag,0)\n            getTag(tag)\n            var(tTag,0)\n            if(tag==0){\n                print(tag,\'tag is 0\')\n            }else{\n                set(tTag,tag)\n                var(len,0)\n                set(len,\'this.otherAttrs.0\')\n                minus(len,1)\n                var(flag1,0)\n                set(flag1,10)\n                var(flag2,0)\n                set(flag2,10)\n                if(m==0){\n                    set(flag1,2)\n                    set(flag2,5)\n                }else{\n                    if(m==1){\n                        set(flag1,2)\n                    }else{\n                        if(m==2){\n                            set(flag1,4)\n                            set(flag2,7)\n                        }else{\n                            if(m==3){\n                                set(flag1,4)\n                                set(flag2,7)\n                            }else{\n                                print(m,\'mode is unknown\')\n                            }\n                        }\n                    }\n                }\n                if(m==1){\n                    divide(tag,16)\n                    divide(tag,16)\n                    set(tTag,tag)\n                }\n                while(len>=0){\n                    if(len==flag1){\n                        minus(len,1)\n                    }else{\n                        if(len==flag2){\n                            minus(len,1)\n                        }else{\n                            mod(tTag,16)\n                            add(tTag,48)\n                            // print(tTag,\'curDigit\')\n                            set(\'this.layers.len.subLayers.font.text\',tTag)\n                            divide(tag,16)\n                            set(tTag,tag)\n                            minus(len,1)\n                        }\n                    }\n                }\n            }\n        ',
        onKeyBoardLeft: '\n            var(tMaxHighLightNum,0)\n            var(okFlag,0)\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')\n            set(okFlag,\'this.otherAttrs.1\')\n            if(tMaxHighLightNum>0){\n                if(okFlag==0){\n                    var(totalLayerNum,0)\n                    set(totalLayerNum,\'this.layers.length\')\n                    var(offset,0)\n                    var(tHighLightNum,0)\n                    //clear\n                    set(offset,\'this.otherAttrs.0\')\n                    while(offset < totalLayerNum){\n                        set(\'this.layers.offset.hidden\',1)\n                        add(offset,1)\n                    }\n                    //set target highlight\n                    set(offset,\'this.otherAttrs.0\')\n                    set(tHighLightNum,\'this.highLightNum\')\n                    add(offset,tHighLightNum)\n                    minus(offset,1)\n                    set(\'this.layers.offset.hidden\',0)   \n                }else{\n                    print(okFlag,\'ok mode\')\n                    var(tHighLightNum,0)\n                    var(tTag,0)\n                    var(tMode,0)\n                    var(xr,0)\n                    var(minusNum,0)\n                    set(minusNum,1)\n                    set(tHighLightNum,\'this.highLightNum\')\n                    getTag(tTag)\n                    set(tMode,\'this.mode\')\n                    if(tMode==1){\n                        if(tHighLightNum==1){\n                            set(xr,4)\n                        }else{\n                            set(xr,2)\n                        }\n                    }else{\n                        if(tHighLightNum==1){\n                            set(xr,4)\n                        }else{\n                            if(tHighLightNum==2){\n                                set(xr,2)\n                            }else{\n                                set(xr,0)\n                            }\n                        }\n                    }\n                    var(ttTag,0)\n                    var(txr,0)\n                    set(ttTag,tTag)\n                    set(txr,xr)\n                    while(xr>0){\n                        divide(ttTag,16)\n                        minus(xr,1)\n                    }\n                    var(ttTagBeforeChange,0)\n                    set(ttTagBeforeChange,ttTag)\n                   \n                    mod(ttTagBeforeChange,256)\n                    var(tOverFlow,0)\n                    set(tOverFlow,0)\n                    //\u5224\u65AD\u662F\u5426\u6EA2\u51FA\n                    if(ttTagBeforeChange <= 0){\n                        set(tOverFlow,1)\n                    }\n                    if(tOverFlow == 0){\n                        mod(ttTag,16)\n                        var(rawttTag,0)\n                        set(rawttTag,ttTag)\n                        minus(ttTag,1)\n                        if(ttTag<0){\n                            set(ttTag,-7)\n                        }\n                        while(txr>0){\n                            multiply(ttTag,16)\n                            multiply(rawttTag,16)\n                            minus(txr,1)\n                        }\n                        minus(ttTag,rawttTag)\n                        add(tTag,ttTag)\n                        setTag(tTag)\n                    }\n                    \n                }              \n            }\n        ',
        onKeyBoardRight: '\n            var(tMaxHighLightNum,0)\n            var(okFlag,0)\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')\n            set(okFlag,\'this.otherAttrs.1\')\n            if(tMaxHighLightNum>0){\n                if(okFlag==0){\n                    var(totalLayerNum,0)\n                    set(totalLayerNum,\'this.layers.length\')\n                    var(offset,0)\n                    var(tHighLightNum,0)\n                    //clear\n                    set(offset,\'this.otherAttrs.0\')\n                    while(offset < totalLayerNum){\n                        set(\'this.layers.offset.hidden\',1)\n                        add(offset,1)\n                    }\n                    //set target highlight\n                    set(offset,\'this.otherAttrs.0\')\n                    set(tHighLightNum,\'this.highLightNum\')\n                    add(offset,tHighLightNum)\n                    minus(offset,1)\n                    set(\'this.layers.offset.hidden\',0)\n                }else{\n                    //change num in ok mode\n                    var(tHighLightNum,0)\n                    var(tTag,0)\n                    var(tMode,0)\n                    var(xr,0)\n                    var(addNum,0)\n                    set(addNum,1)\n                    set(tHighLightNum,\'this.highLightNum\')\n                    getTag(tTag)\n                    set(tMode,\'this.mode\')\n                    if(tMode==1){\n                        if(tHighLightNum==1){\n                            set(xr,4)\n                        }else{\n                            set(xr,2)\n                        }\n                    }else{\n                        if(tHighLightNum==1){\n                            set(xr,4)\n                        }else{\n                            if(tHighLightNum==2){\n                                set(xr,2)\n                            }else{\n                                set(xr,0)\n                            }\n                        }\n                    }\n                    var(ttTag,0)\n                    var(txr,0)\n                    var(ttxr,0)\n                    set(ttTag,tTag)\n                    set(txr,xr)\n                    set(ttxr,xr)\n                    while(xr>0){\n                        divide(ttTag,16)\n                        minus(xr,1)\n                    }\n                    var(ttTagBeforeChange,0)\n                    set(ttTagBeforeChange,ttTag)\n                   \n                    mod(ttTagBeforeChange,256)\n                    var(tOverFlow,0)\n                    set(tOverFlow,0)\n                    //\u5224\u65AD\u662F\u5426\u6EA2\u51FA\n                    if(tMode == 0){\n                        //\u65F6\u5206\u79D2\n                        if(tHighLightNum == 1){\n                            //\u65F6\n                            if(ttTagBeforeChange >= 35){\n                                set(tOverFlow,1)\n                            }\n                        }else{\n                            if(ttTagBeforeChange >= 89){\n                                set(tOverFlow,1)\n                            }\n                        }\n                    }else{\n                        if(tMode == 1){\n                            //\u65F6\u5206\n                            if(tHighLightNum == 1){\n                                //\u65F6\n                                if(ttTagBeforeChange >= 35){\n                                    set(tOverFlow,1)\n                                }\n                            }else{\n                                if(ttTagBeforeChange >= 89){\n                                    set(tOverFlow,1)\n                                }\n                            }\n                        }else{\n                            //\u5E74\u6708\u65E5\n                            if(tHighLightNum == 1){\n                                //\u5E74\n                                // if(ttTagBeforeChange >= 35){\n                                //     set(tOverFlow,1)\n                                // }\n                            }else{\n                                if(tHighLightNum == 2){\n                                    //\u6708\n                                    if(ttTagBeforeChange >= 18){\n                                        set(tOverFlow,1)\n                                    }\n                                }else{\n                                    if(ttTagBeforeChange >= 49){\n                                        set(tOverFlow,1)\n                                    }\n                                }\n                                \n                            }\n                        }\n                    }\n                    if(tOverFlow == 0){\n                        mod(ttTag,16)\n                        var(rawttTag,0)\n                        set(rawttTag,ttTag)\n                        add(ttTag,1)\n                        if(ttTag>=10){\n                            set(ttTag,16)\n                        }\n                        \n                        while(txr>0){\n                            multiply(ttTag,16)\n                            multiply(rawttTag,16)\n                            minus(txr,1)\n                        }\n                        minus(ttTag,rawttTag)\n                        add(tTag,ttTag)\n                        //check value in limit\n                        setTag(tTag)\n                    }\n                    \n                }                \n            }\n        ',
        onKeyBoardOK: '\n            var(okFlag,0)\n            set(okFlag,\'this.otherAttrs.1\')\n            if(okFlag==0){\n                setglobalvar(0,1)\n                set(\'this.otherAttrs.1\',1)\n            }else{\n                setglobalvar(0,0)\n                set(\'this.otherAttrs.1\',0)\n            }\n        '
    };

    WidgetCommands['ColorBlock'] = {
        'onInitialize': ' \n            //\u663E\u793A\u9664\u9AD8\u4EAE\u4EE5\u5916\u6240\u6709\u56FE\u5C42\n            var(tOffset,0)\n            var(len,0)\n            set(len,\'this.layers.length\')\n            while(tOffset < len){\n                set(\'this.layers.tOffset.hidden\',0)\n                add(tOffset,1)\n            }\n        ',
        onMouseUp: '\n        ',
        onMouseDown: '\n        ',
        onTagChange: '\n            //\u521D\u59CB\u5316\u5C5E\u6027\n            var(tCurValue,0)                      //tag\u503C\n            getTag(tCurValue)\n            print(\'tCurValue\',tCurValue)\n\n            var(tempCurValue,0)                   //\u4E34\u65F6\u53D8\u91CFtempCurValue           \n            set(tempCurValue,tCurValue)\n\n            var(tOverFlow,0)                        //\u6EA2\u51FA\u6807\u5FD7\n                        \n            var(temp1,0)                          //\u4E34\u65F6\u53D8\u91CF1\n            var(temp2,0)                          //\u4E34\u65F6\u53D8\u91CF2\n            \n            if(tCurValue<0){\n                //\u8D1F\u6EA2\u51FA\n                set(tOverFlow,1)\n            }\n\n            //a\n            //temp2=tempCurValue-tempCurValue/1000*1000\n            //tempCurValue=tempCurValue/1000\n            set(temp1,tempCurValue)\n            set(temp2,tempCurValue)\n            divide(temp1,1000)\n            set(tempCurValue,temp1)            \n            multiply(temp1,1000)\n            minus(temp2,temp1)\n            \n            //\u6EA2\u51FA\u6807\u8BB0\n            if(temp2>255){\n                set(tOverFlow,1)\n            }\n                        \n            //change\n            set(\'this.layers.0.subLayers.color.a\',temp2)\n\n            //b\n            //temp2=tempCurValue-tempCurValue/1000*1000\n            //tempCurValue=tempCurValue/1000\n            set(temp1,tempCurValue)\n            set(temp2,tempCurValue)\n            divide(temp1,1000)\n            set(tempCurValue,temp1)            \n            multiply(temp1,1000)\n            minus(temp2,temp1)\n            \n            //\u6EA2\u51FA\u6807\u8BB0\n            if(temp2>255){\n                set(tOverFlow,1)\n            }\n                        \n            //change\n            set(\'this.layers.0.subLayers.color.b\',temp2)\n\n            //g\n            //temp2=tempCurValue-tempCurValue/1000*1000\n            //tempCurValue=tempCurValue/1000\n            set(temp1,tempCurValue)\n            set(temp2,tempCurValue)\n            divide(temp1,1000)\n            set(tempCurValue,temp1)            \n            multiply(temp1,1000)\n            minus(temp2,temp1)\n            \n            //\u6EA2\u51FA\u6807\u8BB0\n            if(temp2>255){\n                set(tOverFlow,1)\n            }\n                        \n            //change\n            set(\'this.layers.0.subLayers.color.g\',temp2)\n            \n            //r\n            //temp2=tempCurValue-tempCurValue/1000*1000\n            //tempCurValue=tempCurValue/1000\n            set(temp1,tempCurValue)\n            set(temp2,tempCurValue)\n            divide(temp1,1000)\n            set(tempCurValue,temp1)            \n            multiply(temp1,1000)\n            minus(temp2,temp1)\n            \n            //\u6EA2\u51FA\u6807\u8BB0\n            if(temp2>255){\n                set(tOverFlow,1)\n            }\n                        \n            //change\n            set(\'this.layers.0.subLayers.color.r\',temp2)\n\n            //\u6EA2\u51FA\u5904\u7406:\u5168\u90E8\u7F6E\u4E3A\u96F6\n            if(tOverFlow==1){\n                set(\'this.layers.0.subLayers.color.r\',0)\n                set(\'this.layers.0.subLayers.color.g\',0)\n                set(\'this.layers.0.subLayers.color.b\',0)\n                set(\'this.layers.0.subLayers.color.a\',0)\n            }\n\n        ',
        onKeyBoardLeft: '\n        ',
        onKeyBoardRight: '\n        ',
        onKeyBoardOK: '\n        '
    };

    WidgetCommands['ColorPicker'] = {
        "onInitialize": '\n            var(tInitValue,0)\n            set(tInitValue,\'this.otherAttrs.0\')\n           \n            var(tR,0)\n            var(tG,0)\n            var(tB,0)\n            set(tR,\'this.otherAttrs.1\')\n            set(tG,\'this.otherAttrs.1\')\n            set(tB,\'this.otherAttrs.1\')\n            mod(tB,256)\n            divide(tG,256)\n            mod(tG,256)\n            divide(tR,256)\n            divide(tR,256)\n            //rgbToHSV\n            var(tMin,0)\n            var(tMax,0)\n            var(tDelta,0)\n            var(tH,0)\n            var(tS,0)\n            var(tV,0)\n            if(tR > tG){\n                set(tMax,tR)\n                set(tMin,tG)\n            }else{\n                set(tMin,tR)\n                set(tMax,tG)\n            }\n            if(tB>tMax){\n                set(tMax,tB)\n            }else{\n                if(tB<tMin){\n                    set(tMin,tB)\n                }\n            }\n            \n            print(\'tMax\',tMax)\n            print(\'tMin\',tMin)\n            \n            //set v\n            set(tV,tMax)\n            //set delta\n            set(tDelta,tMax)\n            minus(tDelta,tMin)\n            if(tMax == 0 ){\n                set(tS,0)\n                set(tH,-1)\n               \n            }else{\n                //set s, x255\n                set(tS,255)\n                \n                multiply(tS,tDelta)\n                divide(tS,tMax)\n                //set h\n                if(tDelta == 0){\n                    set(tH,-1)\n                }else{\n                    if(tR==tMax){\n                        set(tH,tG)\n                        minus(tH,tB)\n                        multiply(tH,60)\n                        divide(tH,tDelta)\n                    }else{\n                        if(tG == tMax){\n                            set(tH,tB)\n                            minus(tH,tR)\n                            multiply(tH,60)\n                            divide(tH,tDelta)\n                            add(tH,120)\n                        }else{\n                            set(tH,tR)\n                            minus(tH,tG)\n                            multiply(tH,60)\n                            divide(tH,tDelta)\n                            add(tH,240)\n                        }\n                    }\n                    if(tH<0){\n                        add(tH,360) \n                    }\n                }\n            }\n            \n            print(\'h\',tH)\n            print(\'s\',tS)\n            print(\'v\',tV)\n            \n        ',
        'onMouseDown': '\n            var(tTemp,0)\n            var(tH,0)\n            var(tS,0)\n            var(tV,0)\n            \n            //get Last HSV\n            set(tH,\'this.otherAttrs.1\')\n            set(tS,\'this.otherAttrs.2\')\n            set(tV,\'this.otherAttrs.3\')\n            var(tR,0)\n            var(tG,0)\n            var(tB,0)\n            var(tA,0)\n            var(tI,0)\n            var(tF,0)\n            var(tP,0)\n            var(tQ,0)\n            var(tT,0)\n            var(tChangeFlag,0)\n            //get current h,s,v\n            var(tInnerX,0)\n            var(tInnerY,0)\n            set(tInnerX,\'this.innerX\')\n            set(tInnerY,\'this.innerY\')\n            var(tPickerX,0)\n            var(tPickerY,0)\n            var(tPickerW,0)\n            var(tPickerH,0)\n            var(tPickerRightX,0)\n            var(tPickerBottomY,0)\n            set(tPickerX,\'this.layers.3.x\')\n            set(tPickerY,\'this.layers.3.y\')\n            set(tPickerW,\'this.layers.3.width\')\n            set(tPickerH,\'this.layers.3.height\')\n            set(tPickerRightX,tPickerX)\n            add(tPickerRightX,tPickerW)\n            set(tPickerBottomY,tPickerY)\n            add(tPickerBottomY,tPickerH)\n            if(tInnerX >= tPickerX){\n                if(tInnerX < tPickerRightX){\n                    if(tInnerY >= tPickerY){\n                        if(tInnerY < tPickerBottomY){\n                            set(tChangeFlag,1)\n                            //hit picker area\n                            //otherAttr 4 hit area 0:none 1:hue 2:picker\n                            set(\'this.otherAttrs.4\',1)\n                            //move picker indicator\n                            set(\'this.layers.7.x\',tInnerX)\n                            set(\'this.layers.7.y\',tInnerY)\n                            set(tS,tInnerX)\n                            minus(tS,tPickerX)\n                            multiply(tS,255)\n                            divide(tS,tPickerW)\n                            set(tV,tPickerH)\n                            minus(tV,tInnerY)\n                            add(tV,tPickerY)\n                            multiply(tV,255)\n                            divide(tV,tPickerH)\n                            set(\'this.otherAttrs.2\',tS)\n                            set(\'this.otherAttrs.3\',tV)\n                        }\n                    }\n                }\n            }\n            \n            //hue\n            var(tHueX,0)\n            var(tHueY,0)\n            var(tHueW,0)\n            var(tHueH,0)\n            var(tHueRightX,0)\n            var(tHueBottomY,0)\n            set(tHueX,\'this.layers.1.x\')\n            set(tHueY,\'this.layers.1.y\')\n            set(tHueW,\'this.layers.1.width\')\n            set(tHueH,\'this.layers.1.height\')\n            set(tHueRightX,tHueX)\n            add(tHueRightX,tHueW)\n            set(tHueBottomY,tHueY)\n            add(tHueBottomY,tHueH)\n            var(tSBack,0)\n            var(tVBack,0)\n            if(tInnerX>=tHueX){\n                if(tInnerX<tHueRightX){\n                    if(tInnerY>=tHueY){\n                        if(tInnerY<tHueBottomY){\n                            set(tChangeFlag,1)\n                            set(\'this.otherAttrs.4\',2)\n                            //move hue indicator\n                            // set(\'this.layers.4.x\',tInnerX)\n                            set(\'this.layers.5.y\',tInnerY)\n                            //set h\n                            set(tH,tInnerY)\n                            minus(tH,tHueY)\n                            multiply(tH,360)\n                            divide(tH,tHueH)\n                            set(\'this.otherAttrs.1\',tH)\n                            \n                            //change picker bg color\n                            set(tSBack,tS)\n                            set(tVBack,tV)\n                            set(tS,255)\n                            set(tV,255)\n                            if(tS == 0){\n                                set(tR,tV)\n                                set(tG,tV)\n                                set(tB,tV)\n                            }else{\n                                set(tI,tH)\n                                divide(tI,60)\n                                set(tF,tH)\n                                set(tTemp,tI)\n                                multiply(tTemp,60)\n                                //tF = 60*f\n                                minus(tF,tTemp)\n                                \n                                //set p\n                                set(tP,255)\n                                minus(tP,tS)\n                                multiply(tP,tV)\n                                divide(tP,255)\n                                \n                                //set q\n                                set(tTemp,tS)\n                                multiply(tTemp,tF)\n                                set(tQ,15300)\n                                minus(tQ,tTemp)\n                                multiply(tQ,tV)\n                                divide(tQ,15300)\n                                \n                                //set t\n                                set(tTemp,60)\n                                minus(tTemp,tF)\n                                multiply(tTemp,tS)\n                                set(tT,15300)\n                                minus(tT,tTemp)\n                                multiply(tT,tV)\n                                divide(tT,15300)\n                               \n                                \n                                if(tI == 0){\n                                    set(tR,tV)\n                                    set(tG,tT)\n                                    set(tB,tP)\n                                }else{\n                                    if(tI == 1){\n                                        set(tR,tQ)\n                                        set(tG,tV)\n                                        set(tB,tP)\n                                    }else{\n                                        if(tI == 2){\n                                            set(tR,tP)\n                                            set(tG,tV)\n                                            set(tB,tT)\n                                        }else{\n                                            if(tI == 3){\n                                                set(tR,tP)\n                                                set(tG,tQ)\n                                                set(tB,tV)\n                                            }else{\n                                                if(tI == 4){\n                                                    set(tR,tT)\n                                                    set(tG,tP)\n                                                    set(tB,tV)\n                                                }else{\n                                                    set(tR,tV)\n                                                    set(tG,tP)\n                                                    set(tB,tQ)\n                                                }\n                                            }\n                                        }\n                                    }\n                                }    \n                                \n                            }\n                            //set picker bg color\n                            set(\'this.layers.3.subLayers.color.r\',tR)\n                            set(\'this.layers.3.subLayers.color.g\',tG)\n                            set(\'this.layers.3.subLayers.color.b\',tB)\n                            set(\'this.layers.3.subLayers.color.a\',255)\n                            //restore tS,tV\n                            set(tS,tSBack)\n                            set(tV,tVBack)\n                        }\n                    }\n                }\n            }\n            \n            //alpha\n            var(tAlphaX,0)\n            var(tAlphaY,0)\n            var(tAlphaRightX,0)\n            var(tAlphaBottomY,0)\n            var(tAlphaW,0)\n            var(tAlphaH,0)\n            set(tAlphaX,\'this.layers.2.x\')\n            set(tAlphaY,\'this.layers.2.y\')\n            set(tAlphaW,\'this.layers.2.width\')\n            set(tAlphaH,\'this.layers.2.height\')\n            set(tAlphaRightX,tAlphaX)\n            add(tAlphaRightX,tAlphaW)\n            set(tAlphaBottomY,tAlphaY)\n            add(tAlphaBottomY,tAlphaH)\n            if(tInnerX > tAlphaX){\n                if(tInnerX < tAlphaRightX){\n                    if(tInnerY > tAlphaY){\n                        if(tInnerY < tAlphaBottomY){\n                            // hit alpha\n                            set(tChangeFlag,1)\n                            set(\'this.otherAttrs.4\',3)\n                            //change alpha\n                            set(\'this.layers.6.y\',tInnerY)\n                            set(tA,tInnerY)\n                            minus(tA,tAlphaY)\n                            multiply(tA,255)\n                            divide(tA,tAlphaH)\n                            set(\'this.layers.4.subLayers.color.a\',tA)\n                            \n                        }\n                    }\n                }\n            }\n            \n            if(tChangeFlag == 1){\n            \n                \n                if(tS == 0){\n                    set(tR,tV)\n                    set(tG,tV)\n                    set(tB,tV)\n                }else{\n                    set(tI,tH)\n                    divide(tI,60)\n                    set(tF,tH)\n                    set(tTemp,tI)\n                    multiply(tTemp,60)\n                    //tF = 60*f\n                    minus(tF,tTemp)\n                    \n                    //set p\n                    set(tP,255)\n                    minus(tP,tS)\n                    multiply(tP,tV)\n                    divide(tP,255)\n                    \n                    //set q\n                    set(tTemp,tS)\n                    multiply(tTemp,tF)\n                    set(tQ,15300)\n                    minus(tQ,tTemp)\n                    multiply(tQ,tV)\n                    divide(tQ,15300)\n                    \n                    //set t\n                    set(tTemp,60)\n                    minus(tTemp,tF)\n                    multiply(tTemp,tS)\n                    set(tT,15300)\n                    minus(tT,tTemp)\n                    multiply(tT,tV)\n                    divide(tT,15300)\n                   \n                    \n                    if(tI == 0){\n                        set(tR,tV)\n                        set(tG,tT)\n                        set(tB,tP)\n                    }else{\n                        if(tI == 1){\n                            set(tR,tQ)\n                            set(tG,tV)\n                            set(tB,tP)\n                        }else{\n                            if(tI == 2){\n                                set(tR,tP)\n                                set(tG,tV)\n                                set(tB,tT)\n                            }else{\n                                if(tI == 3){\n                                    set(tR,tP)\n                                    set(tG,tQ)\n                                    set(tB,tV)\n                                }else{\n                                    if(tI == 4){\n                                        set(tR,tT)\n                                        set(tG,tP)\n                                        set(tB,tV)\n                                    }else{\n                                        set(tR,tV)\n                                        set(tG,tP)\n                                        set(tB,tQ)\n                                    }\n                                }\n                            }\n                        }\n                    }    \n                    \n                }\n               \n                set(\'this.layers.4.subLayers.color.r\',tR)\n                set(\'this.layers.4.subLayers.color.g\',tG)\n                set(\'this.layers.4.subLayers.color.b\',tB)\n                \n                var(tResult,0)\n                set(tResult,tR)\n                multiply(tResult,256)\n                add(tResult,tG)\n                multiply(tResult,256)\n                add(tResult,tB)\n                multiply(tResult,256)\n                add(tResult,tA)\n                setTag(tResult)\n                \n                print(\'r\',tR)\n                print(\'g\',tG)\n                print(\'b\',tB)\n            \n            }\n           \n            \n            \n            \n        ',
        'onMouseMove': '\n            // var(tTemp,0)\n            // var(tH,0)\n            // var(tS,0)\n            // var(tV,0)\n            //\n            // //get Last HSV\n            // set(tH,\'this.otherAttrs.1\')\n            // set(tS,\'this.otherAttrs.2\')\n            // set(tV,\'this.otherAttrs.3\')\n            // var(tR,0)\n            // var(tG,0)\n            // var(tB,0)\n            // var(tA,0)\n            // var(tI,0)\n            // var(tF,0)\n            // var(tP,0)\n            // var(tQ,0)\n            // var(tT,0)\n            // var(tChangeFlag,0)\n            // //get current h,s,v\n            // var(tInnerX,0)\n            // var(tInnerY,0)\n            // set(tInnerX,\'this.innerX\')\n            // set(tInnerY,\'this.innerY\')\n            // var(tPickerX,0)\n            // var(tPickerY,0)\n            // var(tPickerW,0)\n            // var(tPickerH,0)\n            // var(tPickerRightX,0)\n            // var(tPickerBottomY,0)\n            // set(tPickerX,\'this.layers.3.x\')\n            // set(tPickerY,\'this.layers.3.y\')\n            // set(tPickerW,\'this.layers.3.width\')\n            // set(tPickerH,\'this.layers.3.height\')\n            // set(tPickerRightX,tPickerX)\n            // add(tPickerRightX,tPickerW)\n            // set(tPickerBottomY,tPickerY)\n            // add(tPickerBottomY,tPickerH)\n            // if(tInnerX >= tPickerX){\n            //     if(tInnerX < tPickerRightX){\n            //         if(tInnerY >= tPickerY){\n            //             if(tInnerY < tPickerBottomY){\n            //                 set(tChangeFlag,1)\n            //                 //hit picker area\n            //                 //otherAttr 4 hit area 0:none 1:hue 2:picker\n            //                 set(\'this.otherAttrs.4\',1)\n            //                 //move picker indicator\n            //                 set(\'this.layers.7.x\',tInnerX)\n            //                 set(\'this.layers.7.y\',tInnerY)\n            //                 set(tS,tInnerX)\n            //                 minus(tS,tPickerX)\n            //                 multiply(tS,255)\n            //                 divide(tS,tPickerW)\n            //                 set(tV,tPickerH)\n            //                 minus(tV,tInnerY)\n            //                 add(tV,tPickerY)\n            //                 multiply(tV,255)\n            //                 divide(tV,tPickerH)\n            //                 set(\'this.otherAttrs.2\',tS)\n            //                 set(\'this.otherAttrs.3\',tV)\n            //             }\n            //         }\n            //     }\n            // }\n            //\n            // //hue\n            // var(tHueX,0)\n            // var(tHuey,0)\n            // var(tHueW,0)\n            // var(tHueH,0)\n            // var(tHueRightX,0)\n            // var(tHueBottomY,0)\n            // set(tHueX,\'this.layers.1.x\')\n            // set(tHueY,\'this.layers.1.y\')\n            // set(tHueW,\'this.layers.1.width\')\n            // set(tHueH,\'this.layers.1.height\')\n            // set(tHueRightX,tHueX)\n            // add(tHueRightX,tHueW)\n            // set(tHueBottomY,tHueY)\n            // add(tHueBottomY,tHueH)\n            // var(tSBack,0)\n            // var(tVBack,0)\n            // if(tInnerX>=tHueX){\n            //     if(tInnerX<tHueRightX){\n            //         if(tInnerY>=tHueY){\n            //             if(tInnerY<tHueBottomY){\n            //                 set(tChangeFlag,1)\n            //                 set(\'this.otherAttrs.4\',2)\n            //                 //move hue indicator\n            //                 // set(\'this.layers.4.x\',tInnerX)\n            //                 set(\'this.layers.5.y\',tInnerY)\n            //                 //set h\n            //                 set(tH,tInnerY)\n            //                 minus(tH,tHueY)\n            //                 multiply(tH,360)\n            //                 divide(tH,tHueH)\n            //                 set(\'this.otherAttrs.1\',tH)\n            //                \n            //                 //change picker bg color\n            //                 set(tSBack,tS)\n            //                 set(tVBack,tV)\n            //                 set(tS,255)\n            //                 set(tV,255)\n            //                 if(tS == 0){\n            //                     set(tR,tV)\n            //                     set(tG,tV)\n            //                     set(tB,tV)\n            //                 }else{\n            //                     set(tI,tH)\n            //                     divide(tI,60)\n            //                     set(tF,tH)\n            //                     set(tTemp,tI)\n            //                     multiply(tTemp,60)\n            //                     //tF = 60*f\n            //                     minus(tF,tTemp)\n            //                    \n            //                     //set p\n            //                     set(tP,255)\n            //                     minus(tP,tS)\n            //                     multiply(tP,tV)\n            //                     divide(tP,255)\n            //                    \n            //                     //set q\n            //                     set(tTemp,tS)\n            //                     multiply(tTemp,tF)\n            //                     set(tQ,15300)\n            //                     minus(tQ,tTemp)\n            //                     multiply(tQ,tV)\n            //                     divide(tQ,15300)\n            //                    \n            //                     //set t\n            //                     set(tTemp,60)\n            //                     minus(tTemp,tF)\n            //                     multiply(tTemp,tS)\n            //                     set(tT,15300)\n            //                     minus(tT,tTemp)\n            //                     multiply(tT,tV)\n            //                     divide(tT,15300)\n            //                   \n            //                    \n            //                     if(tI == 0){\n            //                         set(tR,tV)\n            //                         set(tG,tT)\n            //                         set(tB,tP)\n            //                     }else{\n            //                         if(tI == 1){\n            //                             set(tR,tQ)\n            //                             set(tG,tV)\n            //                             set(tB,tP)\n            //                         }else{\n            //                             if(tI == 2){\n            //                                 set(tR,tP)\n            //                                 set(tG,tV)\n            //                                 set(tB,tT)\n            //                             }else{\n            //                                 if(tI == 3){\n            //                                     set(tR,tP)\n            //                                     set(tG,tQ)\n            //                                     set(tB,tV)\n            //                                 }else{\n            //                                     if(tI == 4){\n            //                                         set(tR,tT)\n            //                                         set(tG,tP)\n            //                                         set(tB,tV)\n            //                                     }else{\n            //                                         set(tR,tV)\n            //                                         set(tG,tP)\n            //                                         set(tB,tQ)\n            //                                     }\n            //                                 }\n            //                             }\n            //                         }\n            //                     }    \n            //                    \n            //                 }\n            //                 //set picker bg color\n            //                 set(\'this.layers.3.subLayers.color.r\',tR)\n            //                 set(\'this.layers.3.subLayers.color.g\',tG)\n            //                 set(\'this.layers.3.subLayers.color.b\',tB)\n            //                 //restore tS,tV\n            //                 set(tS,tSBack)\n            //                 set(tV,tVBack)\n            //             }\n            //         }\n            //     }\n            // }\n            //\n            // //alpha\n            // var(tAlphaX,0)\n            // var(tAlphaY,0)\n            // var(tAlphaRightX,0)\n            // var(tAlphaBottomY,0)\n            // var(tAlphaW,0)\n            // var(tAlphaH,0)\n            // set(tAlphaX,\'this.layers.2.x\')\n            // set(tAlphaY,\'this.layers.2.y\')\n            // set(tAlphaW,\'this.layers.2.width\')\n            // set(tAlphaH,\'this.layers.2.height\')\n            // set(tAlphaRightX,tAlphaX)\n            // add(tAlphaRightX,tAlphaW)\n            // set(tAlphaBottomY,tAlphaY)\n            // add(tAlphaBottomY,tAlphaH)\n            // if(tInnerX > tAlphaX){\n            //     if(tInnerX < tAlphaRightX){\n            //         if(tInnerY > tAlphaY){\n            //             if(tInnerY < tAlphaBottomY){\n            //                 // hit alpha\n            //                 set(tChangeFlag,1)\n            //                 set(\'this.otherAttrs.4\',3)\n            //                 //change alpha\n            //                 set(\'this.layers.6.y\',tInnerY)\n            //                 set(tA,tInnerY)\n            //                 minus(tA,tAlphaY)\n            //                 multiply(tA,255)\n            //                 divide(tA,tAlphaH)\n            //                 set(\'this.layers.4.subLayers.color.a\',tA)\n            //                \n            //             }\n            //         }\n            //     }\n            // }\n            //\n            // if(tChangeFlag == 1){\n            //\n            //    \n            //     if(tS == 0){\n            //         set(tR,tV)\n            //         set(tG,tV)\n            //         set(tB,tV)\n            //     }else{\n            //         set(tI,tH)\n            //         divide(tI,60)\n            //         set(tF,tH)\n            //         set(tTemp,tI)\n            //         multiply(tTemp,60)\n            //         //tF = 60*f\n            //         minus(tF,tTemp)\n            //        \n            //         //set p\n            //         set(tP,255)\n            //         minus(tP,tS)\n            //         multiply(tP,tV)\n            //         divide(tP,255)\n            //        \n            //         //set q\n            //         set(tTemp,tS)\n            //         multiply(tTemp,tF)\n            //         set(tQ,15300)\n            //         minus(tQ,tTemp)\n            //         multiply(tQ,tV)\n            //         divide(tQ,15300)\n            //        \n            //         //set t\n            //         set(tTemp,60)\n            //         minus(tTemp,tF)\n            //         multiply(tTemp,tS)\n            //         set(tT,15300)\n            //         minus(tT,tTemp)\n            //         multiply(tT,tV)\n            //         divide(tT,15300)\n            //       \n            //        \n            //         if(tI == 0){\n            //             set(tR,tV)\n            //             set(tG,tT)\n            //             set(tB,tP)\n            //         }else{\n            //             if(tI == 1){\n            //                 set(tR,tQ)\n            //                 set(tG,tV)\n            //                 set(tB,tP)\n            //             }else{\n            //                 if(tI == 2){\n            //                     set(tR,tP)\n            //                     set(tG,tV)\n            //                     set(tB,tT)\n            //                 }else{\n            //                     if(tI == 3){\n            //                         set(tR,tP)\n            //                         set(tG,tQ)\n            //                         set(tB,tV)\n            //                     }else{\n            //                         if(tI == 4){\n            //                             set(tR,tT)\n            //                             set(tG,tP)\n            //                             set(tB,tV)\n            //                         }else{\n            //                             set(tR,tV)\n            //                             set(tG,tP)\n            //                             set(tB,tQ)\n            //                         }\n            //                     }\n            //                 }\n            //             }\n            //         }    \n            //        \n            //     }\n            //   \n            //     set(\'this.layers.4.subLayers.color.r\',tR)\n            //     set(\'this.layers.4.subLayers.color.g\',tG)\n            //     set(\'this.layers.4.subLayers.color.b\',tB)\n            //    \n            //     var(tResult,0)\n            //     set(tResult,tR)\n            //     multiply(tResult,1000)\n            //     add(tResult,tG)\n            //     multiply(tResult,1000)\n            //     add(tResult,tB)\n            //     multiply(tResult,1000)\n            //     add(tResult,tA)\n            //     setTag(tResult)\n            //    \n            //     print(\'r\',tR)\n            //     print(\'g\',tG)\n            //     print(\'b\',tB)\n            //\n            // }\n            //\n        '
    };

    WidgetCommands['SysDatePicker'] = {
        onInitialize: '\n            var(tTag,0)\n            var(tY,0)        //\u5E74\n            var(tM,0)        //\u6708\n            var(tD,0)        //\u65E5\n\n            var(zM,0)        //\u6708\u4EFD[3,14]\uFF0C\u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n            var(zY,0)        //\u5E74\u7684\u540E\u4E24\u4F4D\uFF0C\u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n            var(zC,0)        //\u4E16\u7EAA-1  \u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n            var(zW,0)        //\u661F\u671F\u51E0 \u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n\n            var(temp1,0)     //\u4E34\u65F6\u53D8\u91CF1\n            var(temp2,0)\n            var(daysCnt,0)   //\u6B64\u6708\u7684\u5929\u6570\n            var(initIndex,0) //\u65E5\u56FE\u5C42\u7684\u8D77\u59CB\u7D22\u5F15\u5750\u6807\n            var(layersCnt,0) //\u56FE\u5C42\u4E2A\u6570\n\n            //\u8BBE\u7F6EtY\uFF0CtM\u548CtD\u3002\n            getTag(tTag)\n            if(tTag==0){\n                set(tY,\'this.otherAttrs.0\')\n                set(tM,\'this.otherAttrs.1\')\n                set(tD,1)\n            }else{\n                //\u4F7F\u7528tag\u8BBE\u7F6E\u53D8\u91CF\n                print(\'use tag\',\'init\')\n            }\n\n            //\u8BBE\u7F6E\u8521\u52D2\u516C\u5F0F\u76F8\u5173\u53D8\u91CF\n            set(zC,tY)\n            set(zY,tY)\n            set(zM,tM)\n            if(tM<3){    \n                add(zM,12)\n                minus(zC,1)\n                minus(zY,1)\n            }\n            divide(zC,100)\n            mod(zY,100)\n            \n            //\u663E\u793A\u5E74\u3001\u6708\n            set(\'this.layers.1.subLayers.font.text\',tY)\n            set(\'this.layers.2.subLayers.font.text\',tM)\n            \n            //\u8BA1\u7B97zW:w=[c/4]-2c+y+[y/4]+[13(m+1)/5]+d-1;d=1;\n            set(zW,zC)\n            divide(zW,4)\n            set(temp1,zC)\n            multiply(temp1,2)\n            minus(zW,temp1)\n            add(zW,zY)\n            set(temp1,zY)\n            divide(temp1,4)\n            add(zW,temp1)\n            set(temp1,zM)\n            add(temp1,1)\n            multiply(temp1,13)\n            divide(temp1,5)\n            add(zW,temp1)\n            mod(zW,7)\n            \n            //\u6839\u636E\u6708\u4EFD\u8BBE\u7F6E\u5929\u6570\n            if(tM==4){\n                set(daysCnt,30)\n            }else{\n                if(tM==6){\n                    set(daysCnt,30)\n                }else{\n                    if(tM==9){\n                        set(daysCnt,30)\n                    }else{\n                        if(tM==11){\n                            set(daysCnt,30)\n                        }else{\n                            if(tM==2){\n                                //\u975E\u95F0\u5E7428\u5929\n                                set(daysCnt,28)\n                                \n                                //\u5224\u65AD\u95F0\u5E74\n                                set(temp1,tY)\n                                mod(temp1,100)\n                                if(temp1==0){\n                                    //\u4E16\u7EAA\u5E74\n                                    set(temp2,tY)\n                                    mod(temp2,400)\n                                    if(temp2==0){\n                                        set(daysCnt,29)\n                                    }\n                                }else{\n                                    //\u666E\u901A\u5E74\n                                    set(temp2,tY)\n                                    mod(temp2,4)\n                                    if(temp2==0){\n                                        set(temp2,tY)\n                                        mod(temp2,100)\n                                        if(temp2>0){\n                                            set(daysCnt,29)\n                                        }\n                                    }\n                                }\n                            }else{\n                                set(daysCnt,31)\n                            }\n                        }\n                    }\n                }\n            }\n            //\u4FDD\u5B58daysCnt\n            set(\'this.otherAttrs.11\',daysCnt)\n            \n            //\u5F00\u59CB\u7ED8\u5236\u65E5\u56FE\u5C42\u4E0A\u7684\u6570\u5B57\n            set(initIndex,\'this.otherAttrs.2\')\n            set(layersCnt,\'this.layers.length\')            \n           \n            set(temp1,zW)\n            add(temp1,initIndex)            //\u8D77\u59CB\u663E\u793A\u5750\u6807\n            add(daysCnt,temp1)\n\n            \n            set(temp2,1)                    //\u663E\u793A\u7684\u65E5\u5B57\u7B26\n            while(initIndex<layersCnt){\n                if(initIndex>=temp1){\n                    if(initIndex<daysCnt){\n                        set(\'this.layers.initIndex.hidden\',0)\n                        set(\'this.layers.initIndex.subLayers.font.text\',temp2)\n                        add(temp2,1)\n                    }else{\n                        // set(\'this.layers.initIndex.subLayers.font.text\',0)\n                        set(\'this.layers.initIndex.hidden\',1)\n                    }\n                }else{\n                    // set(\'this.layers.initIndex.subLayers.font.text\',0)\n                    set(\'this.layers.initIndex.hidden\',1)\n                }\n                add(initIndex,1)\n            }\n            \n        ',
        onMouseDown: '\n            //***********mouseDown\u4E8B\u4EF6\u72EC\u6709\u53D8\u91CF***********\n            var(mouseX,0)             //\u9F20\u6807x\u4F4D\u7F6E\n            var(mouseY,0)             //\u9F20\u6807y\u4F4D\u7F6E\n            var(btnSize,0)            //\u6309\u952E\u5927\u5C0F\n            var(lSide,0)              //\u5DE6\u8FB9\u754C\uFF0C\u5DE6\u53F3\u6309\u94AE\u7684\u8FB9\u754C\n            var(rSide,0)              //\u53F3\u8FB9\u754C\n            var(tSide,0)              //\u4E0A\u8FB9\u754C\n            var(bSide,0)              //\u4E0B\u8FB9\u754C\n            var(btnFlag,0)            //\u5DE6\u3001\u53F3\u6309\u952E\u6807\u5FD7\u4F4D,\u4EE3\u8868\u662F\u5426\u6309\u4E0B\u6309\u952E\u30020,1\n            var(highLightIndex,0)\n             \n            \n            set(mouseX,\'this.innerX\')\n            set(mouseY,\'this.innerY\')\n            set(btnSize,\'this.otherAttrs.4\')\n            set(highLightIndex,\'this.layers.length\')\n            minus(highLightIndex,1)\n            \n            //***********\u7ED8\u5236\u6570\u5B57\u53D8\u91CF\uFF0C\u4E0EonInitialize\u4E8B\u4EF6\u76F8\u540C***********\n            var(tTag,0)\n            var(tY,0)        //\u5E74\n            var(tM,0)        //\u6708\n            var(tD,0)        //\u65E5\n            \n            //\u8BBE\u7F6EtY\uFF0CtM\u548CtD\u3002\n            getTag(tTag)\n            if(tTag==0){\n                set(tY,\'this.otherAttrs.0\')\n                set(tM,\'this.otherAttrs.1\')\n                set(tD,1)\n            }else{\n                //\u4F7F\u7528tag\u8BBE\u7F6E\u53D8\u91CF\n                print(\'use tag\',\'init\')\n            }\n            \n            //\u6309\u4E0B\u5DE6\u952E,\u65E5\u671F\u51CF\n            if(mouseX>0){\n                if(mouseX<btnSize){\n                    if(mouseY>0){\n                        if(mouseY<btnSize){\n                            set(btnFlag,1)\n                            minus(tM,1)\n                            if(tM==0){\n                                set(tM,12)\n                                minus(tY,1)\n                            }\n                            set(\'this.otherAttrs.0\',tY)\n                            set(\'this.otherAttrs.1\',tM)\n                        }\n                    }\n                }\n            }\n            //\u6309\u4E0B\u53F3\u952E\uFF0C\u65E5\u671F\u52A0\n            set(lSide,\'this.layers.0.width\')\n            minus(lSide,btnSize)\n            set(rSide,\'this.layers.0.width\')\n            if(mouseX>lSide){\n                if(mouseX<rSide){\n                    if(mouseY>0){\n                        if(mouseY<btnSize){\n                            set(btnFlag,1)\n                            add(tM,1)\n                            if(tM==13){\n                                set(tM,1)\n                                add(tY,1)\n                            }\n                            set(\'this.otherAttrs.0\',tY)\n                            set(\'this.otherAttrs.1\',tM)\n                        }\n                    }\n                }\n            }\n            \n            //******\u5F00\u59CB\u91CD\u65B0\u7ED8\u5236\u65E5\u56FE\u5C42\uFF0C\u903B\u8F91\u4E0EonInitialize\u4E00\u81F4\n            if(btnFlag==1){\n                //\u9690\u85CF\u9AD8\u4EAE\n                set(\'this.layers.highLightIndex.hidden\',0)\n                \n                var(zM,0)        //\u6708\u4EFD[3,14]\uFF0C\u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n                var(zY,0)        //\u5E74\u7684\u540E\u4E24\u4F4D\uFF0C\u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n                var(zC,0)        //\u4E16\u7EAA-1  \u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n                var(zW,0)        //\u661F\u671F\u51E0 \u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n    \n                var(temp1,0)     //\u4E34\u65F6\u53D8\u91CF1\n                var(temp2,0)\n                var(daysCnt,0)   //\u6B64\u6708\u7684\u5929\u6570\n                var(initIndex,0) //\u65E5\u56FE\u5C42\u7684\u8D77\u59CB\u7D22\u5F15\u5750\u6807\n                var(layersCnt,0) //\u56FE\u5C42\u4E2A\u6570\n    \n                //\u8BBE\u7F6E\u8521\u52D2\u516C\u5F0F\u76F8\u5173\u53D8\u91CF\n                set(zC,tY)\n                set(zY,tY)\n                set(zM,tM)\n                if(tM<3){    \n                    add(zM,12)\n                    minus(zC,1)\n                    minus(zY,1)\n                }\n                divide(zC,100)\n                mod(zY,100)\n                \n                //\u663E\u793A\u5E74\u3001\u6708\n                set(\'this.layers.1.subLayers.font.text\',tY)\n                set(\'this.layers.2.subLayers.font.text\',tM)\n                \n                //\u8BA1\u7B97zW:w=[c/4]-2c+y+[y/4]+[13(m+1)/5]+d-1;d=1;\n                set(zW,zC)\n                divide(zW,4)\n                set(temp1,zC)\n                multiply(temp1,2)\n                minus(zW,temp1)\n                add(zW,zY)\n                set(temp1,zY)\n                divide(temp1,4)\n                add(zW,temp1)\n                set(temp1,zM)\n                add(temp1,1)\n                multiply(temp1,13)\n                divide(temp1,5)\n                add(zW,temp1)\n                mod(zW,7)\n                \n                //\u4FDD\u5B58zW\n                set(\'this.otherAttrs.12\',zW)\n                \n                //\u6839\u636E\u6708\u4EFD\u8BBE\u7F6E\u5929\u6570\n                if(tM==4){\n                    set(daysCnt,30)\n                }else{\n                    if(tM==6){\n                        set(daysCnt,30)\n                    }else{\n                        if(tM==9){\n                            set(daysCnt,30)\n                        }else{\n                            if(tM==11){\n                                set(daysCnt,30)\n                            }else{\n                                if(tM==2){\n                                    //\u975E\u95F0\u5E7428\u5929\n                                    set(daysCnt,28)\n                                    \n                                    //\u5224\u65AD\u95F0\u5E74\n                                    set(temp1,tY)\n                                    mod(temp1,100)\n                                    if(temp1==0){\n                                        //\u4E16\u7EAA\u5E74\n                                        set(temp2,tY)\n                                        mod(temp2,400)\n                                        if(temp2==0){\n                                            set(daysCnt,29)\n                                        }\n                                    }else{\n                                        //\u666E\u901A\u5E74\n                                        set(temp2,tY)\n                                        mod(temp2,4)\n                                        if(temp2==0){\n                                            set(temp2,tY)\n                                            mod(temp2,100)\n                                            if(temp2>0){\n                                                set(daysCnt,29)\n                                            }\n                                        }\n                                    }\n                                }else{\n                                    set(daysCnt,31)\n                                }\n                            }\n                        }\n                    }\n                }\n                //\u4FDD\u5B58daysCnt\n                set(\'this.otherAttrs.11\',daysCnt)\n                \n                //\u5F00\u59CB\u7ED8\u5236\u65E5\u56FE\u5C42\u4E0A\u7684\u6570\u5B57\n                set(initIndex,\'this.otherAttrs.2\')\n                set(layersCnt,\'this.layers.length\')            \n               \n                set(temp1,zW)\n                add(temp1,initIndex)            //\u8D77\u59CB\u663E\u793A\u5750\u6807\n                add(daysCnt,temp1)\n    \n                set(temp2,1)                    //\u663E\u793A\u7684\u65E5\u5B57\u7B26\n                while(initIndex<layersCnt){\n                    if(initIndex>=temp1){\n                        if(initIndex<daysCnt){\n                            set(\'this.layers.initIndex.hidden\',0)\n                            set(\'this.layers.initIndex.subLayers.font.text\',temp2)\n                            add(temp2,1)\n                        }else{\n                            // set(\'this.layers.initIndex.subLayers.font.text\',0)\n                            set(\'this.layers.initIndex.hidden\',1)\n                        }\n                    }else{\n                        // set(\'this.layers.initIndex.subLayers.font.text\',0)\n                        set(\'this.layers.initIndex.hidden\',1)\n                    }\n                    add(initIndex,1)\n                }\n            \n            }\n            \n            //********\u5F00\u59CB\u7ED8\u5236\u9AD8\u4EAE\u9009\u4E2D\u5C42**********\n            var(daysLayerMinX,0)      \n            var(daysLayerMaxX,0)\n            var(daysLayerMinY,0)\n            var(daysLayerMaxY,0)\n            var(highLightX,0)\n            var(highLightY,0)\n            var(dayW,0)\n            var(dayH,0)\n            var(selectedDayIndex,0)\n            var(daysCnt,0)\n            \n            set(daysLayerMinX,\'this.otherAttrs.5\')\n            set(daysLayerMaxX,\'this.otherAttrs.6\')\n            set(daysLayerMinY,\'this.otherAttrs.7\')\n            set(daysLayerMaxY,\'this.otherAttrs.8\')\n            set(dayW,\'this.otherAttrs.9\')\n            set(dayH,\'this.otherAttrs.10\')\n            set(daysCnt,\'this.otherAttrs.11\')\n            set(zW,\'this.otherAttrs.12\')\n            \n            if(mouseX>=daysLayerMinX){\n                if(mouseX<=daysLayerMaxX){\n                    if(mouseY>=daysLayerMinY){\n                        if(mouseY<=daysLayerMaxY){\n                            //\u8BA1\u7B97\u7B2C\u51E0\u5C42\u88AB\u9009\u4E2D,\u9996\u5148\u662F\u7B2C\u51E0\u884C\uFF0C\u7136\u540E\u662F\u6B64\u884C\u7B2C\u51E0\u5217\n                            set(temp1,mouseY)\n                            minus(temp1,daysLayerMinY)\n                            divide(temp1,dayH)\n                            set(selectedDayIndex,7)\n                            multiply(selectedDayIndex,temp1)\n                            \n                            set(temp2,mouseX)\n                            minus(temp2,daysLayerMinX)\n                            divide(temp2,dayW)\n                            add(selectedDayIndex,temp2)\n                            \n                            set(initIndex,\'this.otherAttrs.2\') //\u83B7\u53D6\u65E5\u56FE\u5C42\u8D77\u59CB\u5750\u6807\n                            add(selectedDayIndex,initIndex)\n                            \n                            set(temp1,zW)\n                            add(temp1,initIndex)\n                            set(temp2,daysCnt)\n                            add(temp2,temp1)\n                            minus(temp2,1)\n                            \n                            if(selectedDayIndex>=temp1){\n                                if(selectedDayIndex<=temp2){\n                                    set(highLightX,\'this.layers.selectedDayIndex.x\')\n                                    set(highLightY,\'this.layers.selectedDayIndex.y\')\n                                    set(\'this.layers.highLightIndex.x\',highLightX)\n                                    set(\'this.layers.highLightIndex.y\',highLightY)\n                                    set(\'this.layers.highLightIndex.hidden\',0)\n                                }\n                            }\n                            \n                        }\n                    }\n                }\n            }\n            \n            \n        ',
        onMouseUp: '\n\n        ',
        onTagChange: '\n\n        ',
        onKeyBoardLeft: '\n\n        ',
        onKeyBoardRight: '\n\n        ',
        onKeyBoardOK: '\n\n        '
    };

    WidgetCommands['SysTexDatePicker'] = {
        onInitialize: '\n            var(tTag,0)\n            var(tY,0)        //\u5E74\n            var(tM,0)        //\u6708\n            var(tD,0)        //\u65E5\n\n            var(zM,0)        //\u6708\u4EFD[3,14]\uFF0C\u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n            var(zY,0)        //\u5E74\u7684\u540E\u4E24\u4F4D\uFF0C\u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n            var(zC,0)        //\u4E16\u7EAA-1  \u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n            var(zW,0)        //\u661F\u671F\u51E0 \u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n\n            var(temp1,0)     //\u4E34\u65F6\u53D8\u91CF1\n            var(temp2,0)\n            var(daysCnt,0)   //\u6B64\u6708\u7684\u5929\u6570\n            var(initIndex,0) //\u65E5\u56FE\u5C42\u7684\u8D77\u59CB\u7D22\u5F15\u5750\u6807\n            var(layersCnt,0) //\u56FE\u5C42\u4E2A\u6570\n            \n            var(dayW,0)\n            var(dayH,0)\n            var(daysLayerMinX,0)\n            var(daysLayerMaxX,0)\n            var(daysLayerMinY,0)\n            var(daysLayerMaxY,0)\n\n            //\u8BBE\u7F6EtY\uFF0CtM\u548CtD\u3002\n            getTag(tTag)\n            if(tTag==0){\n                set(tY,\'this.otherAttrs.0\')\n                set(tM,\'this.otherAttrs.1\')\n                set(tD,1)\n            }else{\n                //\u4F7F\u7528tag\u8BBE\u7F6E\u53D8\u91CF\n                print(\'use tag\',\'init\')\n            }\n\n            //\u8BBE\u7F6E\u8521\u52D2\u516C\u5F0F\u76F8\u5173\u53D8\u91CF\n            set(zC,tY)\n            set(zY,tY)\n            set(zM,tM)\n            if(tM<3){    \n                add(zM,12)\n                minus(zC,1)\n                minus(zY,1)\n            }\n            divide(zC,100)\n            mod(zY,100)\n            \n            //\u663E\u793A\u5E74\n            set(temp1,1)\n            while(temp1<5){\n                set(temp2,tY)\n                if(temp1==1){\n                    divide(temp2,1000)\n                }else{\n                    if(temp1==2){\n                        divide(temp2,100)\n                    }else{\n                        if(temp1==3){\n                            divide(temp2,10)\n                        }\n                    }\n                }\n                mod(temp2,10)\n                add(temp2,48)\n                set(\'this.layers.temp1.subLayers.font.text\',temp2)\n                add(temp1,1)\n            }\n            \n            //\u663E\u793A\u6708\n            while(temp1<7){\n                set(temp2,tM)\n                if(temp1==5){\n                    divide(temp2,10)\n                }\n                mod(temp2,10)\n                add(temp2,48)\n                set(\'this.layers.temp1.subLayers.font.text\',temp2)\n                add(temp1,1)\n            }\n            \n            //\u8BA1\u7B97zW:w=[c/4]-2c+y+[y/4]+[13(m+1)/5]+d-1;d=1;\n            set(zW,zC)\n            divide(zW,4)\n            set(temp1,zC)\n            multiply(temp1,2)\n            minus(zW,temp1)\n            add(zW,zY)\n            set(temp1,zY)\n            divide(temp1,4)\n            add(zW,temp1)\n            set(temp1,zM)\n            add(temp1,1)\n            multiply(temp1,13)\n            divide(temp1,5)\n            add(zW,temp1)\n            mod(zW,7)\n            \n            //\u6839\u636E\u6708\u4EFD\u8BBE\u7F6E\u5929\u6570\n            if(tM==4){\n                set(daysCnt,30)\n            }else{\n                if(tM==6){\n                    set(daysCnt,30)\n                }else{\n                    if(tM==9){\n                        set(daysCnt,30)\n                    }else{\n                        if(tM==11){\n                            set(daysCnt,30)\n                        }else{\n                            if(tM==2){\n                                //\u975E\u95F0\u5E7428\u5929\n                                set(daysCnt,28)\n                                \n                                //\u5224\u65AD\u95F0\u5E74\n                                set(temp1,tY)\n                                mod(temp1,100)\n                                if(temp1==0){\n                                    //\u4E16\u7EAA\u5E74\n                                    set(temp2,tY)\n                                    mod(temp2,400)\n                                    if(temp2==0){\n                                        set(daysCnt,29)\n                                    }\n                                }else{\n                                    //\u666E\u901A\u5E74\n                                    set(temp2,tY)\n                                    mod(temp2,4)\n                                    if(temp2==0){\n                                        set(temp2,tY)\n                                        mod(temp2,100)\n                                        if(temp2>0){\n                                            set(daysCnt,29)\n                                        }\n                                    }\n                                }\n                            }else{\n                                set(daysCnt,31)\n                            }\n                        }\n                    }\n                }\n            }\n            //\u4FDD\u5B58daysCnt\n            set(\'this.otherAttrs.11\',daysCnt)\n            \n            //\u5F00\u59CB\u7ED8\u5236\u65E5\u56FE\u5C42\u4E0A\u7684\u6570\u5B57            \n            set(initIndex,\'this.otherAttrs.2\')\n            set(layersCnt,\'this.layers.length\')\n            set(dayW,\'this.otherAttrs.9\')\n            set(dayH,\'this.otherAttrs.10\')\n            set(daysLayerMinX,\'this.otherAttrs.5\')\n            set(daysLayerMaxX,\'this.otherAttrs.6\')\n            set(daysLayerMinY,\'this.otherAttrs.7\')\n            set(daysLayerMaxY,\'this.otherAttrs.8\')  \n                      \n            add(daysCnt,initIndex)\n            set(temp1,zW)\n            multiply(temp1,dayW)              \n            add(temp1,daysLayerMinX)        //\u65E5\u56FE\u5C42\u7684x\u5750\u6807\n            set(temp2,daysLayerMinY)        //\u65E5\u56FE\u5C42\u7684y\u5750\u6807\n            while(initIndex<layersCnt){\n                \n                if(initIndex<daysCnt){\n                    //\u6392\u5217\u65E5\u671F\n                    if(temp1>=daysLayerMaxX){\n                        set(temp1,daysLayerMinX)\n                        add(temp2,dayH)\n                    }\n                    set(\'this.layers.initIndex.x\',temp1)\n                    set(\'this.layers.initIndex.y\',temp2)\n                    add(temp1,dayW)\n                }else{\n                    //\u591A\u4E8E\u7684\u65E5\u671F\u9690\u85CF\n                    set(\'this.layers.initIndex.hidden\',1)\n                }\n                \n                add(initIndex,1)\n            }\n        ',
        onMouseDown: '\n            //***********mouseDown\u4E8B\u4EF6\u72EC\u6709\u53D8\u91CF***********\n            var(mouseX,0)             //\u9F20\u6807x\u4F4D\u7F6E\n            var(mouseY,0)             //\u9F20\u6807y\u4F4D\u7F6E\n            var(btnSize,0)            //\u6309\u952E\u5927\u5C0F\n            var(lSide,0)              //\u5DE6\u8FB9\u754C\uFF0C\u5DE6\u53F3\u6309\u94AE\u7684\u8FB9\u754C\n            var(rSide,0)              //\u53F3\u8FB9\u754C\n            var(tSide,0)              //\u4E0A\u8FB9\u754C\n            var(bSide,0)              //\u4E0B\u8FB9\u754C\n            var(btnFlag,0)            //\u5DE6\u3001\u53F3\u6309\u952E\u6807\u5FD7\u4F4D,\u4EE3\u8868\u662F\u5426\u6309\u4E0B\u6309\u952E\u30020,1\n            var(highLightIndex,0) \n            \n            set(mouseX,\'this.innerX\')\n            set(mouseY,\'this.innerY\')\n            set(btnSize,\'this.otherAttrs.4\')\n            set(highLightIndex,\'this.layers.length\')\n            minus(highLightIndex,1)\n            \n            //***********\u7ED8\u5236\u5E74\u6708\u65E5\u3001\u9AD8\u4EAE\u53D8\u91CF***********\n            var(tTag,0)\n            var(tY,0)        //\u5E74\n            var(tM,0)        //\u6708\n            var(tD,0)        //\u65E5\n            var(zM,0)        //\u6708\u4EFD[3,14]\uFF0C\u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n            var(zY,0)        //\u5E74\u7684\u540E\u4E24\u4F4D\uFF0C\u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n            var(zC,0)        //\u4E16\u7EAA-1  \u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n            var(zW,0)        //\u661F\u671F\u51E0 \u7528\u4E8E\u8521\u52D2\u516C\u5F0F\n\n            var(temp1,0)     //\u4E34\u65F6\u53D8\u91CF1\n            var(temp2,0)\n            var(daysCnt,0)   //\u6B64\u6708\u7684\u5929\u6570\n            var(initIndex,0) //\u65E5\u56FE\u5C42\u7684\u8D77\u59CB\u7D22\u5F15\u5750\u6807\n            var(layersCnt,0) //\u56FE\u5C42\u4E2A\u6570\n            \n            var(daysLayerMinX,0)      \n            var(daysLayerMaxX,0)\n            var(daysLayerMinY,0)\n            var(daysLayerMaxY,0)\n            var(highLightX,0)\n            var(highLightY,0)\n            var(dayW,0)\n            var(dayH,0)\n            var(selectedDayIndex,0)\n            var(daysCnt,0)\n            \n            //\u8BBE\u7F6EtY\uFF0CtM\u548CtD\u3002\n            getTag(tTag)\n            if(tTag==0){\n                set(tY,\'this.otherAttrs.0\')\n                set(tM,\'this.otherAttrs.1\')\n                set(tD,1)\n            }else{\n                //\u4F7F\u7528tag\u8BBE\u7F6E\u53D8\u91CF\n                print(\'use tag\',\'init\')\n            }\n            \n            //\u6309\u4E0B\u5DE6\u952E,\u65E5\u671F\u51CF\n            if(mouseX>0){\n                if(mouseX<btnSize){\n                    if(mouseY>0){\n                        if(mouseY<btnSize){\n                            set(btnFlag,1)\n                            minus(tM,1)\n                            if(tM==0){\n                                set(tM,12)\n                                minus(tY,1)\n                            }\n                            set(\'this.otherAttrs.0\',tY)\n                            set(\'this.otherAttrs.1\',tM)\n                        }\n                    }\n                }\n            }\n            //\u6309\u4E0B\u53F3\u952E\uFF0C\u65E5\u671F\u52A0\n            set(lSide,\'this.layers.0.width\')\n            minus(lSide,btnSize)\n            set(rSide,\'this.layers.0.width\')\n            if(mouseX>lSide){\n                if(mouseX<rSide){\n                    if(mouseY>0){\n                        if(mouseY<btnSize){\n                            set(btnFlag,1)\n                            add(tM,1)\n                            if(tM==13){\n                                set(tM,1)\n                                add(tY,1)\n                            }\n                            set(\'this.otherAttrs.0\',tY)\n                            set(\'this.otherAttrs.1\',tM)\n                        }\n                    }\n                }\n            }\n            \n            if(btnFlag==1){\n                //\u9690\u85CF\u9AD8\u4EAE\n                set(\'this.layers.highLightIndex.hidden\',0)\n                \n                //\u8BBE\u7F6E\u8521\u52D2\u516C\u5F0F\u76F8\u5173\u53D8\u91CF\n                set(zC,tY)\n                set(zY,tY)\n                set(zM,tM)\n                if(tM<3){    \n                    add(zM,12)\n                    minus(zC,1)\n                    minus(zY,1)\n                }\n                divide(zC,100)\n                mod(zY,100)\n                \n                //\u663E\u793A\u5E74\n                set(temp1,1)\n                while(temp1<5){\n                    set(temp2,tY)\n                    if(temp1==1){\n                        divide(temp2,1000)\n                    }else{\n                        if(temp1==2){\n                            divide(temp2,100)\n                        }else{\n                            if(temp1==3){\n                                divide(temp2,10)\n                            }\n                        }\n                    }\n                    mod(temp2,10)\n                    add(temp2,48)\n                    set(\'this.layers.temp1.subLayers.font.text\',temp2)\n                    add(temp1,1)\n                }\n                \n                //\u663E\u793A\u6708\n                while(temp1<7){\n                    set(temp2,tM)\n                    if(temp1==5){\n                        divide(temp2,10)\n                    }\n                    mod(temp2,10)\n                    add(temp2,48)\n                    set(\'this.layers.temp1.subLayers.font.text\',temp2)\n                    add(temp1,1)\n                }\n                \n                //\u8BA1\u7B97zW:w=[c/4]-2c+y+[y/4]+[13(m+1)/5]+d-1;d=1;\n                set(zW,zC)\n                divide(zW,4)\n                set(temp1,zC)\n                multiply(temp1,2)\n                minus(zW,temp1)\n                add(zW,zY)\n                set(temp1,zY)\n                divide(temp1,4)\n                add(zW,temp1)\n                set(temp1,zM)\n                add(temp1,1)\n                multiply(temp1,13)\n                divide(temp1,5)\n                add(zW,temp1)\n                mod(zW,7)\n                if(zW<0){\n                    set(temp1,zW)\n                    set(zW,0)\n                    minus(zW,temp1)\n                }\n                \n                //\u4FDD\u5B58zW\n                set(\'this.otherAttrs.12\',zW)\n                \n                //\u6839\u636E\u6708\u4EFD\u8BBE\u7F6E\u5929\u6570\n                if(tM==4){\n                    set(daysCnt,30)\n                }else{\n                    if(tM==6){\n                        set(daysCnt,30)\n                    }else{\n                        if(tM==9){\n                            set(daysCnt,30)\n                        }else{\n                            if(tM==11){\n                                set(daysCnt,30)\n                            }else{\n                                if(tM==2){\n                                    //\u975E\u95F0\u5E7428\u5929\n                                    set(daysCnt,28)\n                                    \n                                    //\u5224\u65AD\u95F0\u5E74\n                                    set(temp1,tY)\n                                    mod(temp1,100)\n                                    if(temp1==0){\n                                        //\u4E16\u7EAA\u5E74\n                                        set(temp2,tY)\n                                        mod(temp2,400)\n                                        if(temp2==0){\n                                            set(daysCnt,29)\n                                        }\n                                    }else{\n                                        //\u666E\u901A\u5E74\n                                        set(temp2,tY)\n                                        mod(temp2,4)\n                                        if(temp2==0){\n                                            set(temp2,tY)\n                                            mod(temp2,100)\n                                            if(temp2>0){\n                                                set(daysCnt,29)\n                                            }\n                                        }\n                                    }\n                                }else{\n                                    set(daysCnt,31)\n                                }\n                            }\n                        }\n                    }\n                }\n                //\u4FDD\u5B58daysCnt\n                set(\'this.otherAttrs.11\',daysCnt)\n                \n                //*****\u5F00\u59CB\u7ED8\u5236\u65E5\u56FE\u5C42\u4E0A\u7684\u6570\u5B57*****\n                set(initIndex,\'this.otherAttrs.2\')\n                set(layersCnt,\'this.layers.length\')\n                set(dayW,\'this.otherAttrs.9\')\n                set(dayH,\'this.otherAttrs.10\')\n                set(daysLayerMinX,\'this.otherAttrs.5\')\n                set(daysLayerMaxX,\'this.otherAttrs.6\')\n                set(daysLayerMinY,\'this.otherAttrs.7\')\n                set(daysLayerMaxY,\'this.otherAttrs.8\')  \n                          \n                add(daysCnt,initIndex)\n                set(temp1,zW)\n                multiply(temp1,dayW)              \n                add(temp1,daysLayerMinX)        //\u65E5\u56FE\u5C42\u7684x\u5750\u6807\n                set(temp2,daysLayerMinY)        //\u65E5\u56FE\u5C42\u7684y\u5750\u6807\n                while(initIndex<layersCnt){\n                    \n                    if(initIndex<daysCnt){\n                        //\u6392\u5217\u65E5\u671F\n                        set(\'this.layers.initIndex.hidden\',0)\n                        if(temp1>=daysLayerMaxX){\n                            set(temp1,daysLayerMinX)\n                            add(temp2,dayH)\n                        }\n                        set(\'this.layers.initIndex.x\',temp1)\n                        set(\'this.layers.initIndex.y\',temp2)\n                        add(temp1,dayW)\n                    }else{\n                        //\u591A\u4E8E\u7684\u65E5\u671F\u9690\u85CF\n                        set(\'this.layers.initIndex.hidden\',1)\n                    }\n                    \n                    add(initIndex,1)\n                }\n            }\n            \n            \n            //********\u5F00\u59CB\u7ED8\u5236\u9AD8\u4EAE\u9009\u4E2D\u5C42**********\n            set(daysLayerMinX,\'this.otherAttrs.5\')\n            set(daysLayerMaxX,\'this.otherAttrs.6\')\n            set(daysLayerMinY,\'this.otherAttrs.7\')\n            set(daysLayerMaxY,\'this.otherAttrs.8\')\n            set(dayW,\'this.otherAttrs.9\')\n            set(dayH,\'this.otherAttrs.10\')\n            set(daysCnt,\'this.otherAttrs.11\')\n            set(zW,\'this.otherAttrs.12\')\n            \n            if(mouseX>=daysLayerMinX){\n                if(mouseX<=daysLayerMaxX){\n                    if(mouseY>=daysLayerMinY){\n                        if(mouseY<=daysLayerMaxY){\n                            //\u8BA1\u7B97\u7B2C\u51E0\u5C42\u88AB\u9009\u4E2D,\u5E76\u4E14\u662F\u5426\u5728\u6709\u6548\u5C42\u7684\u8303\u56F4\u5185\n                            set(temp1,mouseY)\n                            minus(temp1,daysLayerMinY)\n                            divide(temp1,dayH)\n                            set(selectedDayIndex,7)\n                            multiply(selectedDayIndex,temp1)\n                            \n                            set(temp2,mouseX)\n                            minus(temp2,daysLayerMinX)\n                            divide(temp2,dayW)\n                            add(selectedDayIndex,temp2)\n                            \n                            set(initIndex,\'this.otherAttrs.2\') //\u83B7\u53D6\u65E5\u56FE\u5C42\u8D77\u59CB\u5750\u6807\n                            add(selectedDayIndex,initIndex)\n                            \n                            set(temp1,zW)\n                            add(temp1,initIndex)\n                            set(temp2,daysCnt)\n                            add(temp2,temp1)\n                            minus(temp2,1)\n                            \n                            if(selectedDayIndex>=temp1){\n                                if(selectedDayIndex<=temp2){\n                                    //\u8BA1\u7B97\u9AD8\u4EAE\u5C42x\uFF0Cy\u5750\u6807\n                                    set(highLightX,mouseX)\n                                    minus(highLightX,daysLayerMinX)\n                                    divide(highLightX,dayW)\n                                    \n                                    set(highLightY,mouseY)\n                                    minus(highLightY,daysLayerMinY)\n                                    divide(highLightY,dayH)\n                                    \n                                    multiply(highLightX,dayW)\n                                    add(highLightX,daysLayerMinX)\n                                    multiply(highLightY,dayH)\n                                    add(highLightY,daysLayerMinY)\n                                    \n                                    set(\'this.layers.highLightIndex.x\',highLightX)\n                                    set(\'this.layers.highLightIndex.y\',highLightY)\n                                    set(\'this.layers.highLightIndex.hidden\',0)\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        ',
        onMouseUp: '\n\n        ',
        onTagChange: '\n\n        ',
        onKeyBoardLeft: '\n\n        ',
        onKeyBoardRight: '\n\n        ',
        onKeyBoardOK: '\n\n        '
    };

    WidgetCommands['TexTime'] = {
        'onInitialize': ' \n            //\u663E\u793A\u9664\u9AD8\u4EAE\u4EE5\u5916\u6240\u6709\u56FE\u5C42\n            var(tMaxHighLightNum,0)\n            set(tMaxHighLightNum,\'this.maxHighLightNum\') \n            var(tOffset,0)\n            var(len,0)\n            set(len,\'this.layers.length\')\n            if(tMaxHighLightNum > 0){\n                minus(len,1)\n                set(\'this.layers.len.hidden\',1)\n            }\n           \n            while(tOffset < len){\n                set(\'this.layers.tOffset.hidden\',0)\n                add(tOffset,1)\n            }\n            \n        ',
        onMouseUp: '\n        ',
        onMouseDown: '\n        ',
        onTagChange: '\n            //\u521D\u59CB\u5316\u5C5E\u6027\n            var(tCurValue,0)                      //tag\u503C\n            getTag(tCurValue)\n\n            var(tDigitCount,0)                    //\u6570\u5B57\u4E2A\u6570\n            set(tDigitCount,\'this.otherAttrs.2\')\n            \n            var(tMode,0) //\u6A21\u5F0F\n            set(tMode,\'this.otherAttrs.3\')\n            if(tMode == 1){\n                //\u65F6\u5206\u6A21\u5F0F\n                divide(tCurValue,256)\n            }\n            \n            var(tempCurValue,0)                   //\u4E34\u65F6\u53D8\u91CFtempCurValue\n            set(tempCurValue,tCurValue)            \n\n            var(index,0)                          //\u6570\u5B57\u56FE\u7247\u5E8F\u53F7\n            var(i,0)                              //\u5FAA\u73AF\u53D8\u91CF\n            var(tOverFlow,0)                        //\u6EA2\u51FA\u6807\u5FD7\n                        \n            var(temp1,0)                          //\u4E34\u65F6\u53D8\u91CF1\n            var(temp2,0)                          //\u4E34\u65F6\u53D8\u91CF2\n            \n            if(tCurValue<0){\n                //\u8D1F\u6EA2\u51FA\n                set(tOverFlow,1)\n            }\n            while(tDigitCount>i){\n                //\u5FAA\u73AF\u56E0\u5B50\n                add(i,1)\n            \n                //\u5F53\u524D\u4F4D\u7684\u6570\u5B57\u503C\n                //temp2=tempCurValue-tempCurValue/16*16\n                //tempCurValue=tempCurValue/16\n                set(temp1,tempCurValue)\n                set(temp2,tempCurValue)\n                divide(temp1,16)\n                set(tempCurValue,temp1)            \n                multiply(temp1,16)\n                minus(temp2,temp1)\n                \n                //\u6EA2\u51FA\u5904\u7406\n                if(temp2>9){\n                    set(temp2,0)\n                    set(tOverFlow,1)\n                }\n                            \n                //index=tDigitCount-i\n                set(index,tDigitCount)\n                minus(index,i)\n\n                //draw(index)\n                set(\'this.layers.index.subLayers.image.texture\',temp2)\n            }\n\n            //\u6EA2\u51FA\u5904\u7406:\u5168\u90E8\u7F6E\u4E3A\u96F6\n            if(tOverFlow==1){\n                set(i,0)\n                while(tDigitCount>i){\n                    //\u5FAA\u73AF\u56E0\u5B50\n                    add(i,1)\n                         \n                    //index=tDigitCount-i\n                    set(index,tDigitCount)\n                    minus(index,i)\n    \n                    //draw(index)\n                    set(\'this.layers.index.subLayers.image.texture\',0)\n                }\n            }\n        ',
        onKeyBoardLeft: '\n            var(tMaxHighLightNum,0)                           //maxHighLightNum\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')   \n                     \n            var(okFlag,0)                                     //okFlag\n            set(okFlag,\'this.otherAttrs.1\')\n            \n            var(offset,0)                                     //highlight\u56FE\u5C42\u4F4D\u7F6E\n            set(offset,\'this.layers.length\')\n            minus(offset,1)\n            var(tMode,0)\n            set(tMode,\'this.otherAttrs.3\')\n            if(tMaxHighLightNum>0){                         \n                if(okFlag==0){                                  \n                    //\u9690\u85CF\u9AD8\u4EAE\u5C42                \n                    set(\'this.layers.offset.hidden\',1)\n                    \n                    //set target highlight\n                    var(tHighLightNum,0)\n                    set(tHighLightNum,\'this.highLightNum\')\n                    \n                    \n                    \n                    var(tCharW,o)\n                    set(tCharW,\'this.otherAttrs.4\')\n                         \n                    var(xOffset,0)                    \n                    var(tHighlightWidth,0)                   \n                    var(temp1,0)\n                    \n                    //\u8DF3\u5165\u4E0B\u4E00\u4E2A\u6709\u9AD8\u4EAE\u7684\u63A7\u4EF6\n                    if(tHighLightNum==0){\n                        set(\'this.layers.offset.hidden\',1)\n                    }else{\n                        //\u63A7\u4EF6\u5185\u90E8\u9AD8\u4EAE\n                        if(tHighLightNum==1){\n                            if(tMode==0){\n                                set(tHighlightWidth,2)\n                            }else{\n                                if(tMode==1){\n                                    set(tHighlightWidth,2)\n                                }else{\n                                    set(tHighlightWidth,4)\n                                }\n                            }\n                            set(xOffset,0)\n                        }else{\n                            if(tHighLightNum==2){\n                                if(tMode==0){\n                                    set(xOffset,3)\n                                }else{\n                                    if(tMode==1){\n                                        set(xOffset,3)\n                                    }else{\n                                        set(xOffset,5)\n                                    }\n                                }\n                                set(tHighlightWidth,2)\n                            }else{\n                                if(tMode==0){\n                                    set(xOffset,6)\n                                }else{\n                                    if(tMode==1){\n                                        set(xOffset,6)\n                                    }else{\n                                        set(xOffset,8)\n                                    }\n                                }\n                                set(tHighlightWidth,2)\n                            }\n                        }\n                        //\u4FEE\u6539\u9AD8\u4EAE\u5C42\u4F4D\u7F6E\n                        set(temp1,tCharW)\n                        multiply(temp1,xOffset)\n                        set(\'this.layers.offset.x\',temp1)\n                        \n                        //\u4FEE\u6539\u9AD8\u4EAE\u5C42\u5BBD\u5EA6\n                        set(temp1,tCharW)\n                        multiply(temp1,tHighlightWidth)\n                        set(\'this.layers.offset.width\',temp1)\n                        \n                        //\u663E\u793A\u9AD8\u4EAE\u56FE\u5C42\n                        set(\'this.layers.offset.hidden\',0)\n                    }\n                }else{\n                    var(tHighLightNum,0)\n                    var(tTag,0)\n                    \n                    var(xr,0)\n                    var(minusNum,0)\n                    set(minusNum,1)\n                    set(tHighLightNum,\'this.highLightNum\')\n                    getTag(tTag)\n                    \n                    if(tMode==1){\n                        if(tHighLightNum==1){\n                            set(xr,2)\n                        }else{\n                            set(xr,0)\n                        }\n                    }else{\n                        if(tHighLightNum==1){\n                            set(xr,4)\n                        }else{\n                            if(tHighLightNum==2){\n                                set(xr,2)\n                            }else{\n                                set(xr,0)\n                            }\n                        }\n                    }\n                    var(ttTag,0)\n                    var(txr,0)\n                    set(ttTag,tTag)\n                    set(txr,xr)\n                    while(xr>0){\n                        divide(ttTag,16)\n                        minus(xr,1)\n                    }\n                    var(ttTagBeforeChange,0)\n                    set(ttTagBeforeChange,ttTag)\n                   \n                    mod(ttTagBeforeChange,256)\n                    var(tOverFlow,0)\n                    set(tOverFlow,0)\n                    //\u5224\u65AD\u662F\u5426\u6EA2\u51FA\n                    if(ttTagBeforeChange <= 0){\n                        set(tOverFlow,1)\n                    }\n                    if(tOverFlow==0){\n                        mod(ttTag,16)\n                        var(rawttTag,0)\n                        set(rawttTag,ttTag)\n                        minus(ttTag,1)\n                        if(ttTag<0){\n                            set(ttTag,-7)\n                        }\n                        while(txr>0){\n                            multiply(ttTag,16)\n                            multiply(rawttTag,16)\n                            minus(txr,1)\n                        }\n                        minus(ttTag,rawttTag)\n                        add(tTag,ttTag)\n                        setTag(tTag)\n                    }\n                    \n                }              \n            }\n        ',
        onKeyBoardRight: '\n            var(tMaxHighLightNum,0)                           //maxHighLightNum\n            set(tMaxHighLightNum,\'this.maxHighLightNum\')   \n                     \n            var(okFlag,0)                                     //okFlag\n            set(okFlag,\'this.otherAttrs.1\')\n            \n            var(offset,0)                                     //highlight\u56FE\u5C42\u4F4D\u7F6E\n            set(offset,\'this.layers.length\')\n            minus(offset,1)\n            var(tMode,0)\n            set(tMode,\'this.otherAttrs.3\')\n            \n            if(tMaxHighLightNum>0){                         \n                if(okFlag==0){                                  \n                    //\u9690\u85CF\u9AD8\u4EAE\u5C42                \n                    set(\'this.layers.offset.hidden\',1)\n                    \n                    //set target highlight\n                    var(tHighLightNum,0)\n                    set(tHighLightNum,\'this.highLightNum\')\n                    \n                    \n                    \n                    var(tCharW,o)\n                    set(tCharW,\'this.otherAttrs.4\')\n                         \n                    var(xOffset,0)                    \n                    var(tHighlightWidth,0)                   \n                    var(temp1,0)\n                    \n                    //\u8DF3\u5165\u4E0B\u4E00\u4E2A\u6709\u9AD8\u4EAE\u7684\u63A7\u4EF6\n                    if(tHighLightNum==0){\n                        set(\'this.layers.offset.hidden\',1)\n                    }else{\n                        //\u63A7\u4EF6\u5185\u90E8\u9AD8\u4EAE\n                        if(tHighLightNum==1){\n                            if(tMode==0){\n                                set(tHighlightWidth,2)\n                            }else{\n                                if(tMode==1){\n                                    set(tHighlightWidth,2)\n                                }else{\n                                    set(tHighlightWidth,4)\n                                }\n                            }\n                            set(xOffset,0)\n                        }else{\n                            if(tHighLightNum==2){\n                                if(tMode==0){\n                                    set(xOffset,3)\n                                }else{\n                                    if(tMode==1){\n                                        set(xOffset,3)\n                                    }else{\n                                        set(xOffset,5)\n                                    }\n                                }\n                                set(tHighlightWidth,2)\n                            }else{\n                                if(tMode==0){\n                                    set(xOffset,6)\n                                }else{\n                                    if(tMode==1){\n                                        set(xOffset,6)\n                                    }else{\n                                        set(xOffset,8)\n                                    }\n                                }\n                                set(tHighlightWidth,2)\n                            }\n                        }\n                        //\u4FEE\u6539\u9AD8\u4EAE\u5C42\u4F4D\u7F6E\n                        set(temp1,tCharW)\n                        multiply(temp1,xOffset)\n                        set(\'this.layers.offset.x\',temp1)\n                        \n                        //\u4FEE\u6539\u9AD8\u4EAE\u5C42\u5BBD\u5EA6\n                        set(temp1,tCharW)\n                        multiply(temp1,tHighlightWidth)\n                        set(\'this.layers.offset.width\',temp1)\n                        \n                        //\u663E\u793A\u9AD8\u4EAE\u56FE\u5C42\n                        set(\'this.layers.offset.hidden\',0)\n                    }\n                }else{\n                    //change num in ok mode\n                    var(tHighLightNum,0)\n                    var(tTag,0)\n                    \n                    var(xr,0)\n                    var(addNum,0)\n                    set(addNum,1)\n                    set(tHighLightNum,\'this.highLightNum\')\n                    getTag(tTag)\n                    \n                    if(tMode==1){\n                        if(tHighLightNum==1){\n                            set(xr,4)\n                        }else{\n                            set(xr,2)\n                        }\n                    }else{\n                        if(tHighLightNum==1){\n                            set(xr,4)\n                        }else{\n                            if(tHighLightNum==2){\n                                set(xr,2)\n                            }else{\n                                set(xr,0)\n                            }\n                        }\n                    }\n                    var(ttTag,0)\n                    var(txr,0)\n                    var(ttxr,0)\n                    set(ttTag,tTag)\n                    set(txr,xr)\n                    set(ttxr,xr)\n                    while(xr>0){\n                        divide(ttTag,16)\n                        minus(xr,1)\n                    }\n                    var(ttTagBeforeChange,0)\n                    set(ttTagBeforeChange,ttTag)\n                   \n                    mod(ttTagBeforeChange,256)\n                    var(tOverFlow,0)\n                    set(tOverFlow,0)\n                    //\u5224\u65AD\u662F\u5426\u6EA2\u51FA\n                   \n                    if(tMode == 0){\n                        //\u65F6\u5206\u79D2\n                        if(tHighLightNum == 1){\n                            //\u65F6\n                            if(ttTagBeforeChange >= 35){\n                                set(tOverFlow,1)\n                            }\n                        }else{\n                            if(ttTagBeforeChange >= 89){\n                                set(tOverFlow,1)\n                            }\n                        }\n                    }else{\n                        if(tMode == 1){\n                            //\u65F6\u5206\n                            if(tHighLightNum == 1){\n                                //\u65F6\n                                if(ttTagBeforeChange >= 35){\n                                    set(tOverFlow,1)\n                                }\n                            }else{\n                                if(ttTagBeforeChange >= 89){\n                                    set(tOverFlow,1)\n                                }\n                            }\n                        }else{\n                            //\u5E74\u6708\u65E5\n                           \n                            if(tHighLightNum == 1){\n                                //\u5E74\n                                // if(ttTagBeforeChange >= 35){\n                                //     set(tOverFlow,1)\n                                // }\n                            }else{\n                                if(tHighLightNum == 2){\n                                    //\u6708\n                                    if(ttTagBeforeChange >= 18){\n                                        set(tOverFlow,1)\n                                    }\n                                }else{\n                                    if(ttTagBeforeChange >= 49){\n                                        set(tOverFlow,1)\n                                    }\n                                }\n                                \n                            }\n                        }\n                    }\n                    if(tOverFlow == 0){\n                        mod(ttTag,16)\n                        var(rawttTag,0)\n                        set(rawttTag,ttTag)\n                        add(ttTag,1)\n                        if(ttTag>=10){\n                            set(ttTag,16)\n                        }\n                        while(txr>0){\n                            multiply(ttTag,16)\n                            multiply(rawttTag,16)\n                            minus(txr,1)\n                        }\n                        minus(ttTag,rawttTag)\n                        add(tTag,ttTag)\n                        //check value in limit\n                        setTag(tTag)\n                    }\n                    \n                }                \n            }\n        ',
        onKeyBoardOK: '\n            var(okFlag,0)\n            set(okFlag,\'this.otherAttrs.1\')\n            if(okFlag==0){\n                setglobalvar(0,1)\n                set(\'this.otherAttrs.1\',1)\n            }else{\n                setglobalvar(0,0)\n                set(\'this.otherAttrs.1\',0)\n            }\n        '
    };
    return WidgetCommands;
});

/**
 * commands example
 * set(a,3)
 * setTag(1)
 * getTag(a)
 * set(a,b)
 * add(a,1)
 * minus(a,1)
 * multiply(a,2)
 * divide(a,2)
 * mod(a,2)
 * set('this.layers.1.hidden',1)
 */