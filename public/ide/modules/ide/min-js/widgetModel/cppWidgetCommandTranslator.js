!function(e){"function"==typeof define&&define.amd?define("cppWidgetCommandTranslator",[],e):"object"==typeof module&&module.exports?module.exports=e():window.cppWidgetCommandTranslator=e()}(function(){function e(e,a){this.type=e,this.value=a,this.aVals=[].slice.call(arguments,2)}function a(e){return/^[0-9]+$/.test(e)}function t(t){var l=t.value.split(".");if(2==l.length&&"this"==l[0])return new e("widget",n[l[1]]);if(3==l.length){if("this"==l[0]&&"info"==l[1])return new e("widget",n.info[l[2]]);if("this"==l[0]&&"otherAttrs"==l[1])return new e("widget",n[l[1]])}return 4==l.length&&"this"==l[0]&&"layers"==l[1]&&a(l[2])?new e("layer",O[l[3]],l[2]):6==l.length&&"this"==l[0]&&"layers"==l[1]&&a(l[2])&&"subLayers"==l[3]?new e("subLayer",y[l[4]],l[2]):null}function l(e){var a,l,m=e[0];switch(m){case"temp":a={type:"OPSETTEMP",tempID:e[1],imm:e[2].value};break;case"set":var r=e[1],i=e[2];if("ID"==r.type){if("Int"==i.type)a={type:"OPSETTEMP",tempID:e[1].value,imm:e[2].value};else if("ID"==i.type)a={type:"OPSETTEMPTE",tempID:e[1].value,imm:e[2].value};else if("EXP"==i.type&&(l=t(i)))switch(l.type){case"widget":a={type:"OPGETWID",tempID:r.value,attrID:l.value};break;case"layer":a={type:"OPGETLAY",tempID:r.value,attrID:l.value,layerID:l.aVals[0]};break;case"subLayer":a={type:"OPGETSUBLAY",tempID:r.value,attrID:l.value,layerID:l.aVals[0]}}}else if("EXP"==r.type)if("Int"==i.type){if(l=t(r))switch(l.type){case"widget":a={type:"OPSETWIDIM",attrID:l.value,imm:i.value};break;case"layer":a={type:"OPSETLAYIM",attrID:l.value,layerID:l.aVals[0],imm:i.value};break;case"subLayer":a={type:"OPSETSUBLAYIM",attrID:l.value,layerID:l.aVals[0],imm:i.value}}}else if("ID"==i.type&&(l=t(r)))switch(l.type){case"widget":a={type:"OPSETWIDTE",attrID:l.value,tempID:i.value};break;case"layer":a={type:"OPSETLAYTE",attrID:l.value,layerID:l.aVals[0],tempID:i.value};break;case"subLayer":a={type:"OPSETSUBLAYTE",attrID:l.value,layerID:l.aVals[0],tempID:i.value}}break;case"jump":a={type:"OPJUMP",imm:e[2]};break;case"end":a={type:"OPNOP"};break;case"getTag":a={type:"OPGETTAG",tempID:e[1]};break;case"setTag":a="ID"==e[1].type?{type:"OPSETTAGTE",tempID:e[1].value}:{type:"OPSETTAGIM",imm:e[1].value};break;case"eq":a="ID"==e[2].type?{type:"OPEQTE",tempID1:e[1].value,tempID2:e[2].value}:{type:"OPEQIM",tempID1:e[1].value,imm:e[2].value};break;case"lt":a="ID"==e[2].type?{type:"OPLTTE",tempID1:e[1].value,tempID2:e[2].value}:{type:"OPLTIM",tempID1:e[1].value,imm:e[2].value};break;case"lte":a="ID"==e[2].type?{type:"OPLTETE",tempID1:e[1].value,tempID2:e[2].value}:{type:"OPLTEIM",tempID1:e[1].value,imm:e[2].value};break;case"gt":a="ID"==e[2].type?{type:"OPGTTE",tempID1:e[1].value,tempID2:e[2].value}:{type:"OPGTIM",tempID1:e[1].value,imm:e[2].value};break;case"gte":a="ID"==e[2].type?{type:"OPGTETE",tempID1:e[1].value,tempID2:e[2].value}:{type:"OPGTEIM",tempID1:e[1].value,imm:e[2].value};break;case"add":a={type:"OPADD",tempID:e[1].value,imm:e[2].value};break;case"minus":a={type:"OPMINUS",tempID:e[1].value,imm:e[2].value};break;case"multiply":a={type:"OPMUL",tempID:e[1].value,imm:e[2].value};break;case"divide":a={type:"OPDIV",tempID:e[1].value,imm:e[2].value};break;case"mod":a={type:"OPMOD",tempID:e[1].value,imm:e[2].value};break;case"and":a={type:"OPAND",tempID:e[1].value,imm:e[2].value};break;case"or":a={type:"OPOR",tempID:e[1].value,imm:e[2].value};break;case"xor":a={type:"OPXOR",tempID:e[1].value,imm:e[2].value};break;case"not":a={type:"OPNOT",tempID:e[1].value}}return a}function m(e){return e.map(function(e){return l(e)})}for(var r={},i=["OPEND","OPSTART","OPSETLAYIM","OPSETLAYIN","OPSETSUBLAYIM","OPSETSUBLAYIN","OPSETTEMPIM","OPSETTEMPIN","OPGETTAG","OPSETTAGIM","OPSETTAGIN","OPSETTAGTE","OPEQIM","OPEQIN","OPJUMP","OPADDIM","OPADDIN","OPMINUSIM","OPMINUSIN","OPMULIM","OPMULIN","OPDIVIM","OPDIVIN","OPANDIM","OPANDIN","OPORIM","OPORIN","OPXORIM","OPXORIN","OPNOTIM","OPNOTIN"],u={},I=0;I<i.length;I++)u[i[I]]=I;for(var p=["startTag","stopTag","minValue","maxValue","lowAlarmValue","highAlarmValue","minAngle","maxAngle","oldValue","mATag","numOfLayers","startAddrOfLayers","widgetWidth","widgetHeight","mWidgetOffsetX","mWidgetOffsetY","mBindTagID","attatchCanvasID","preWidgetID","nextWidgetID","totalFrame","nowFrame","mInteraction","mMode","mArrange","generalType","otherAttrs"],s={},I=0;I<p.length;I++)s[p[I]]=I;var n={info:{left:"mWidgetOffsetX",top:"mWidgetOffsetY",width:"widgetWidth",height:"widgetHeight"},minValue:"minValue",maxValue:"maxValue",lowAlarmValue:"lowAlarmValue",highAlarmValue:"highAlarmValue",minAngle:"minAngle",maxAngle:"maxAngle",numOfLayers:"numOfLayers",interaction:"mInteraction",tag:"mBindTagID",generalType:"generalType",otherAttrs:"otherAttrs"},O={x:"mLayerOffsetX",y:"mLayerOffsetY",width:"mWidth",height:"mHeight",hidden:"mHidden"},y={roi:"SubLayerClassROI",font:"SubLayerClassFont",texture:"SubLayerClassImage",color:"SubLayerClassColor"};return r.transJSWidgetCommandToCPPForm=l,r.transJSWidgetCommands=m,r});