"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define("WidgetCommands",[],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():window.WidgetCommands=t()}(function(){var t={};return t.Button={onInitialize:"\n\n            var(a,0)\n            set(a,'this.mode')\n            set(a,3)\n            if(a>=100){\n                set('this.layers.1.hidden',1)\n            }else{\n                set('this.layers.1.hidden',0)\n            }\n        ",onMouseDown:"\n            var(b,0)\n            set(b,'this.mode')\n            if(b==0){\n                set('this.layers.0.hidden',0)\n                set('this.layers.1.hidden',1)\n            }else{\n                var(c,0)\n                getTag(c)\n                if(c>0){\n                    setTag(0)\n                }else{\n                    setTag(1)\n                }\n            }\n        ",onMouseUp:"\n            var(b,0)\n            set(b,'this.mode')\n            if(b==0){\n                set('this.layers.0.hidden',1)\n                set('this.layers.1.hidden',0)\n            }\n        ",onTagChange:"\n            var(a,0)\n            var(b,0)\n            set(b,'this.mode')\n            getTag(a)\n            if(b==1){\n                if(a>0){\n                    set('this.layers.0.hidden',0)\n                    set('this.layers.1.hidden',1)\n                }else{\n                    set('this.layers.0.hidden',1)\n                    set('this.layers.1.hidden',0)\n                }\n            }\n        ",onKeyBoardLeft:"\n          var(tMaxHighLightNum,0)\n          set(tMaxHighLightNum,'this.maxHighLightNum')\n          if (tMaxHighLightNum>0) {\n            var(tHighLightNum,0)\n            set(tHighLightNum,'this.highLightNum')\n            if (tHighLightNum==1) {\n              //hashighlight\n              set('this.layers.2.hidden',0)\n            }else{\n              set('this.layers.2.hidden',1)\n            }\n          }\n        ",onKeyBoardRight:"\n          var(tMaxHighLightNum,0)\n          set(tMaxHighLightNum,'this.maxHighLightNum')\n          if (tMaxHighLightNum>0) {\n            var(tHighLightNum,0)\n            set(tHighLightNum,'this.highLightNum')\n            if (tHighLightNum==1) {\n              //hashighlight\n              set('this.layers.2.hidden',0)\n            }else{\n              set('this.layers.2.hidden',1)\n            }\n          }\n        ",onKeyBoardOK:"\n          executeaction(5)\n        "},t.ButtonGroup={onInitialize:"\n            \n        ",onMouseDown:"\n            var(a,0)\n            var(b,0)\n            var(c,0)\n            set(c,'this.layers.length')\n            var(tMaxHighLightNum,0)\n            set(tMaxHighLightNum,'this.maxHighLightNum')\n            var(tSingleButtonLayers,0)\n            if (tMaxHighLightNum>0) {\n              set(tSingleButtonLayers,3)\n            }else{\n              set(tSingleButtonLayers,2)\n            }\n            minus(c,tSingleButtonLayers)\n            set(a,'this.innerX')\n            set(b,'this.innerY')\n            var(lx,0)\n            var(ly,0)\n            var(lw,0)\n            var(lh,0)\n            var(rx,0)\n            var(ry,0)\n            while(c>=0){\n                set(lx,'this.layers.c.x')\n                set(ly,'this.layers.c.y')\n                set(lw,'this.layers.c.width')\n                set(lh,'this.layers.c.height')\n                set(rx,lx)\n                set(ry,ly)\n                add(rx,lw)\n                add(ry,lh)\n                if(a>=lx){\n                    if(rx>a){\n                        if(b>=ly){\n                            if(ry>b){\n                                divide(c,tSingleButtonLayers)\n                                setTag(c)\n                                set(c,0)\n                            }\n                        }\n                    }\n                }\n                minus(c,tSingleButtonLayers)\n            }\n        ",onMouseUp:"\n        ",onTagChange:"\n            var(a,0)\n            var(b,0)\n            var(c,0)\n            var(tMaxHighLightNum,0)\n            set(tMaxHighLightNum,'this.maxHighLightNum')\n            var(tSingleButtonLayers,0)\n            if (tMaxHighLightNum>0) {\n              set(tSingleButtonLayers,3)\n            }else{\n              set(tSingleButtonLayers,2)\n            }\n            set(a,'this.layers.length')\n            set(c,a)\n            divide(c,tSingleButtonLayers)\n            while(a>0){\n                if (tMaxHighLightNum>0) {\n                  minus(a,1)\n                  minus(a,1)\n                  set('this.layers.a.hidden',0)\n                  minus(a,1)\n                  set('this.layers.a.hidden',1)\n                }else{\n                  minus(a,1)\n                  set('this.layers.a.hidden',0)\n                  minus(a,1)\n                  set('this.layers.a.hidden',1)\n                }\n                \n            }\n            getTag(a)\n            if(a>=0){\n                if(c>a){\n                    multiply(a,tSingleButtonLayers)\n                    set('this.layers.a.hidden',0)\n                    add(a,1)\n                    set('this.layers.a.hidden',1)\n                }\n            }\n\n        ",onKeyBoardLeft:"\n          var(tMaxHighLightNum,0)\n          set(tMaxHighLightNum,'this.maxHighLightNum')\n          if (tMaxHighLightNum>0) {\n            var(tHighLightNum,0)\n            set(tHighLightNum,'this.highLightNum')\n\n            if (tHighLightNum>0) {\n              minus(tHighLightNum,1)\n              multiply(tHighLightNum,3)\n              add(tHighLightNum,2)\n\n              var(tTotalLayers,0)\n              set(tTotalLayers,'this.layers.length')\n              if (tHighLightNum < tTotalLayers) {\n                //valid\n                //reset \n                var(tCurLayer,0)\n                while(tMaxHighLightNum>0){\n                  minus(tMaxHighLightNum,1)\n                  set(tCurLayer,tMaxHighLightNum)\n                  multiply(tCurLayer,3)\n                  add(tCurLayer,2)\n                  set('this.layers.tCurLayer.hidden',1)\n                }\n                //set target highlight \n                set('this.layers.tHighLightNum.hidden',0)\n              }\n            }else{\n                if(tHighLightNum==0){\n                    add(tHighLightNum,2)\n                    set('this.layers.tHighLightNum.hidden',1)\n                }\n            }\n          }\n        ",onKeyBoardRight:"\n          var(tMaxHighLightNum,0)\n          set(tMaxHighLightNum,'this.maxHighLightNum')\n          if (tMaxHighLightNum>0) {\n            var(tHighLightNum,0)\n            set(tHighLightNum,'this.highLightNum')\n            if (tHighLightNum>0) {\n              minus(tHighLightNum,1)\n              multiply(tHighLightNum,3)\n              add(tHighLightNum,2)\n\n              var(tTotalLayers,0)\n              set(tTotalLayers,'this.layers.length')\n              if (tHighLightNum  < tTotalLayers) {\n                //valid\n                //reset \n                var(tCurLayer,0)\n                while(tMaxHighLightNum>0){\n                  minus(tMaxHighLightNum,1)\n                  set(tCurLayer,tMaxHighLightNum)\n                  multiply(tCurLayer,3)\n                  add(tCurLayer,2)\n                  set('this.layers.tCurLayer.hidden',1)\n                }\n                //set target highlight \n                set('this.layers.tHighLightNum.hidden',0)\n              }\n            }else{\n                if(tHighLightNum==0){\n                    var(lastHighLight,0)\n                    set(lastHighLight,'this.layers.length')\n                    minus(lastHighLight,1)\n                    set('this.layers.lastHighLight.hidden',1)\n                }\n            }\n          }\n        ",onKeyBoardOK:"\n          var(tHighLightNum,0)\n          set(tHighLightNum,'this.highLightNum')\n          if (tHighLightNum>0) {\n            minus(tHighLightNum,1)\n            var(tTotalLayers,0)\n            set(tTotalLayers,'this.layers.length')\n\n            divide(tTotalLayers,3)\n            if (tHighLightNum<tTotalLayers) {\n              //valid\n              //reset \n              //set target tag\n              setTag(tHighLightNum)\n              \n            }\n          }\n\n        "},t.Dashboard={onInitialize:"\n        ",onMouseDown:"",onMouseUp:"",onTagChange:"\n            var(toffsetValue,0)\n            var(tminValue,0)\n            var(tmaxValue,0)\n            var(tminAngle,0)\n            var(tmaxAngle,0)\n            var(ttagValue,0)\n            var(tangleDist,0)   \n            set(tminValue,'this.minValue')\n            set(tmaxValue,'this.maxValue')\n            set(tminAngle,'this.minAngle')\n            set(tmaxAngle,'this.maxAngle')\n            set(tangleDist,tmaxAngle)\n            minus(tangleDist,tminAngle)\n            var(ttempDist,0)\n            set(toffsetValue,'this.otherAttrs.0')\n            getTag(ttagValue)\n            if (ttagValue>tmaxValue) {\n                set(ttagValue,tmaxValue)\n            }\n            if (ttagValue<tminValue) {\n                set(ttagValue,tminValue)\n            }\n            var(tTotalFrame,0)\n            set(tTotalFrame,'this.totalFrame')\n            if (tTotalFrame>0) {\n              var(tOldValue,0)\n              set(tOldValue,'this.oldValue')\n              set('this.startAnimationTag',tOldValue)\n              set('this.stopAnimationTag',ttagValue)\n              \n            }else{\n              set(ttempDist,tmaxValue)\n              minus(ttempDist,tminValue)\n              var(ttagDist,0)\n              set(ttagDist,ttagValue)\n              minus(ttagValue,tminValue)\n              var(tvalueRatio,0)\n              set(tvalueRatio,ttagDist)\n              multiply(tvalueRatio,tangleDist)\n              divide(tvalueRatio,ttempDist)\n              add(tvalueRatio,tminAngle)\n              var(tclockwise,0)\n              var(tStartAngle,0)\n              set(tclockwise,'this.otherAttrs.1')\n              if (tclockwise==1) {\n                  add(tvalueRatio,45)\n                  add(tvalueRatio,toffsetValue)\n                  add(tStartAngle,toffsetValue)\n                  add(tStartAngle,90)\n              }else{\n                  var(uValueRatio,0)\n                  minus(uValueRatio,tvalueRatio)\n                  minus(uValueRatio,toffsetValue)\n                  set(tvalueRatio,uValueRatio)\n                  minus(tStartAngle,toffsetValue)\n                  add(tStartAngle,90)\n                  add(tvalueRatio,45)\n              }\n              var(tp1x,0)\n              var(tp1y,0)\n              var(tMode,0)\n              var(talpha,0)\n              var(tbeta,0)\n              set(tMode,'this.mode')\n              if (tMode==1) {\n                  set('this.layers.1.rotateAngle',tvalueRatio)\n              }\n              if (tMode==0) {\n                  set('this.layers.1.rotateAngle',tvalueRatio)\n              }\n              add(tvalueRatio,45)\n              if (tMode==1) {\n                  set(tp1x,'this.layers.1.x')\n                  set(tp1y,'this.layers.1.y')\n                  set('this.layers.2.subLayers.roi.p1x',tp1x)\n                  set('this.layers.2.subLayers.roi.p1y',tp1y)\n                  if (tclockwise==1) {\n                      set('this.layers.2.subLayers.roi.alpha',tStartAngle)\n                      set('this.layers.2.subLayers.roi.beta',tvalueRatio)\n                  }else{\n                      set('this.layers.2.subLayers.roi.alpha',tvalueRatio)\n                      set('this.layers.2.subLayers.roi.beta',tStartAngle)\n                  }\n\n              }else{\n                  if (tMode==2) {\n                      set(tp1x,'this.layers.0.width')\n                      set(tp1y,'this.layers.0.height')\n                      divide(tp1x,2)\n                      divide(tp1y,2)\n                      set('this.layers.0.subLayers.roi.p1x',tp1x)\n                      set('this.layers.0.subLayers.roi.p1y',tp1y)\n                      if (tclockwise==1) {\n                          set('this.layers.0.subLayers.roi.alpha',tStartAngle)\n                          set('this.layers.0.subLayers.roi.beta',tvalueRatio)\n                      }else{\n                          set('this.layers.0.subLayers.roi.alpha',tvalueRatio)\n                          set('this.layers.0.subLayers.roi.beta',tStartAngle)\n                      }\n                  }\n              }\n            }\n            checkalarm(0)\n            \n            set('this.oldValue',ttagValue)\n            if (tTotalFrame>0) {\n              startanimation(0)\n            }\n\n        ",onAnimationFrame:"\n          var(tStartTag,0)\n          var(tStopTag,0)\n          set(tStartTag,'this.startAnimationTag')\n          set(tStopTag,'this.stopAnimationTag')\n          var(tTotalFrame,0)\n          set(tTotalFrame,'this.totalFrame')\n          var(tCurFrame,0)\n          set(tCurFrame,'this.nowFrame')\n          var(tCurTag,0)\n          var(tDist,0)\n          set(tDist,tStopTag)\n          minus(tDist,tStartTag)\n          multiply(tDist,tCurFrame)\n          divide(tDist,tTotalFrame)\n          add(tDist,tStartTag)\n          set(tCurTag,tDist)\n          set('this.curAnimationTag',tCurTag) //set AnTag \n          var(toffsetValue,0)\n          var(tminValue,0)\n          var(tmaxValue,0)\n          var(tminAngle,0)\n          var(tmaxAngle,0)\n          var(ttagValue,0)\n          var(tangleDist,0)   \n          set(tminValue,'this.minValue')\n          set(tmaxValue,'this.maxValue')\n          set(tminAngle,'this.minAngle')\n          set(tmaxAngle,'this.maxAngle')\n          set(tangleDist,tmaxAngle)\n          minus(tangleDist,tminAngle)\n          var(ttempDist,0)\n          set(toffsetValue,'this.otherAttrs.0')\n          set(ttagValue,tCurTag)\n          if (ttagValue>tmaxValue) {\n              set(ttagValue,tmaxValue)\n          }\n          if (ttagValue<tminValue) {\n              set(ttagValue,tminValue)\n          }\n          set(ttempDist,tmaxValue)\n          minus(ttempDist,tminValue)\n          var(ttagDist,0)\n          set(ttagDist,ttagValue)\n          minus(ttagValue,tminValue)\n          var(tvalueRatio,0)\n          set(tvalueRatio,ttagDist)\n          multiply(tvalueRatio,tangleDist)\n          divide(tvalueRatio,ttempDist)\n          add(tvalueRatio,tminAngle)\n          var(tclockwise,0)\n          var(tStartAngle,0)\n          set(tclockwise,'this.otherAttrs.1')\n          if (tclockwise==1) {\n              add(tvalueRatio,45)\n              add(tvalueRatio,toffsetValue)\n              add(tStartAngle,toffsetValue)\n              add(tStartAngle,90)\n          }else{\n              var(uValueRatio,0)\n              minus(uValueRatio,tvalueRatio)\n              minus(uValueRatio,toffsetValue)\n              set(tvalueRatio,uValueRatio)\n              minus(tStartAngle,toffsetValue)\n              add(tStartAngle,90)\n              add(tvalueRatio,45)\n          }\n          var(tp1x,0)\n          var(tp1y,0)\n          var(tMode,0)\n          var(talpha,0)\n          var(tbeta,0)\n          set(tMode,'this.mode')\n          if (tMode==1) {\n              set('this.layers.1.rotateAngle',tvalueRatio)\n          }\n          if (tMode==0) {\n              set('this.layers.1.rotateAngle',tvalueRatio)\n          }\n          add(tvalueRatio,45)\n          if (tMode==1) {\n              set(tp1x,'this.layers.1.x')\n              set(tp1y,'this.layers.1.y')\n              set('this.layers.2.subLayers.roi.p1x',tp1x)\n              set('this.layers.2.subLayers.roi.p1y',tp1y)\n              if (tclockwise==1) {\n                  set('this.layers.2.subLayers.roi.alpha',tStartAngle)\n                  set('this.layers.2.subLayers.roi.beta',tvalueRatio)\n              }else{\n                  set('this.layers.2.subLayers.roi.alpha',tvalueRatio)\n                  set('this.layers.2.subLayers.roi.beta',tStartAngle)\n              }\n\n          }else{\n              if (tMode==2) {\n                  set(tp1x,'this.layers.0.width')\n                  set(tp1y,'this.layers.0.height')\n                  divide(tp1x,2)\n                  divide(tp1y,2)\n                  set('this.layers.0.subLayers.roi.p1x',tp1x)\n                  set('this.layers.0.subLayers.roi.p1y',tp1y)\n                  if (tclockwise==1) {\n                      set('this.layers.0.subLayers.roi.alpha',tStartAngle)\n                      set('this.layers.0.subLayers.roi.beta',tvalueRatio)\n                  }else{\n                      set('this.layers.0.subLayers.roi.alpha',tvalueRatio)\n                      set('this.layers.0.subLayers.roi.beta',tStartAngle)\n                  }\n              }\n          }\n          \n        "},t.RotateImg={onInitialize:"\n        ",onTagChange:"\n            var(tTagValue,0)\n            getTag(tTagValue)\n            var(tMinAngle,0)\n            var(tMaxAngle,0)\n            var(tWidth,0)\n            set(tWidth,'this.layers.0.width')\n            divide(tWidth,2)\n            var(tHeight,0)\n            set(tHeight,'this.layers.0.height')\n            divide(tHeight,2)\n            set(tMinAngle,'this.minValue')\n            set(tMaxAngle,'this.maxValue')\n            if (tTagValue>tMaxAngle) {\n                set(tTagValue,tMaxAngle)\n            }\n            if(tTagValue<tMinAngle){\n                set(tTagValue,tMinAngle)\n            }\n            set('this.layers.0.rotateCenterX',tWidth)\n            set('this.layers.0.rotateCenterY',tHeight)\n            set('this.layers.0.rotateAngle',tTagValue)\n        "},t.Progress={onInitialize:"\n            var(mod,0)\n            set(mod,'this.mode')\n            var(cur,0)\n            set(cur,'this.otherAttrs.19')\n            set('this.layers.0.hidden',0)\n            set('this.layers.1.hidden',0)\n            if(cur==1){\n                set('this.layers.2.hidden',0)\n                set('this.layers.2.x',0)\n            }\n        ",onMouseUp:"\n            \n        ",onMouseDown:"\n            \n        ",onTagChange:"\n            var(tTotalFrame,0)\n            set(tTotalFrame,'this.totalFrame')\n            var(m,0)\n            set(m,'this.mode')\n            var(tTag,0)\n            getTag(tTag)\n            var(min,0)\n            set(min,'this.minValue')\n            var(max,0)\n            set(max,'this.maxValue')\n            if (tTotalFrame>0) {\n              var(tOldValue,0)\n              set(tOldValue,'this.oldValue')\n              set('this.startAnimationTag',tOldValue)\n              set('this.stopAnimationTag',tTag)\n            }else{\n              if(tTag>=min){\n               if(tTag<=max){\n                  var(v,0)\n                  var(temp1,0)\n                  var(temp2,0)\n                  set(temp1,tTag)\n                  set(temp2,max)\n                  minus(temp1,min)\n                  minus(temp2,min)\n                  var(w,0)\n                  set(w,'this.layers.0.width')\n                  var(h,0)\n                  set(h,'this.layers.0.height')\n                  if(m==0){\n                      multiply(temp1,w)\n                      divide(temp1,temp2)\n                      set('this.layers.1.subLayers.roi.p1x',0)\n                      set('this.layers.1.subLayers.roi.p1y',0)\n                      set('this.layers.1.subLayers.roi.p2x',temp1)\n                      set('this.layers.1.subLayers.roi.p2y',0)\n                      set('this.layers.1.subLayers.roi.p3x',temp1)\n                      set('this.layers.1.subLayers.roi.p3y',h)\n                      set('this.layers.1.subLayers.roi.p4x',0)\n                      set('this.layers.1.subLayers.roi.p4y',h)\n                      set('this.layers.1.hidden',0)\n                  }\n                  if(m==1){\n                      var(r1,0)\n                      set(r1,'this.otherAttrs.0')\n                      var(g1,0)\n                      set(g1,'this.otherAttrs.1')\n                      var(b1,0)\n                      set(b1,'this.otherAttrs.2')\n                      var(a1,0)\n                      set(a1,'this.otherAttrs.3')\n                      var(r2,0)\n                      set(r2,'this.otherAttrs.4')\n                      var(g2,'this.otherAttrs.5')\n                \n                      var(b2,0)\n                      set(b2,'this.otherAttrs.6')\n                      var(a2,0)\n                      set(a2,'this.otherAttrs.7')\n                      var(rt,0)\n                      set(rt,r2)\n                      var(gt,0)\n                      set(gt,g2)\n                      var(bt,0)\n                      set(bt,b2)\n                      var(at,0)\n                      set(at,a2)\n                      minus(rt,r1)\n                      minus(gt,g1)\n                      minus(bt,b1)\n                      minus(at,a1)\n                      multiply(rt,temp1)\n                      multiply(gt,temp1)\n                      multiply(bt,temp1)\n                      multiply(at,temp1)\n                      divide(rt,temp2)\n                      divide(gt,temp2)\n                      divide(bt,temp2)\n                      divide(at,temp2)\n                      add(rt,r1)\n                      add(gt,g1)\n                      add(bt,b1)\n                      add(at,a1)\n                      set('this.layers.1.subLayers.color.r',rt)\n                      set('this.layers.1.subLayers.color.g',gt)\n                      set('this.layers.1.subLayers.color.b',bt)\n                      set('this.layers.1.subLayers.color.a',at)\n                      multiply(temp1,w)\n                      divide(temp1,temp2)\n                      set('this.layers.1.width',temp1)\n                      set('this.layers.1.hidden',0)\n                  }\n                  if(m==3){\n                      var(thresM,0)\n                      set(thresM,'this.otherAttrs.0')\n                      var(r1,0)\n                      set(r1,'this.otherAttrs.3')\n                      var(g1,0)\n                      set(g1,'this.otherAttrs.4')\n                      var(b1,0)\n                      set(b1,'this.otherAttrs.5')\n                      var(a1,0)\n                      set(a1,'this.otherAttrs.6')\n                      var(r2,0)\n                      set(r2,'this.otherAttrs.7')\n                      var(g2,0)\n                      set(g2,'this.otherAttrs.8')\n                      var(b2,0)\n                      set(b2,'this.otherAttrs.9')\n                      var(a2,0)\n                      set(a2,'this.otherAttrs.10')\n                      if(thresM==1){\n                         var(thres1,0)\n                         set(thres1,'this.otherAttrs.1')\n                         if(tTag<thres1){\n                            set('this.layers.1.subLayers.color.r',r1)\n                            set('this.layers.1.subLayers.color.g',g1)\n                            set('this.layers.1.subLayers.color.b',b1)\n                            set('this.layers.1.subLayers.color.a',a1)\n                         }else{\n                            set('this.layers.1.subLayers.color.r',r2)\n                            set('this.layers.1.subLayers.color.g',g2)\n                            set('this.layers.1.subLayers.color.b',b2)\n                            set('this.layers.1.subLayers.color.a',a2)\n                         }\n                      }\n                      if(thresM==2){\n                         var(r3,0)\n                         set(r3,'this.otherAttrs.11')\n                         var(g3,0)\n                         set(g3,'this.otherAttrs.12')\n                         var(b3,0)\n                         set(b3,'this.otherAttrs.13')\n                         var(a3,0)\n                         set(a3,'this.otherAttrs.14')\n                         var(thres1,0)\n                         set(thres1,'this.otherAttrs.1')\n                         var(thres2,0)\n                         set(thres2,'this.otherAttrs.2')\n                         if(tTag<thres1){\n                            set('this.layers.1.subLayers.color.r',r1)\n                            set('this.layers.1.subLayers.color.g',g1)\n                            set('this.layers.1.subLayers.color.b',b1)\n                            set('this.layers.1.subLayers.color.a',a1)\n                         }else{\n                            if(tTag<thres2){\n                                set('this.layers.1.subLayers.color.r',r2)\n                                set('this.layers.1.subLayers.color.g',g2)\n                                set('this.layers.1.subLayers.color.b',b2)\n                                set('this.layers.1.subLayers.color.a',a2)\n                            }else{\n                                set('this.layers.1.subLayers.color.r',r3)\n                                set('this.layers.1.subLayers.color.g',g3)\n                                set('this.layers.1.subLayers.color.b',b3)\n                                set('this.layers.1.subLayers.color.a',a3)\n                            }\n                         }\n\n                      }\n                      multiply(temp1,w)\n                      divide(temp1,temp2)\n                      set('this.layers.1.width',temp1)\n                      set('this.layers.1.hidden',0)\n                  }\n               }\n               var(cur,0)\n               set(cur,'this.otherAttrs.19')\n               if(cur==1){\n                  set('this.layers.2.x',temp1)\n               }\n              }\n            }\n            \n            checkalarm(0)\n            set('this.oldValue',tTag)\n            if (tTotalFrame>0) {\n              startanimation(0)\n            }\n\n        ",
onAnimationFrame:"\n          var(m,0)\n          set(m,'this.mode')\n          var(tTag,0)\n\n          var(tStartTag,0)\n          var(tStopTag,0)\n          set(tStartTag,'this.startAnimationTag')\n          set(tStopTag,'this.stopAnimationTag')\n          var(tTotalFrame,0)\n          set(tTotalFrame,'this.totalFrame')\n          var(tCurFrame,0)\n          set(tCurFrame,'this.nowFrame')\n          var(tCurTag,0)\n          var(tDist,0)\n          set(tDist,tStopTag)\n          minus(tDist,tStartTag)\n          multiply(tDist,tCurFrame)\n          divide(tDist,tTotalFrame)\n          add(tDist,tStartTag)\n          set(tTag,tDist)\n          set('this.curAnimationTag',tTag)\n          var(min,0)\n          set(min,'this.minValue')\n          var(max,0)\n          set(max,'this.maxValue')\n          if(tTag>=min){\n             if(tTag<=max){\n                var(v,0)\n                var(temp1,0)\n                var(temp2,0)\n                set(temp1,tTag)\n                set(temp2,max)\n                minus(temp1,min)\n                minus(temp2,min)\n                var(w,0)\n                set(w,'this.layers.0.width')\n                var(h,0)\n                set(h,'this.layers.0.height')\n                if(m==0){\n                    multiply(temp1,w)\n                    divide(temp1,temp2)\n                    set('this.layers.1.subLayers.roi.p1x',0)\n                    set('this.layers.1.subLayers.roi.p1y',0)\n                    set('this.layers.1.subLayers.roi.p2x',temp1)\n                    set('this.layers.1.subLayers.roi.p2y',0)\n                    set('this.layers.1.subLayers.roi.p3x',temp1)\n                    set('this.layers.1.subLayers.roi.p3y',h)\n                    set('this.layers.1.subLayers.roi.p4x',0)\n                    set('this.layers.1.subLayers.roi.p4y',h)\n                    set('this.layers.1.hidden',0)\n                }\n                if(m==1){\n                    var(r1,0)\n                    set(r1,'this.otherAttrs.0')\n                    var(g1,0)\n                    set(g1,'this.otherAttrs.1')\n                    var(b1,0)\n                    set(b1,'this.otherAttrs.2')\n                    var(a1,0)\n                    set(a1,'this.otherAttrs.3')\n                    var(r2,0)\n                    set(r2,'this.otherAttrs.4')\n                    var(g2,0)\n                    set(g2,'this.otherAttrs.5')\n                    var(b2,0)\n                    set(b2,'this.otherAttrs.6')\n                    var(a2,0)\n                    set(a2,'this.otherAttrs.7')\n                    var(rt,0)\n                    set(rt,r2)\n                    var(gt,0)\n                    set(gt,g2)\n                    var(bt,0)\n                    set(bt,b2)\n                    var(at,0)\n                    set(at,a2)\n                    minus(rt,r1)\n                    minus(gt,g1)\n                    minus(bt,b1)\n                    minus(at,a1)\n                    multiply(rt,temp1)\n                    multiply(gt,temp1)\n                    multiply(bt,temp1)\n                    multiply(at,temp1)\n                    divide(rt,temp2)\n                    divide(gt,temp2)\n                    divide(bt,temp2)\n                    divide(at,temp2)\n                    add(rt,r1)\n                    add(gt,g1)\n                    add(bt,b1)\n                    add(at,a1)\n                    set('this.layers.1.subLayers.color.r',rt)\n                    set('this.layers.1.subLayers.color.g',gt)\n                    set('this.layers.1.subLayers.color.b',bt)\n                    set('this.layers.1.subLayers.color.a',at)\n                    multiply(temp1,w)\n                    divide(temp1,temp2)\n                    set('this.layers.1.width',temp1)\n                    set('this.layers.1.hidden',0)\n                }\n                if(m==3){\n                    var(thresM,0)\n                    set(thresM,'this.otherAttrs.0')\n                    var(r1,0)\n                    set(r1,'this.otherAttrs.3')\n                    var(g1,0)\n                    set(g1,'this.otherAttrs.4')\n                    var(b1,0)\n                    set(b1,'this.otherAttrs.5')\n                    var(a1,0)\n                    set(a1,'this.otherAttrs.6')\n                    var(r2,0)\n                    set(r2,'this.otherAttrs.7')\n                    var(g2,0)\n                    set(g2,'this.otherAttrs.8')\n                    var(b2,0)\n                    set(b2,'this.otherAttrs.9')\n                    var(a2,0)\n                    set(a2,'this.otherAttrs.10')\n                    if(thresM==1){\n                       var(thres1,0)\n                       set(thres1,'this.otherAttrs.1')\n                       if(tTag<thres1){\n                          set('this.layers.1.subLayers.color.r',r1)\n                          set('this.layers.1.subLayers.color.g',g1)\n                          set('this.layers.1.subLayers.color.b',b1)\n                          set('this.layers.1.subLayers.color.a',a1)\n                       }else{\n                          set('this.layers.1.subLayers.color.r',r2)\n                          set('this.layers.1.subLayers.color.g',g2)\n                          set('this.layers.1.subLayers.color.b',b2)\n                          set('this.layers.1.subLayers.color.a',a2)\n                       }\n                    }\n                    if(thresM==2){\n                       var(r3,0)\n                       set(r3,'this.otherAttrs.11')\n                       var(g3,0)\n                       set(g3,'this.otherAttrs.12')\n                       var(b3,0)\n                       set(b3,'this.otherAttrs.13')\n                       var(a3,0)\n                       set(a3,'this.otherAttrs.14')\n                       var(thres1,0)\n                       set(thres1,'this.otherAttrs.1')\n                       var(thres2,0)\n                       set(thres2,'this.otherAttrs.2')\n                       if(tTag<thres1){\n                          set('this.layers.1.subLayers.color.r',r1)\n                          set('this.layers.1.subLayers.color.g',g1)\n                          set('this.layers.1.subLayers.color.b',b1)\n                          set('this.layers.1.subLayers.color.a',a1)\n                       }else{\n                          if(tTag<thres2){\n                              set('this.layers.1.subLayers.color.r',r2)\n                              set('this.layers.1.subLayers.color.g',g2)\n                              set('this.layers.1.subLayers.color.b',b2)\n                              set('this.layers.1.subLayers.color.a',a2)\n                          }else{\n                              set('this.layers.1.subLayers.color.r',r3)\n                              set('this.layers.1.subLayers.color.g',g3)\n                              set('this.layers.1.subLayers.color.b',b3)\n                              set('this.layers.1.subLayers.color.a',a3)\n                          }\n                       }\n\n                    }\n                    multiply(temp1,w)\n                    divide(temp1,temp2)\n                    set('this.layers.1.width',temp1)\n                    set('this.layers.1.hidden',0)\n                }\n             }\n             var(cur,0)\n             set(cur,'this.otherAttrs.19')\n             if(cur==1){\n                set('this.layers.2.x',temp1)\n             }\n            }\n          \n        "},t.TextArea={onInitialize:""},t.Switch={onInitialize:"\n            set('this.layers.0.hidden',1)\n        ",onMouseUp:"\n        ",onMouseDown:"\n        ",onTagChange:"\n            var(tag,0)\n            var(bt,0)\n            set(bt,'this.otherAttrs.0')\n            getTag(tag)\n            var(tBt,0)\n            set(tBt,bt)\n            var(t,0)\n            set(t,tag)\n            while(tBt>=0){\n                if(tBt==0){\n                    mod(t,2)\n                    if(t==1){\n                        set('this.layers.0.hidden',0)\n                    }else{\n                        set('this.layers.0.hidden',1)\n                    }\n                }\n                divide(t,2)\n                minus(tBt,1)\n            }\n        "},t.ScriptTrigger={onInitialize:"",onTagChange:"\n            var(tTagValue,0)\n            getTag(tTagValue)\n            checkalarm(0)\n            set('this.oldValue',tTagValue)\n        "},t.Video={},t.Slide={onInitialize:"\n        ",onMouseUp:"\n        ",onMouseDown:"\n        ",onTagChange:"\n            var(len,0)\n            set(len,'this.layers.length')\n            while(len>0){\n                minus(len,1)\n                set('this.layers.len.hidden',1)\n            }\n            var(t,0)\n            getTag(t)\n            set('this.layers.t.hidden',0)\n\n        "},t.SlideBlock={onInitialize:"\n        ",onMouseUp:"\n        ",onMouseDown:"\n            var(tBx,0)\n            var(tBy,0)\n            var(tBw,0)\n            var(tBh,0)\n            var(tInnerX,0)\n            var(tInnerY,0)\n            var(tBrx,0)\n            var(tBry,0)\n            set(tBx,'this.layers.1.x')\n            set(tBy,'this.layers.1.y')\n            set(tBw,'this.layers.1.width')\n            set(tBh,'this.layers.1.height')\n            set(tBrx,tBx)\n            add(tBrx,tBw)\n            set(tBry,tBy)\n            add(tBry,tBh)\n            set(tInnerX,'this.innerX')\n            set(tInnerY,'this.innerY')\n            set('this.otherAttrs.4',0)\n            if (tInnerX>=tBx) {\n                if(tInnerX < tBrx){\n                    if (tInnerY>=tBy) {\n                        if (tInnerY<tBry) {\n                            set('this.otherAttrs.4',1)\n                            set('this.otherAttrs.0',tInnerX)\n                            set('this.otherAttrs.1',tInnerY)\n                            set('this.otherAttrs.5',tBx)\n                            set('this.otherAttrs.6',tBy)\n                        }\n                    }\n                }\n            }\n        ",onMouseMove:"\n            var(tArrange,0)\n            set(tArrange,'this.arrange')\n            var(tInnerX,0)\n            var(tInnerY,0)\n            set(tInnerX,'this.innerX')\n            set(tInnerY,'this.innerY')\n            var(tHit,0)\n            set(tHit,'this.otherAttrs.4')\n            var(tDist,0)\n            var(tLastX,0)\n            var(tBx,0)\n            var(tMaxLength,0)\n            var(tBw,0)\n            var(tMinValue,0)\n            var(tMaxValue,0)\n            var(tValueDist,0)\n            var(tOriginX,0)\n            var(tOriginY,0)\n            if (tHit==1) {\n                set(tOriginX,'this.otherAttrs.5')\n                set(tOriginY,'this.otherAttrs.6')\n                \n                if (tArrange==0) {\n                    set(tLastX,'this.otherAttrs.0')\n                    \n                    set(tDist,tInnerX)\n                    minus(tDist,tLastX)\n                    set(tBx,tOriginX)\n                    add(tBx,tDist)\n                    set(tBw,'this.layers.1.width')\n                    set(tMaxLength,'this.info.width')\n                    minus(tMaxLength,tBw)\n                    \n                }else{\n                    set(tLastX,'this.otherAttrs.1')\n                    \n                    set(tDist,tInnerY)\n                    minus(tDist,tLastX)\n                    set(tBx,tOriginY)\n                    add(tBx,tDist)\n                    set(tBw,'this.layers.1.height')\n                    set(tMaxLength,'this.info.height')\n                    minus(tMaxLength,tBw)\n                }\n\n                if (tBx<0) {\n                    set(tBx,0)\n                }\n                if (tBx>tMaxLength) {\n                    set(tBx,tMaxLength)\n                }\n                set(tMinValue,'this.minValue')\n                set(tMaxValue,'this.maxValue')\n                set(tValueDist,tMaxValue)\n                minus(tValueDist,tMinValue)\n                multiply(tBx,tValueDist)\n                divide(tBx,tMaxLength)\n                add(tBx,tMinValue)\n                setTag(tBx)\n\n            }\n        ",onTagChange:"\n            var(tMinValue,0)\n            var(tMaxValue,0)\n            var(tValueDist,0)\n            var(tTagValue,0)\n            getTag(tTagValue)\n            var(tCurValue,0)\n            var(tMaxLength,0)\n            var(tBw,0)\n            set(tCurValue,tTagValue)\n            set(tMinValue,'this.minValue')\n            set(tMaxValue,'this.maxValue')\n            if (tCurValue>tMaxValue) {\n                set(tCurValue,tMaxValue)\n            }\n            if (tCurValue<tMinValue) {\n                set(tCurValue,tMinValue)\n            }\n            var(tArrange,0)\n            set(tArrange,'this.arrange')\n            if (tArrange==0) {\n                set(tMaxLength,'this.info.width')\n                set(tBw,'this.layers.1.width')\n            }else{\n                set(tMaxLength,'this.info.height')\n                set(tBw,'this.layers.1.height')\n            }\n            \n            minus(tMaxLength,tBw)\n            var(tValueDist,0)\n            var(tValueRatio,0)\n            set(tValueDist,tMaxValue)\n            minus(tValueDist,tMinValue)\n            set(tValueRatio,tCurValue)\n            minus(tValueRatio,tMinValue)\n            multiply(tValueRatio,tMaxLength)\n            divide(tValueRatio,tValueDist)\n            if (tArrange==0) {\n                set('this.layers.1.x',tValueRatio)\n            }else{\n                set('this.layers.1.y',tValueRatio)\n            }\n            checkalarm(0)\n            set('this.oldValue',tCurValue)\n\n\n        "},t.Num={onInitialize:"\n            // var(tInitValue,0)\n            // var(tLen,0)\n            // var(tIndex,0)\n            // var(tDecimalCount,0)\n            // var(tDecimalIndex,0)\n            // //init value\n            // add(tInitValue,48)\n            // set(tLen,'this.layers.length')\n            // set(tDecimalCount,'this.otherAttrs.3')\n            // set(tDecimalIndex,tLen)\n            // if(tDecimalCount>0){\n            //     minus(tDecimalIndex,1)\n            //     minus(tDecimalIndex,tDecimalCount)\n            // }\n            // // print(tDecimalIndex,'tDecimalIndex')\n            // // print(tLen,'tLen')\n            // while(tIndex<tLen){\n            //     // print(tIndex,'tIndex') \n            //     if(tDecimalIndex==tIndex){\n            //         set('this.layers.tIndex.subLayers.font.text',46)\n            //     }else{\n            //         // print(tIndex,'tIndex')\n            //         set('this.layers.tIndex.subLayers.font.text',tInitValue)\n            //     }\n            //     add(tIndex,1)\n            // }\n        ",onMouseUp:"\n        ",onMouseDown:"\n        ",onTagChange:"\n            //清空所有数字内容\n            var(tIndex,0)   //用于循环\n            var(tLaysLen,0)     //图层长度\n            set(tLaysLen,'this.layers.length')\n            set(tIndex,0)\n            while(tIndex<tLaysLen){\n                set('this.layers.tIndex.subLayers.font.text',0)\n                add(tIndex,1)\n            }\n            \n            // draw num\n            \n            //初始化变量\n            var(tCurVal,0)        //当前值\n            var(tMaxVal,0)        //最大值\n            var(tMinVal,0)        //最小值\n            var(hasFrontZero,0)   //是否有前导零\n            var(hasSymbol,0)      //是否有符号\n            var(decimalCnt,0)     //小数位数\n            var(numOfDigits,0)    //字符数\n            var(overflow,0)       //溢出模式，0不显示，1显示\n            var(fontWidth,0)      //字符图层宽度\n            var(align,0)          //对齐方式，0左，1中，2右\n            var(widgetWidth,0)    //控件宽度\n            \n            var(initPosX,0)       //绘制起始坐标\n            var(symbolCnt,0)      //要绘制的符号的个数\n            var(decimalIndex,0)   //小数点的标识坐标，即在第几个图层位置绘制小数点\n            var(decimalCnt,0)     //要绘制的小数点的个数\n            var(decimalZeroCnt,0) //要补齐的小数点后的0的个数\n            var(frontZeroCnt,0)   //要绘制的前导零的个数\n            var(curValCnt,0)      //要绘制的当前值数字的个数\n            var(allFontCnt,0)     //要绘制的总字符的个数\n            var(tempVal,0)        //临时变量\n            var(needDraw,0)       //是否需要绘制，在溢出不显示的情况下，不需要绘制。0不需要，1需要\n            var(isOverflow,0)     //是否溢出\n            \n            getTag(tCurVal)\n            set(tMaxVal,'this.maxValue')\n            set(tMinVal,'this.minValue')\n            set(hasFrontZero,'this.otherAttrs.1')\n            set(hasSymbol,'this.otherAttrs.2')\n            set(decimalCnt,'this.otherAttrs.3')\n            set(numOfDigits,'this.otherAttrs.4')\n            set(overflow,'this.otherAttrs.5')\n            set(fontWidth,'this.otherAttrs.6')\n            set(align,'this.otherAttrs.7')\n            set(widgetWidth,'this.otherAttrs.8')      \n            \n            set(needDraw,1)\n            // print(needDraw,'needDrawInit')      \n            \n            //处理要显示的值\n            if(tCurVal>tMaxVal){\n                //溢出最大值\n                set(tCurVal,tMaxVal)\n                set(isOverflow,1)\n            }else{\n                //溢出最小值\n                if(tCurVal<tMinVal){\n                    set(tCurVal,tMinVal)\n                    set(isOverflow,1)\n                }\n            }\n            \n            if(isOverflow==1){\n                //溢出\n                if(overflow==0){\n                    //溢出不显示\n                    set(needDraw,0)\n                }\n            }\n            \n            //判断是否需要绘制\n            if(needDraw==1){\n                //符号\n                if(hasSymbol==1){\n                    if(tCurVal<0){\n                        set(symbolCnt,1)\n                    }\n                }\n                \n                //当前值数字个数\n                //--while 没有>=，故tCurVal为0时，curValCnt为1\n                if(tCurVal<0){\n                   set(tempVal,0)\n                   minus(tempVal,tCurVal)\n                   set(tCurVal,tempVal) \n                }\n                set(tempVal,tCurVal)\n                while(tempVal>0){\n                    add(curValCnt,1)\n                    divide(tempVal,10)\n                }\n                if(curValCnt==0){\n                    set(curValCnt,1) \n                }\n                \n                //前导零\n                if(hasFrontZero==1){\n                    set(tempVal,numOfDigits)\n                    minus(tempVal,curValCnt)\n                    set(frontZeroCnt,tempVal)\n                }\n                \n                //总字符数\n                add(allFontCnt,symbolCnt)\n                add(allFontCnt,frontZeroCnt)\n                add(allFontCnt,curValCnt)\n                \n                //小数  add\n                set(decimalIndex,-1)\n                // print(decimalCnt,'decimalCnt')\n                if(decimalCnt>0){\n                    add(allFontCnt,1)\n                    if(decimalCnt<curValCnt){\n                        //小数位数小于于字符位数\n                        set(decimalIndex,0)\n                    }else{\n                        //小数位数大于等于字符位数，在非前导零模式下需要补零\n                        set(decimalIndex,0)\n                        if(hasFrontZero==0){\n                            set(decimalZeroCnt,decimalCnt)\n                            minus(decimalZeroCnt,curValCnt)\n                            add(decimalZeroCnt,1)\n                            add(allFontCnt,decimalZeroCnt)\n                        }else{\n                            set(decimalIndex,0)\n                        }\n                    }\n                    //计算小数点坐标\n                    set(decimalIndex,allFontCnt)\n                    minus(decimalIndex,decimalCnt)\n                    minus(decimalIndex,1)\n                }else{\n                    set(decimalIndex,-1)\n                }\n                // print(allFontCnt,'allFontCnt')\n                // print(decimalIndex,'decimalIndex')\n                \n                //计算起始坐标\n                set(tempVal,allFontCnt)\n                var(tempValW,0)     //总字符所占宽度\n                var(fontWidthHalf,0) //半个字符所占宽度\n                set(fontWidthHalf,fontWidth)\n                divide(fontWidthHalf,2)\n                while(tempVal>0){\n                    add(tempValW,fontWidth)\n                    minus(tempVal,1)\n                }\n                if(decimalCnt>0){\n                    minus(tempValW,fontWidthHalf)\n                }                \n                if(align==0){\n                    //左对齐\n                    set(initPosX,0)\n                }else{\n                    if(align==2){\n                        //右对齐\n                        set(initPosX,widgetWidth)\n                        minus(initPosX,tempValW)\n                    }else{\n                        //居中对齐\n                        set(initPosX,widgetWidth)\n                        minus(initPosX,tempValW)\n                        divide(initPosX,2)\n                    }\n                }\n                \n                //开始绘制\n                var(tempValText,0)  //保存要绘制的数字\n                var(tempValMid1,0)  //保存临时中间结果\n                var(tempValMid2,0)  //保存临时中间结果\n                set(tempVal,0)\n                while(tempVal<allFontCnt){\n                    set('this.layers.tempVal.x',initPosX)\n                    set('this.layers.tempVal.width',fontWidth)\n                    if(symbolCnt==1){\n                        //绘制\n                        // print(symbolCnt,'symbolCnt')\n                        set(tempValText,0)\n                        add(tempValText,45)\n                        set('this.layers.tempVal.subLayers.font.text',tempValText)\n                        set(symbolCnt,0)\n                        add(initPosX,fontWidth)\n                    }else{\n                        if(decimalIndex==tempVal){\n                            //绘制小数点\n                            set('this.layers.tempVal.width',fontWidthHalf)\n                            set(tempValMid1,46)\n                            set('this.layers.tempVal.subLayers.font.text',46)\n                            add(initPosX,fontWidthHalf)\n                        }else{\n                            if(frontZeroCnt>0){\n                                //绘制前导零\n                                set(tempValText,0)\n                                add(tempValText,48)\n                                set('this.layers.tempVal.subLayers.font.text',tempValText)\n                                minus(frontZeroCnt,1)\n                                add(initPosX,fontWidth)\n                            }else{\n                                if(decimalZeroCnt>0){\n                                    set(tempValText,0)\n                                    add(tempValText,48)\n                                    set('this.layers.tempVal.subLayers.font.text',tempValText)\n                                    add(initPosX,fontWidth)\n                                    minus(decimalZeroCnt,1)\n                                }else{\n                                    //绘制数字值\n                                    set(tempValMid1,curValCnt)\n                                    set(tempValMid2,1)\n                                    while(tempValMid1>1){\n                                        multiply(tempValMid2,10)\n                                        minus(tempValMid1,1)\n                                    }\n                                    set(tempValText,tCurVal)\n                                    divide(tempValText,tempValMid2)\n                                    mod(tempValText,10)\n                                    add(tempValText,48)\n                                    set('this.layers.tempVal.subLayers.font.text',tempValText)\n                                    minus(curValCnt,1)\n                                    add(initPosX,fontWidth)\n                                }\n                            }\n                        }\n                    }\n                    add(tempVal,1)\n                }\n                checkalarm(0)\n            }           \n        "},t.TexNum={
onInitialize:"\n            //隐藏所有图层\n            var(offset,0)\n            var(len,0)\n            set(len,'this.layers.length')\n            while(offset<len){\n                set('this.layers.offset.hidden',1)\n                add(offset,1)\n            }\n\n            // draw num\n            //初始化变量\n\n            var(tCurVal,0)                       //当前值\n            set(hasFrontZero,'this.otherAttrs.0')\n\n            var(tMaxVal,0)                       //最大值\n            set(tMaxVal,'this.maxValue')\n            \n            var(tMinVal,0)                       //最小值\n            set(tMinVal,'this.minValue')\n\n            var(hasFrontZero,0)                  //是否有前导零\n            set(hasFrontZero,'this.otherAttrs.1')\n\n            var(hasSymbol,0)                     //是否有符号\n            set(hasSymbol,'this.otherAttrs.2')\n\n            var(decimalCnt,0)                    //小数位数\n            set(decimalCnt,'this.otherAttrs.3')\n\n            var(numOfDigits,0)                   //字符数\n            set(numOfDigits,'this.otherAttrs.4')\n\n            var(overflow,0)                      //溢出模式，0不显示，1显示\n            set(overflow,'this.otherAttrs.5')\n\n            var(fontWidth,0)                     //字符图层宽度\n            set(fontWidth,'this.otherAttrs.6')\n\n            var(align,0)                         //对齐方式，0左，1中，2右\n            set(align,'this.otherAttrs.9')\n\n            var(widgetWidth,0)                   //控件宽度\n            set(widgetWidth,'this.otherAttrs.8')\n\n            var(symbolCnt,0)                     //要绘制的符号的个数\n            set(symbolCnt,0)\n\n            var(curValCnt,0)                     //要绘制的当前值数字的个数\n\n            var(allFontCnt,0)                    //要绘制的总字符的个数\n\n            var(initPosX,0)                      //绘制起始坐标\n\n            var(decimalIndex,0)                  //小数点的标识坐标，即在第几个图层位置绘制小数点\n\n            var(decimalZeroCnt,0)                //要补齐的小数点后的0的个数\n\n            var(frontZeroCnt,0)                  //要绘制的前导零的个数\n\n            var(needDraw,0)                      //是否需要绘制，在溢出不显示的情况下，不需要绘制。0不需要，1需要\n            set(needDraw,1)\n\n            var(isOverflow,0)                    //数字值是否溢出\n\n            var(tempValW,0)                      //总字符所占宽度\n\n            var(fontWidthHalf,0)                 //半个字符所占宽度\n\n            var(tempVal,0)                       //临时变量\n            \n            var(layersCount,0)                   //layer数\n            \n            var(index,0)                         //layer index\n            \n            var(curl,0)                          //当前字符\n            \n            var(i,0)                             //循环变量\n            \n      \n            \n\n            //溢出处理\n            if(tCurVal>tMaxVal){\n                //溢出最大值\n                set(tCurVal,tMaxVal)\n                set(isOverflow,1)\n            }else{\n                //溢出最小值\n                if(tCurVal<tMinVal){\n                    set(tCurVal,tMinVal)\n                    set(isOverflow,1)\n                }\n            }\n            if(isOverflow==1){\n                //溢出\n                if(overflow==0){\n                    //溢出不显示\n                    set(needDraw,0)\n                }\n            }\n\n            //判断是否需要绘制\n            if(needDraw==1){\n                //符号&取绝对值\n                if(tCurVal<0){\n                    if(hasSymbol==1){\n                        set(symbolCnt,1)\n                    }\n                    multiply(tCurVal,-1)//取绝对值\n                }\n\n                //当前值位数\n                set(tempVal,tCurVal)\n                while(tempVal>0){\n                    add(curValCnt,1)\n                    divide(tempVal,10)\n                }\n                if(curValCnt==0){\n                    set(curValCnt,1) \n                }\n\n                //前导零\n                if(hasFrontZero==1){\n                    set(tempVal,numOfDigits)\n                    minus(tempVal,curValCnt)\n                    set(frontZeroCnt,tempVal)\n                }\n\n                //总字符数=前导0/自动补0+数字位\n                add(allFontCnt,symbolCnt)\n                add(allFontCnt,frontZeroCnt)\n                add(allFontCnt,curValCnt)\n\n                //小数点位置\n                if(decimalCnt>0){\n                    add(allFontCnt,1)\n                    if(decimalCnt>=curValCnt){\n                        //小数位数大于等于字符位数，在非前导零模式下需要补零\n                        if(hasFrontZero==0){\n                            set(decimalZeroCnt,decimalCnt)//decimalZeroCnt：要补齐的小数点后的0的个数=小数位数-数字位数\n                            minus(decimalZeroCnt,curValCnt)\n                            add(decimalZeroCnt,1)//小数点前面的0\n                            add(allFontCnt,decimalZeroCnt)\n                        }\n                    }\n                }\n                //计算字符所占总宽度\n                set(tempVal,allFontCnt)\n                multiply(tempVal,fontWidth)\n                set(tempValW,tempVal)//tempValW:总字符所占宽度\n                set(fontWidthHalf,fontWidth)//fontWidthHalf:半个字符所占宽度\n                divide(fontWidthHalf,2)\n                if(decimalCnt>0){\n                    minus(tempValW,fontWidthHalf)\n                }\n\n                //计算起始坐标\n                if(widgetWidth>tempValW){\n                    if(align==0){\n                        //左对齐\n                        set(initPosX,0)\n                    }else{\n                        if(align==2){\n                            //右对齐\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                        }else{\n                            //居中对齐\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                            divide(initPosX,2)\n                        }\n                    }\n                }else{\n                    set(initPosX,0)\n                }                \n                \n                //layer数\n                set(layersCount,allFontCnt)\n\n                //绘制符号\n                if(symbolCnt==1){\n                    //有负号\n                    set('this.layers.0.subLayers.image.texture',11)\n                    set('this.layers.0.x',initPosX)\n                    set('this.layers.0.hidden',0)\n                    minus(layersCount,1)\n                }\n                \n                \n                //设置每一个字符的初始位置\n                set(xCoordinate,initPosX)\n                add(xCoordinate,tempValW)\n\n                \n                //绘制逻辑              \n                while(i<layersCount){\n                    if(i==decimalCnt){\n                        if(decimalCnt==0){\n                        }else{\n                           //畫小數點\n                            \n                           //xCoordinate-=fontWidth/2;\n                           set(tempVal,fontWidth)\n                           divide(tempVal,2)\n                           minus(xCoordinate,tempVal)\n                            \n                           //draw(index,xCoordinate)\n                           set('this.layers.1.hidden',0)\n                           set('this.layers.1.x',xCoordinate)\n                           set('this.layers.1.subLayers.image.texture',10)\n                           \n                           minus(layersCount,1)\n                        }\n                        set(decimalCnt,-1)\n                        minus(i,1)\n                    }else{\n                        //畫數字\n                        if(i<curValCnt){\n                            //畫real數字\n                            //curl=tCurVal-tCurVal/10*10\n                            set(tempVal,tCurVal)\n                            divide(tempVal,10)\n                            multiply(tempVal,10)\n                            set(curl,tCurVal)\n                            minus(curl,tempVal)\n                            \n                            //tCurVal=tCurVal/10\n                            divide(tCurVal,10)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //xCoordinate-=fontWidth\n                            minus(xCoordinate,fontWidth)\n                            \n                            //draw(index,xCoordinate)\n                            set('this.layers.index.hidden',0)\n                            set('this.layers.index.x',xCoordinate)\n                            set('this.layers.index.subLayers.image.texture',curl)\n                        }else{\n                            //畫零\n                            //xCoordinate-=fontWidth;\n                            minus(xCoordinate,fontWidth)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //draw(index,xCoordinate)\n                            set('this.layers.index.hidden',0)\n                            set('this.layers.index.x',xCoordinate)\n                            set('this.layers.index.subLayers.image.texture',0)\n                        }\n                    }\n                    //i++\n                    add(i,1)\n                }\n            }\n        ",onMouseUp:"\n        ",onMouseDown:"\n        ",onTagChange:"\n            //隐藏所有图层\n            var(offset,0)\n            var(len,0)\n            set(len,'this.layers.length')\n            while(offset<len){\n                set('this.layers.offset.hidden',1)\n                add(offset,1)\n            }\n\n            // draw num\n            //初始化变量\n\n            var(tCurVal,0)                       //当前值\n            getTag(tCurVal)\n\n            var(tMaxVal,0)                       //最大值\n            set(tMaxVal,'this.maxValue')\n            \n            var(tMinVal,0)                       //最小值\n            set(tMinVal,'this.minValue')\n\n            var(hasFrontZero,0)                  //是否有前导零\n            set(hasFrontZero,'this.otherAttrs.1')\n\n            var(hasSymbol,0)                     //是否有符号\n            set(hasSymbol,'this.otherAttrs.2')\n\n            var(decimalCnt,0)                    //小数位数\n            set(decimalCnt,'this.otherAttrs.3')\n\n            var(numOfDigits,0)                   //字符数\n            set(numOfDigits,'this.otherAttrs.4')\n\n            var(overflow,0)                      //溢出模式，0不显示，1显示\n            set(overflow,'this.otherAttrs.5')\n\n            var(fontWidth,0)                     //字符图层宽度\n            set(fontWidth,'this.otherAttrs.6')\n\n            var(align,0)                         //对齐方式，0左，1中，2右\n            set(align,'this.otherAttrs.9')\n\n            var(widgetWidth,0)                   //控件宽度\n            set(widgetWidth,'this.otherAttrs.8')\n\n            var(symbolCnt,0)                     //要绘制的符号的个数\n            set(symbolCnt,0)\n\n            var(curValCnt,0)                     //要绘制的当前值数字的个数\n\n            var(allFontCnt,0)                    //要绘制的总字符的个数\n\n            var(initPosX,0)                      //绘制起始坐标\n\n            var(decimalIndex,0)                  //小数点的标识坐标，即在第几个图层位置绘制小数点\n\n            var(decimalZeroCnt,0)                //要补齐的小数点后的0的个数\n\n            var(frontZeroCnt,0)                  //要绘制的前导零的个数\n\n            var(needDraw,0)                      //是否需要绘制，在溢出不显示的情况下，不需要绘制。0不需要，1需要\n            set(needDraw,1)\n\n            var(isOverflow,0)                    //数字值是否溢出\n\n            var(tempValW,0)                      //总字符所占宽度\n\n            var(fontWidthHalf,0)                 //半个字符所占宽度\n\n            var(tempVal,0)                       //临时变量\n            \n            var(layersCount,0)                   //layer数\n            \n            var(index,0)                         //layer index\n            \n            var(curl,0)                          //当前字符\n            \n            var(i,0)                             //循环变量\n            \n      \n            \n\n            //溢出处理\n            if(tCurVal>tMaxVal){\n                //溢出最大值\n                print('溢出最大值',tMaxVal)\n                set(tCurVal,tMaxVal)\n                set(isOverflow,1)\n            }else{\n                //溢出最小值\n                if(tCurVal<tMinVal){\n                    print('溢出最小值',tMinVal)\n                    set(tCurVal,tMinVal)\n                    set(isOverflow,1)\n                }\n            }\n            if(isOverflow==1){\n                //溢出\n                if(overflow==0){\n                    //溢出不显示\n                    set(needDraw,0)\n                }\n            }\n\n            //判断是否需要绘制\n            if(needDraw==1){\n                //符号&取绝对值\n                if(tCurVal<0){\n                    if(hasSymbol==1){\n                        set(symbolCnt,1)\n                    }\n                    multiply(tCurVal,-1)//取绝对值\n                }\n\n                //当前值位数\n                set(tempVal,tCurVal)\n                while(tempVal>0){\n                    add(curValCnt,1)\n                    divide(tempVal,10)\n                }\n                if(curValCnt==0){\n                    set(curValCnt,1) \n                }\n\n                //前导零\n                if(hasFrontZero==1){\n                    set(tempVal,numOfDigits)\n                    minus(tempVal,curValCnt)\n                    set(frontZeroCnt,tempVal)\n                }\n\n                //总字符数=前导0/自动补0+数字位\n                add(allFontCnt,symbolCnt)\n                add(allFontCnt,frontZeroCnt)\n                add(allFontCnt,curValCnt)\n\n                //小数点位置\n                if(decimalCnt>0){\n                    add(allFontCnt,1)\n                    if(decimalCnt>=curValCnt){\n                        //小数位数大于等于字符位数，在非前导零模式下需要补零\n                        if(hasFrontZero==0){\n                            set(decimalZeroCnt,decimalCnt)//decimalZeroCnt：要补齐的小数点后的0的个数=小数位数-数字位数\n                            minus(decimalZeroCnt,curValCnt)\n                            add(decimalZeroCnt,1)//小数点前面的0\n                            add(allFontCnt,decimalZeroCnt)\n                        }\n                    }\n                }\n                //计算字符所占总宽度\n                set(tempVal,allFontCnt)\n                multiply(tempVal,fontWidth)\n                set(tempValW,tempVal)//tempValW:总字符所占宽度\n                set(fontWidthHalf,fontWidth)//fontWidthHalf:半个字符所占宽度\n                divide(fontWidthHalf,2)\n                if(decimalCnt>0){\n                    minus(tempValW,fontWidthHalf)\n                }\n\n                //计算起始坐标\n                if(widgetWidth>tempValW){\n                    if(align==0){\n                        //左对齐\n                        set(initPosX,0)\n                    }else{\n                        if(align==2){\n                            //右对齐\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                        }else{\n                            //居中对齐\n                            set(initPosX,widgetWidth)\n                            minus(initPosX,tempValW)\n                            divide(initPosX,2)\n                        }\n                    }\n                }else{\n                    set(initPosX,0)\n                }                \n                \n                //layer数\n                set(layersCount,allFontCnt)\n\n                //绘制符号\n                if(symbolCnt==1){\n                    //有负号\n                    set('this.layers.0.subLayers.image.texture',12)\n                    set('this.layers.0.x',initPosX)\n                    set('this.layers.0.hidden',0)\n                    minus(layersCount,1)\n                    minus(allFontCnt,1)\n                }\n                \n                \n                //设置每一个字符的初始位置\n                set(xCoordinate,initPosX)\n                add(xCoordinate,tempValW)\n\n                \n                //绘制逻辑              \n                while(i<layersCount){\n                    if(i==decimalCnt){\n                        if(decimalCnt==0){\n                        }else{\n                           //畫小數點\n                            \n                           //xCoordinate-=fontWidth/2;\n                           set(tempVal,fontWidth)\n                           divide(tempVal,2)\n                           minus(xCoordinate,tempVal)\n                            \n                           //draw(index,xCoordinate)\n                           set('this.layers.1.hidden',0)\n                           set('this.layers.1.x',xCoordinate)\n                           set('this.layers.1.subLayers.image.texture',10)\n                           \n                           minus(layersCount,1)\n                        }\n                        set(decimalCnt,-1)\n                        minus(i,1)\n                    }else{\n                        //畫數字\n                        if(i<curValCnt){\n                            //畫real數字\n                            //curl=tCurVal-tCurVal/10*10\n                            set(tempVal,tCurVal)\n                            divide(tempVal,10)\n                            multiply(tempVal,10)\n                            set(curl,tCurVal)\n                            minus(curl,tempVal)\n                            \n                            //tCurVal=tCurVal/10\n                            divide(tCurVal,10)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //xCoordinate-=fontWidth\n                            minus(xCoordinate,fontWidth)\n                            \n                            //draw(index,xCoordinate)\n                            set('this.layers.index.hidden',0)\n                            set('this.layers.index.x',xCoordinate)\n                            set('this.layers.index.subLayers.image.texture',curl)\n                        }else{\n                            //畫零\n                            //xCoordinate-=fontWidth;\n                            minus(xCoordinate,fontWidth)\n                            \n                            //index=allFontCnt-i\n                            set(index,allFontCnt)\n                            minus(index,i)\n                            \n                            //draw(index,xCoordinate)\n                            set('this.layers.index.hidden',0)\n                            set('this.layers.index.x',xCoordinate)\n                            set('this.layers.index.subLayers.image.texture',0)\n                        }\n                    }\n                    //i++\n                    add(i,1)\n                }\n            }\n        "},t.Selector={onInitialize:"\n            var(offset,0)\n            set(offset,2)\n            var(len,0)\n            set(len,'this.layers.length')\n            var(tMaxHighLightNum,0)\n            set(tMaxHighLightNum,'this.maxHighLightNum')\n            if(tMaxHighLightNum>0){\n                minus(len,1)\n            }\n            while(offset<len){\n                set('this.layers.offset.hidden',0)\n                add(offset,1)\n            }\n        ",onMouseUp:"\n        ",onMouseDown:"\n        ",onTagChange:"\n            var(curItem,0)                            //curValue当前元素 = tag值\n            getTag(curItem)\n                       \n            var(itemCount,0)                          //元素总个数\n            set(itemCount,'this.otherAttrs.2')\n            \n            var(itemShowCount,0)                      //待选元素展示个数（单边）\n            set(itemShowCount,'this.otherAttrs.3')\n           \n            var(w,0)                                  //控件宽度 = 选中元素宽度\n            set(w,'this.otherAttrs.4')\n            \n            var(h,0)                                  //控件高度\n            set(h,'this.otherAttrs.5')\n            \n            var(itemWidth,0)                          //待选元素宽度\n            set(itemWidth,'this.otherAttrs.6')\n            \n            var(itemHeight,0)                         //待选元素高度\n            set(itemHeight,'this.otherAttrs.7')\n            \n            var(selectorHeight,0)                     //选中元素高度\n            set(selectorHeight,'this.otherAttrs.9')\n            \n            var(temp1,0)                              //临时变量\n            var(temp2,0)\n           \n            //curItem取模\n            mod(curItem,itemCount)\n            //负数处理\n            if(curItem<0){\n                add(curItem,itemCount)\n            }\n            set('this.otherAttrs.1',curItem)\n           \n           \n            //标题层背景层不用动\n            \n            \n            //前景层\n            //前景层位置\n            //var startH=h/2-selectorHeight/2\n            var(startH,0)\n            set(temp1,h)\n            divide(temp1,2)\n            set(temp2,selectorHeight)\n            divide(temp2,2)\n            minus(temp1,temp2)\n            set(startH,temp1)\n         \n            //var temp2=startH-curValue*selectorHeight\n            set(temp1,curItem)\n            multiply(temp1,selectorHeight)\n            set(temp2,startH)\n            minus(temp2,temp1)\n            \n            //Layer(0,temp2,selectorWidth,selectorHeight*itemCount,true)\n            set('this.layers.3.y',temp2)\n            \n            //前景层roi\n            //temp1=curValue*selectorHeight;\n            set(temp1,curItem)\n            multiply(temp1,selectorHeight)\n            set(temp2,temp1)\n            add(temp2,selectorHeight)\n            \n            //ROISubLayer(0,0,temp1,w,temp1,w,temp1+selectorHeight,0,temp1+selectorHeight);\n            set('this.layers.3.subLayers.roi.p1y',temp1)\n            set('this.layers.3.subLayers.roi.p2y',temp1)\n            set('this.layers.3.subLayers.roi.p3y',temp2)\n            set('this.layers.3.subLayers.roi.p4y',temp2)\n            \n            \n            //后景层(上)\n            //后景层(上)位置\n            //temp1=-(curValue-itemShowCount)*itemHeight;\n            set(temp1,curItem)\n            minus(temp1,itemShowCount)\n            multiply(temp1,itemHeight)\n            multiply(temp1,-1)\n            \n            //Layer(selectorWidth/2-itemWidth/2,temp1,itemWidth,itemHeight*itemCount,true);\n            set('this.layers.1.y',temp1)\n            \n            //后景层(上)roi\n            //-tempH\n            multiply(temp1,-1)\n            //-tempH+itemShowCount*itemHeight\n            set(temp2,itemShowCount)\n            multiply(temp2,itemHeight)\n            add(temp2,temp1)\n            \n            //ROISubLayer(0,0,-tempH,itemWidth,-tempH,itemWidth,-tempH+itemShowCount*itemHeight,0,-tempH+itemShowCount*itemHeight)\n            set('this.layers.1.subLayers.roi.p1y',temp1)\n            set('this.layers.1.subLayers.roi.p2y',temp1)\n            set('this.layers.1.subLayers.roi.p3y',temp2)\n            set('this.layers.1.subLayers.roi.p4y',temp2)\n            \n            \n            //后景层(下)\n            //后景层(下)位置\n            //tempH=h/2+selectorHeight/2-(curValue+1)*itemHeight;\n            set(temp1,curItem)\n            add(temp1,1)\n            multiply(temp1,itemHeight)\n            multiply(temp1,-1)\n            set(temp2,h)\n            divide(temp2,2)\n            add(temp1,temp2)\n            set(temp2,selectorHeight)\n            divide(temp2,2)\n            add(temp1,temp2)\n\n            //Layer(selectorWidth/2-itemWidth/2,tempH,itemWidth,itemHeight*itemCount,true);\n            set('this.layers.0.y',temp1)\n            \n            \n            //后景层(下)roi\n            //(curValue+1)*itemHeight\n            set(temp1,curItem)\n            add(temp1,1)\n            multiply(temp1,itemHeight)\n            //(curValue+1)*itemHeight+itemShowCount*itemHeight\n            set(temp2,itemShowCount)\n            multiply(temp2,itemHeight)\n            add(temp2,temp1)\n            \n            //ROISubLayer(0,0,(curValue+1)*itemHeight,itemWidth,(curValue+1)*itemHeight,itemWidth,(curValue+1)*itemHeight+itemShowCount*itemHeight,0,(curValue+1)*itemHeight+itemShowCount*itemHeight);\n            set('this.layers.0.subLayers.roi.p1y',temp1)\n            set('this.layers.0.subLayers.roi.p2y',temp1)\n            set('this.layers.0.subLayers.roi.p3y',temp2)\n            set('this.layers.0.subLayers.roi.p4y',temp2)\n            \n        ",onKeyBoardLeft:"\n            var(tMaxHighLightNum,0)                          //控件内高亮块数\n            set(tMaxHighLightNum,'this.maxHighLightNum')\n            var(okFlag,0)                                    //高亮是否已选中\n            set(okFlag,'this.otherAttrs.10')\n            var(len,0)                                       //图层总数\n            set(len,'this.layers.length')\n            minus(len,1)\n            //判断是否启用高亮\n            if (tMaxHighLightNum>0) {\n                if(okFlag==0){//控件间高亮选择\n                    var(tHighLightNum,0)\n                    set(tHighLightNum,'this.highLightNum')\n                    if (tHighLightNum==1) {\n                        //hashighlight\n                        set('this.layers.len.hidden',0)\n                    }else{\n                        set('this.layers.len.hidden',1)\n                    }\n                }else{//高亮已选择，左移tag值减1\n                    var(curItem,0)\n                    set(curItem,'this.otherAttrs.1')\n                    minus(curItem,1)\n                    //curItem取模\n                    mod(curItem,itemCount)\n                    if(curItem<0){\n                        add(curItem,itemCount)\n                    }\n                    set('this.otherAttrs.1',curItem)\n                    setTag(curItem)\n                }\n            }\n          \n        ",onKeyBoardRight:"\n            var(tMaxHighLightNum,0)                          //控件内高亮块数\n            set(tMaxHighLightNum,'this.maxHighLightNum')\n            var(okFlag,0)                                    //高亮是否已选中\n            set(okFlag,'this.otherAttrs.10')\n            var(len,0)                                       //图层总数\n            set(len,'this.layers.length')\n            minus(len,1)\n            //判断是否启用高亮\n            if (tMaxHighLightNum>0) {\n                if(okFlag==0){//控件间高亮选择\n                    var(tHighLightNum,0)\n                    set(tHighLightNum,'this.highLightNum')\n                    if (tHighLightNum==1) {\n                        //hashighlight\n                        set('this.layers.len.hidden',0)\n                    }else{\n                        set('this.layers.len.hidden',1)\n                    }\n                }else{//高亮已选择，右移tag值加1\n                    var(curItem,0)\n                    set(curItem,'this.otherAttrs.1')\n                    add(curItem,1)\n                    //curItem取模\n                    mod(curItem,itemCount)\n                    if(curItem<0){\n                        add(curItem,itemCount)\n                    }\n                    set('this.otherAttrs.1',curItem)\n                    setTag(curItem)\n                }\n            }\n        ",onKeyBoardOK:"\n            var(okFlag,0)                                    //高亮是否已选中\n            set(okFlag,'this.otherAttrs.10')\n            if(okFlag==0){\n                setglobalvar(0,1)\n                set('this.otherAttrs.10',1)\n                set('this.layers.0.hidden',0)\n                set('this.layers.1.hidden',0)\n                \n            }else{\n                setglobalvar(0,0)\n                set('this.otherAttrs.10',0)\n                set('this.layers.0.hidden',1)\n                set('this.layers.1.hidden',1)\n            }\n        "},t.RotaryKnob={onInitialize:"\n            var(offset,0)\n            set(offset,0)\n            var(len,0)\n            set(len,'this.layers.length')\n            var(tMaxHighLightNum,0)\n            set(tMaxHighLightNum,'this.maxHighLightNum')\n            if(tMaxHighLightNum>0){\n                minus(len,1)                                       //高亮层初始化时不显示\n            }\n            while(offset<len){\n                set('this.layers.offset.hidden',0)\n                add(offset,1)\n            }\n        ",onMouseUp:"\n        ",
onMouseDown:"\n            var(curValue,0)                                        //tag值\n            getTag(curValue)\n            \n            var(tMinValue,0)                                       //最小值\n            set(tMinValue,'this.minValue')\n            \n            var(tMaxValue,0)                                       //最大值\n            set(tMaxValue,'this.maxValue')\n            \n            if(curValue>= tMinValue){\n                if(tMaxValue>= curValue){\n                    var(tStartX,0)                                  //控件左上角坐标x\n                    set(tStartX,'this.layers.1.x')   \n                             \n                    var(tStartY,0)                                  //控件左上角坐标y\n                    set(tStartY,'this.layers.1.y')            \n                    \n                    var(tWidth,0)                                   //控件宽度\n                    set(tWidth,'this.layers.1.width')            \n                    \n                    var(tHeight,0)                                  //控件高度\n                    set(tHeight,'this.layers.1.height')  \n                    \n                    var(tEndX,0)                                    //控件右下角坐标x\n                    set(tEndX,tStartX)\n                    add(tEndX,tWidth)           \n                    \n                    var(tEndY,0)                                    //控件右下角坐标y\n                    set(tEndY,tStartY)\n                    add(tEndY,tHeight)\n                    \n                    var(tInnerX,0)                                  //鼠标坐标x\n                    set(tInnerX,'this.innerX')\n                    \n                    var(tInnerY,0)                                  //鼠标坐标y\n                    set(tInnerY,'this.innerY')\n                    \n                    var(tRotateX,0)                                 //旋转中心坐标X\n                    set(tRotateX,'this.otherAttrs.2')\n                    \n                    var(tRotateY,0)                                 //旋转中心坐标Y\n                    set(tRotateY,'this.otherAttrs.3')\n                    \n                    var(tX,0)                                       //鼠标相对于旋转中心坐标X\n                    set(tX,tInnerX)\n                    minus(tX,tRotateX)\n                    \n                    var(tY,0)                                       //鼠标相对于旋转中心坐标Y\n                    set(tY,tRotateY)\n                    minus(tY,tInnerY)\n                    \n                    var(temp1,0)                                    //临时变量\n                    var(temp2,0)\n                    \n                                                                    //鼠标点与旋转中心距离的平方\n                    set(temp1,tX)\n                    multiply(temp1,tX)\n                    set(temp2,tY)\n                    multiply(temp2,tY)\n                    add(temp1,temp2)\n                    \n                                                                    //半径\n                    if(tWidth>tHeight){\n                        set(temp2,tWidth)      \n                    }else{\n                        set(temp2,tHeight)      \n                    }\n                    \n                                                                   //半径的一半的平方\n                    divide(temp2,4)\n                    multiply(temp2,temp2)\n        \n                    set('this.otherAttrs.4',0)                     //isHited = 0\n        \n                    if(temp1>=temp2){\n                        if (tInnerX>=tStartX) {\n                            if(tInnerX < tEndX){\n                                if (tInnerY>=tStartY) {\n                                    if (tInnerY<tEndY) {\n                                                                               //在有效区域内\n                                        set('this.otherAttrs.4',1)             //isHited = 1\n                                        set('this.otherAttrs.5',4)             //lastArea不等于1或者8\n                                        set('this.otherAttrs.6',0)             //over=0\n                                    }\n                                }\n                            }\n                        }\n                    } \n                }\n            }        \n        ",onMouseMove:"\n            var(tHit,0)                                 //isHited\n            set(tHit,'this.otherAttrs.4')\n        \n            if (tHit==1) {                              //isHited==1 此时鼠标被按下\n                var(tInnerX,0)                          //鼠标坐标x\n                set(tInnerX,'this.innerX')\n                \n                var(tInnerY,0)                          //鼠标坐标y\n                set(tInnerY,'this.innerY')\n\n                var(tLastArea,0)                        //鼠标上一个区域\n                set(tLastArea,'this.otherAttrs.5') \n                                \n                var(tOver,0)                            //鼠标上一个区域\n                set(tOver,'this.otherAttrs.6')      \n                \n                var(tRotateX,0)                         //旋转中心坐标X\n                set(tRotateX,'this.otherAttrs.2')\n                \n                var(tRotateY,0)                         //旋转中心坐标Y\n                set(tRotateY,'this.otherAttrs.3')\n                \n                var(tX,0)                               //鼠标相对于旋转中心坐标X\n                set(tX,tInnerX)\n                minus(tX,tRotateX)\n                \n                var(tY,0)                               //鼠标相对于旋转中心坐标Y\n                set(tY,tRotateY)\n                minus(tY,tInnerY)\n                \n                var(tBaseAngle,0)                       //区域基角\n                var(tTanSymbol,0)                       //tan角的是否取余:不是真正取余角，取45-tTanAngle\n                var(tTan,0)                             //tan值\n                var(tTanAngle,0)                        //tan角\n                            \n                var(tRotateAngle,0)                     //旋转角\n                \n                var(temp1,0)                            //临时变量\n                var(temp2,0)\n                \n                                                        //划分区域\n                if(tX>0){\n                    if(tY>0){\n                        if(tY>=tX){\n                            if(tOver==1){\n                                if(tLastArea==8){\n                                     set(tOver,0)       //未溢出合法\n                                }\n                            }else{\n                                if(tLastArea==8){\n                                     set(tOver,1)       //溢出不合法\n                                }\n                            }\n                            set(tLastArea,1)            //1\n                            set(tBaseAngle,0)           //基角=0        \n                            set(tTan,tX)                //tan值\n                            multiply(tTan,10)\n                            divide(tTan,tY)\n                            set(tTanSymbol,0)           //不取余\n                            \n                        }else{\n                            set(tLastArea,2)            //2\n                            set(tBaseAngle,45)          //基角=45\n                            set(tTan,tY)                //tan值\n                            multiply(tTan,10)\n                            divide(tTan,tX)\n                            set(tTanSymbol,1)           //取余\n                        }\n                    }else{         \n                        set(temp1,tY)                   //取绝对值\n                        multiply(temp1,-1)\n                        \n                        if(tX>=temp1){\n                            set(tLastArea,3)            //3\n                            set(tBaseAngle,90)          //基角=90\n                            set(tTan,temp1)             //tan值\n                            multiply(tTan,10)\n                            divide(tTan,tX)\n                            set(tTanSymbol,0)           //不取余\n                            \n                        }else{\n                            set(tLastArea,4)            //4\n                            set(tBaseAngle,135)         //基角=135\n                            set(tTan,tX)                //tan值\n                            multiply(tTan,10)\n                            divide(tTan,temp1)\n                            set(tTanSymbol,1)           //取余\n                        }\n                    }\n                }else{\n                    if(tY<0){\n                        set(temp1,tX)                   //取绝对值\n                        multiply(temp1,-1)\n                        set(temp2,tY)\n                        multiply(temp2,-1)\n                        \n                        if(temp2>=temp1){\n                            set(tLastArea,5)            //5\n                            set(tBaseAngle,180)         //基角=180\n                            set(tTan,temp1)             //tan值\n                            multiply(tTan,10)\n                            divide(tTan,temp2)\n                            set(tTanSymbol,0)           //不取余\n                            \n                        }else{\n                            set(tLastArea,6)            //6\n                            set(tBaseAngle,225)         //基角=225\n                            set(tTan,temp2)             //tan值\n                            multiply(tTan,10)\n                            divide(tTan,temp1)\n                            set(tTanSymbol,1)           //取余\n                        }\n                    }else{\n                        set(temp1,tX)                   //取绝对值\n                        multiply(temp1,-1)\n                        \n                        if(temp1>=tY){\n                            set(tLastArea,7)            //7\n                            set(tBaseAngle,270)         //基角=270\n                            set(tTan,tY)                //tan值\n                            multiply(tTan,10)\n                            divide(tTan,temp1)\n                            set(tTanSymbol,0)           //不取余\n                            \n                        }else{\n                            if(tOver==1){\n                                if(tLastArea==1){\n                                     set(tOver,0)       //未溢出合法\n                                }\n                            }else{\n                                if(tLastArea==1){\n                                     set(tOver,1)       //溢出不合法\n                                }\n                            }\n                            set(tLastArea,8)            //8\n                            set(tBaseAngle,315)         //基角=315\n                            set(tTan,temp1)             //tan值\n                            multiply(tTan,10)\n                            divide(tTan,tY)\n                            set(tTanSymbol,1)           //取余\n                        } \n                    }\n                }   \n                                                        //判断是否溢出\n                if(tOver==0){\n                                                        //tan值查表，计算tanAngle\n                    if(tTan==0){\n                        set(tTanAngle,0)\n                    }else{\n                        if(tTan==1){\n                            set(tTanAngle,6)  \n                        }else{\n                            if(tTan==2){\n                                set(tTanAngle,12)  \n                            }else{\n                                if(tTan==3){\n                                    set(tTanAngle,17)  \n                                }else{\n                                    if(tTan==4){\n                                        set(tTanAngle,22)  \n                                    }else{\n                                        if(tTan==5){\n                                            set(tTanAngle,27)  \n                                        }else{\n                                            if(tTan==6){\n                                                set(tTanAngle,31)  \n                                            }else{\n                                                if(tTan==7){\n                                                    set(tTanAngle,35)  \n                                                }else{\n                                                    if(tTan==8){\n                                                        set(tTanAngle,39)  \n                                                    }else{\n                                                        if(tTan==9){\n                                                            set(tTanAngle,42)  \n                                                        }else{\n                                                            if(tTan==10){\n                                                                set(tTanAngle,45)  \n                                                            }\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n    \n                                                          //取余\n                    if(tTanSymbol==1){\n                        set(temp1,45)\n                        minus(temp1,tTanAngle)\n                        set(tTanAngle,temp1)\n                    }\n                    \n                                                          //计算旋转角\n                    set(tRotateAngle,tBaseAngle)\n                    add(tRotateAngle,tTanAngle)\n                }else{                                    //溢出\n                                                          //溢出补满整圆，或清除整圆\n                    if(tLastArea==1){\n                        set(tRotateAngle,360)\n                    }\n                    if(tLastArea==8){\n                        set(tRotateAngle,0)\n                    }\n                }\n                                                          //计算tag值\n                set(temp1,tMaxValue) \n                minus(temp1,tMinValue)\n                multiply(temp1,tRotateAngle)\n                divide(temp1,360)\n                add(temp1,tMinValue)\n                \n                                                           //setTag\n                setTag(temp1)\n\n                set('this.otherAttrs.5',tLastArea)         //lastArea\n                set('this.otherAttrs.6',tOver)             //over\n                \n            }\n        ",onTagChange:"\n            var(curValue,0)                                //tag值\n            getTag(curValue)\n            \n            var(tMinValue,0)                               //最小值\n            set(tMinValue,'this.minValue')\n            \n            var(tMaxValue,0)                               //最大值\n            set(tMaxValue,'this.maxValue')\n            \n            var(tRotateX,0)                                //旋转中心坐标X\n            set(tRotateX,'this.otherAttrs.2')\n            \n            var(tRotateY,0)                                //旋转中心坐标Y\n            set(tRotateY,'this.otherAttrs.3')\n            \n            var(tRotateAngle,0)                            //旋转角\n            \n            var(tAlpha,0)                                  //roi起始点角度\n            set(tAlpha,-90)\n\n            var(tBbeta,0)                                  //roi终点角度\n            set(tBbeta,tAlpha)\n            \n            var(temp1,0)                                   //临时变量\n            var(temp2,0)\n            \n                                                            //计算偏转角\n            if(curValue<tMinValue){\n                                                            //小于最小值，偏转角为0\n                set(tRotateAngle,0)\n            }else{\n                if(tMaxValue<curValue){\n                                                            //大于最大值，偏转角为360\n                    set(tRotateAngle,360)\n                }else{\n                                                            //tRotateAngle=(curValue-minValue)/(maxValue-minValue)*360;\n                    set(temp1,tMaxValue)     \n                    minus(temp1,tMinValue)\n                    set(temp2,curValue)\n                    minus(temp2,tMinValue)\n                    multiply(temp2,360)\n                    divide(temp2,temp1)\n                    set(tRotateAngle,temp2)\n                }\n            }\n                                                             //计算beta值\n            add(tBbeta,tRotateAngle)\n\n                                                             //光带层roi设置\n            set('this.layers.1.subLayers.roi.p1x',tRotateX)\n            set('this.layers.1.subLayers.roi.p1y',tRotateY)\n            set('this.layers.1.subLayers.roi.alpha',tAlpha)\n            set('this.layers.1.subLayers.roi.beta',tBbeta)\n            \n                                                             //光标层旋转设置\n            set('this.layers.2.rotateCenterX',tRotateX)\n            set('this.layers.2.rotateCenterY',tRotateY)\n            set('this.layers.2.rotateAngle',tRotateAngle)  \n            \n        ",onKeyBoardLeft:"\n            var(tMaxHighLightNum,0)                          //控件内高亮块数\n            set(tMaxHighLightNum,'this.maxHighLightNum')\n            var(okFlag,0)                                    //高亮是否已选中\n            set(okFlag,'this.otherAttrs.1')\n            var(len,0)                                       //图层总数\n            set(len,'this.layers.length')\n            minus(len,1)\n                                                             //判断是否启用高亮\n            if (tMaxHighLightNum>0) {\n                if(okFlag==0){                               //控件间高亮选择\n                    var(tHighLightNum,0)\n                    set(tHighLightNum,'this.highLightNum')\n                    if (tHighLightNum==1) {\n                                                             //hashighlight\n                        set('this.layers.len.hidden',0)\n                    }else{\n                        set('this.layers.len.hidden',1)\n                    }\n                }else{                                       //高亮已选择，左移tag值减1\n                    var(curItem,0)\n                    getTag(curItem)\n                    minus(curItem,1)\n                    setTag(curItem)\n                }\n            }\n          \n        ",onKeyBoardRight:"\n            var(tMaxHighLightNum,0)                          //控件内高亮块数\n            set(tMaxHighLightNum,'this.maxHighLightNum')\n            var(okFlag,0)                                    //高亮是否已选中\n            set(okFlag,'this.otherAttrs.1')\n            var(len,0)                                       //图层总数\n            set(len,'this.layers.length')\n            minus(len,1)\n                                                             //判断是否启用高亮\n            if (tMaxHighLightNum>0) {\n                if(okFlag==0){                               //控件间高亮选择\n                    var(tHighLightNum,0)\n                    set(tHighLightNum,'this.highLightNum')\n                    if (tHighLightNum==1) {\n                        //hashighlight\n                        set('this.layers.len.hidden',0)\n                    }else{\n                        set('this.layers.len.hidden',1)\n                    }\n                }else{                                       //高亮已选择，右移tag值加1\n                    var(curItem,0)\n                    getTag(curItem)\n                    add(curItem,1)\n                    setTag(curItem)\n                }\n            }\n        ",onKeyBoardOK:"\n            var(okFlag,0)                                    //高亮是否已选中\n            set(okFlag,'this.otherAttrs.1')\n            if(okFlag==0){\n                setglobalvar(0,1)\n                set('this.otherAttrs.1',1)\n            }else{\n                setglobalvar(0,0)\n                set('this.otherAttrs.1',0)\n            }\n        "},t.DateTime={onInitialize:"\n            var(offset,0)\n            var(len,0)\n            set(offset,'this.otherAttrs.0')\n            set(len,'this.layers.length')\n            while(offset<len){\n                set('this.layers.offset.hidden',1)\n                add(offset,1)\n            }\n        ",onMouseUp:"\n        ",onMouseDown:"\n        ",onTagChange:"\n            var(m,0)\n            set(m,'this.mode')\n            var(tag,0)\n            getTag(tag)\n            var(tTag,0)\n            if(tag==0){\n                print(tag,'tag is 0')\n            }else{\n                set(tTag,tag)\n                var(len,0)\n                set(len,'this.otherAttrs.0')\n                minus(len,1)\n                var(flag1,0)\n                set(flag1,10)\n                var(flag2,0)\n                set(flag2,10)\n                if(m==0){\n                    set(flag1,2)\n                    set(flag2,5)\n                }else{\n                    if(m==1){\n                        set(flag1,2)\n                    }else{\n                        if(m==2){\n                            set(flag1,4)\n                            set(flag2,7)\n                        }else{\n                            if(m==3){\n                                set(flag1,4)\n                                set(flag2,7)\n                            }else{\n                                print(m,'mode is unknown')\n                            }\n                        }\n                    }\n                }\n                while(len>=0){\n                    if(len==flag1){\n                        minus(len,1)\n                    }else{\n                        if(len==flag2){\n                            minus(len,1)\n                        }else{\n                            mod(tTag,16)\n                            add(tTag,48)\n                            set('this.layers.len.subLayers.font.text',tTag)\n                            divide(tag,16)\n                            set(tTag,tag)\n                            minus(len,1)\n                        }\n                    }\n                }\n            }\n        ",onKeyBoardLeft:"\n            var(tMaxHighLightNum,0)\n            var(okFlag,0)\n            set(tMaxHighLightNum,'this.maxHighLightNum')\n            set(okFlag,'this.otherAttrs.1')\n            if(tMaxHighLightNum>0){\n                if(okFlag==0){\n                    var(totalLayerNum,0)\n                    set(totalLayerNum,'this.layers.length')\n                    var(offset,0)\n                    var(tHighLightNum,0)\n                    //clear\n                    set(offset,'this.otherAttrs.0')\n                    while(offset < totalLayerNum){\n                        set('this.layers.offset.hidden',1)\n                        add(offset,1)\n                    }\n                    //set target highlight\n                    set(offset,'this.otherAttrs.0')\n                    set(tHighLightNum,'this.highLightNum')\n                    add(offset,tHighLightNum)\n                    minus(offset,1)\n                    set('this.layers.offset.hidden',0)   \n                }else{\n                    print(okFlag,'ok mode')\n                    var(tHighLightNum,0)\n                    var(tTag,0)\n                    var(tMode,0)\n                    var(xr,0)\n                    var(minusNum,0)\n                    set(minusNum,1)\n                    set(tHighLightNum,'this.highLightNum')\n                    getTag(tTag)\n                    set(tMode,'this.mode')\n                    if(tMode==1){\n                        if(tHighLightNum==1){\n                            set(xr,2)\n                        }else{\n                            set(xr,0)\n                        }\n                    }else{\n                        if(tHighLightNum==1){\n                            set(xr,4)\n                        }else{\n                            if(tHighLightNum==2){\n                                set(xr,2)\n                            }else{\n                                set(xr,0)\n                            }\n                        }\n                    }\n                    var(ttTag,0)\n                    var(txr,0)\n                    set(ttTag,tTag)\n                    set(txr,xr)\n                    while(xr>0){\n                        divide(ttTag,16)\n                        minus(xr,1)\n                    }\n                    mod(ttTag,16)\n                    var(rawttTag,0)\n                    set(rawttTag,ttTag)\n                    minus(ttTag,1)\n                    if(ttTag<0){\n                        set(ttTag,-7)\n                    }\n                    while(txr>0){\n                        multiply(ttTag,16)\n                        multiply(rawttTag,16)\n                        minus(txr,1)\n                    }\n                    minus(ttTag,rawttTag)\n                    add(tTag,ttTag)\n                    setTag(tTag)\n                }              \n            }\n        ",onKeyBoardRight:"\n            var(tMaxHighLightNum,0)\n            var(okFlag,0)\n            set(tMaxHighLightNum,'this.maxHighLightNum')\n            set(okFlag,'this.otherAttrs.1')\n            if(tMaxHighLightNum>0){\n                if(okFlag==0){\n                    var(totalLayerNum,0)\n                    set(totalLayerNum,'this.layers.length')\n                    var(offset,0)\n                    var(tHighLightNum,0)\n                    //clear\n                    set(offset,'this.otherAttrs.0')\n                    while(offset < totalLayerNum){\n                        set('this.layers.offset.hidden',1)\n                        add(offset,1)\n                    }\n                    //set target highlight\n                    set(offset,'this.otherAttrs.0')\n                    set(tHighLightNum,'this.highLightNum')\n                    add(offset,tHighLightNum)\n                    minus(offset,1)\n                    set('this.layers.offset.hidden',0)\n                }else{\n                    //change num in ok mode\n                    var(tHighLightNum,0)\n                    var(tTag,0)\n                    var(tMode,0)\n                    var(xr,0)\n                    var(addNum,0)\n                    set(addNum,1)\n                    set(tHighLightNum,'this.highLightNum')\n                    getTag(tTag)\n                    set(tMode,'this.mode')\n                    if(tMode==1){\n                        if(tHighLightNum==1){\n                            set(xr,2)\n                        }else{\n                            set(xr,0)\n                        }\n                    }else{\n                        if(tHighLightNum==1){\n                            set(xr,4)\n                        }else{\n                            if(tHighLightNum==2){\n                                set(xr,2)\n                            }else{\n                                set(xr,0)\n                            }\n                        }\n                    }\n                    var(ttTag,0)\n                    var(txr,0)\n                    var(ttxr,0)\n                    set(ttTag,tTag)\n                    set(txr,xr)\n                    set(ttxr,xr)\n                    while(xr>0){\n                        divide(ttTag,16)\n                        minus(xr,1)\n                    }\n                    mod(ttTag,16)\n                    var(rawttTag,0)\n                    set(rawttTag,ttTag)\n                    add(ttTag,1)\n                    if(ttTag>=10){\n                        set(ttTag,16)\n                    }\n                    while(txr>0){\n                        multiply(ttTag,16)\n                        multiply(rawttTag,16)\n                        minus(txr,1)\n                    }\n                    minus(ttTag,rawttTag)\n                    add(tTag,ttTag)\n                    //check value in limit\n                    setTag(tTag)\n                }                \n            }\n        ",onKeyBoardOK:"\n            var(okFlag,0)\n            set(okFlag,'this.otherAttrs.1')\n            if(okFlag==0){\n                setglobalvar(0,1)\n                set('this.otherAttrs.1',1)\n            }else{\n                setglobalvar(0,0)\n                set('this.otherAttrs.1',0)\n            }\n        "},t.ColorPicker={onInitialize:"\n            var(tInitValue,0)\n            set(tInitValue,'this.otherAttrs.0')\n           \n            var(tR,0)\n            var(tG,0)\n            var(tB,0)\n            set(tR,'this.otherAttrs.1')\n            set(tG,'this.otherAttrs.1')\n            set(tB,'this.otherAttrs.1')\n            mod(tB,1000)\n            divide(tG,1000)\n            mod(tG,1000)\n            divide(tR,1000000)\n            //rgbToHSV\n            var(tMin,0)\n            var(tMax,0)\n            var(tDelta,0)\n            var(tH,0)\n            var(tS,0)\n            var(tV,0)\n            if(tR > tG){\n                set(tMax,tR)\n                set(tMin,tG)\n            }else{\n                set(tMin,tR)\n                set(tMax,tG)\n            }\n            if(tB>tMax){\n                set(tMax,tB)\n            }else{\n                if(tB<tMin){\n                    set(tMin,tB)\n                }\n            }\n            \n            print('tMax',tMax)\n            print('tMin',tMin)\n            \n            //set v\n            set(tV,tMax)\n            //set delta\n            set(tDelta,tMax)\n            minus(tDelta,tMin)\n            if(tMax == 0 ){\n                set(tS,0)\n                set(tH,-1)\n               \n            }else{\n                //set s, x255\n                set(tS,255)\n                \n                multiply(tS,tDelta)\n                divide(tS,tMax)\n                //set h\n                if(tDelta == 0){\n                    set(tH,-1)\n                }else{\n                    if(tR==tMax){\n                        set(tH,tG)\n                        minus(tH,tB)\n                        multiply(tH,60)\n                        divide(tH,tDelta)\n                    }else{\n                        if(tG == tMax){\n                            set(tH,tB)\n                            minus(tH,tR)\n                            multiply(tH,60)\n                            divide(tH,tDelta)\n                            add(tH,120)\n                        }else{\n                            set(tH,tR)\n                            minus(tH,tG)\n                            multiply(tH,60)\n                            divide(tH,tDelta)\n                            add(tH,240)\n                        }\n                    }\n                    if(tH<0){\n                        add(tH,360) \n                    }\n                }\n            }\n            \n            print('h',tH)\n            print('s',tS)\n            print('v',tV)\n            \n        ",
onMouseDown:"\n            var(tTemp,0)\n            var(tH,0)\n            var(tS,0)\n            var(tV,0)\n            //get Last HSV\n            set(tH,'this.otherAttrs.1')\n            set(tS,'this.otherAttrs.2')\n            set(tV,'this.otherAttrs.3')\n            var(tR,0)\n            var(tG,0)\n            var(tB,0)\n            var(tI,0)\n            var(tF,0)\n            var(tP,0)\n            var(tQ,0)\n            var(tT,0)\n            var(tChangeFlag,0)\n            //get current h,s,v\n            var(tInnerX,0)\n            var(tInnerY,0)\n            set(tInnerX,'this.innerX')\n            set(tInnerY,'this.innerY')\n            var(tPickerX,0)\n            var(tPickerY,0)\n            var(tPickerW,0)\n            var(tPickerH,0)\n            var(tPickerRightX,0)\n            var(tPickerBottomY,0)\n            set(tPickerX,'this.layers.2.x')\n            set(tPickerY,'this.layers.2.y')\n            set(tPickerW,'this.layers.2.width')\n            set(tPickerH,'this.layers.2.height')\n            set(tPickerRightX,tPickerX)\n            add(tPickerRightX,tPickerW)\n            set(tPickerBottomY,tPickerY)\n            add(tPickerBottomY,tPickerH)\n            if(tInnerX >= tPickerX){\n                if(tInnerX < tPickerRightX){\n                    if(tInnerY >= tPickerY){\n                        if(tInnerY < tPickerBottomY){\n                            set(tChangeFlag,1)\n                            //hit picker area\n                            //otherAttr 4 hit area 0:none 1:hue 2:picker\n                            set('this.otherAttrs.4',1)\n                            //move picker indicator\n                            set('this.layers.5.x',tInnerX)\n                            set('this.layers.5.y',tInnerY)\n                            set(tS,tInnerX)\n                            minus(tS,tPickerX)\n                            multiply(tS,255)\n                            divide(tS,tPickerW)\n                            set(tV,tPickerH)\n                            minus(tV,tInnerY)\n                            add(tV,tPickerY)\n                            multiply(tV,255)\n                            divide(tV,tPickerH)\n                            set('this.otherAttrs.2',tS)\n                            set('this.otherAttrs.3',tV)\n                        }\n                    }\n                }\n            }\n            \n            //hue\n            var(tHueX,0)\n            var(tHuey,0)\n            var(tHueW,0)\n            var(tHueH,0)\n            var(tHueRightX,0)\n            var(tHueBottomY,0)\n            set(tHueX,'this.layers.1.x')\n            set(tHueY,'this.layers.1.y')\n            set(tHueW,'this.layers.1.width')\n            set(tHueH,'this.layers.1.height')\n            set(tHueRightX,tHueX)\n            add(tHueRightX,tHueW)\n            set(tHueBottomY,tHueY)\n            add(tHueBottomY,tHueH)\n            var(tSBack,0)\n            var(tVBack,0)\n            if(tInnerX>=tHueX){\n                if(tInnerX<tHueRightX){\n                    if(tInnerY>=tHueY){\n                        if(tInnerY<tHueBottomY){\n                            set(tChangeFlag,1)\n                            set('this.otherAttrs.4',2)\n                            //move hue indicator\n                            // set('this.layers.4.x',tInnerX)\n                            set('this.layers.4.y',tInnerY)\n                            //set h\n                            set(tH,tInnerY)\n                            minus(tH,tHueY)\n                            multiply(tH,360)\n                            divide(tH,tHueH)\n                            set('this.otherAttrs.1',tH)\n                            \n                            //change picker bg color\n                            set(tSBack,tS)\n                            set(tVBack,tV)\n                            set(tS,255)\n                            set(tV,255)\n                            if(tS == 0){\n                                set(tR,tV)\n                                set(tG,tV)\n                                set(tB,tV)\n                            }else{\n                                set(tI,tH)\n                                divide(tI,60)\n                                set(tF,tH)\n                                set(tTemp,tI)\n                                multiply(tTemp,60)\n                                //tF = 60*f\n                                minus(tF,tTemp)\n                                \n                                //set p\n                                set(tP,255)\n                                minus(tP,tS)\n                                multiply(tP,tV)\n                                divide(tP,255)\n                                \n                                //set q\n                                set(tTemp,tS)\n                                multiply(tTemp,tF)\n                                set(tQ,15300)\n                                minus(tQ,tTemp)\n                                multiply(tQ,tV)\n                                divide(tQ,15300)\n                                \n                                //set t\n                                set(tTemp,60)\n                                minus(tTemp,tF)\n                                multiply(tTemp,tS)\n                                set(tT,15300)\n                                minus(tT,tTemp)\n                                multiply(tT,tV)\n                                divide(tT,15300)\n                               \n                                \n                                if(tI == 0){\n                                    set(tR,tV)\n                                    set(tG,tT)\n                                    set(tB,tP)\n                                }else{\n                                    if(tI == 1){\n                                        set(tR,tQ)\n                                        set(tG,tV)\n                                        set(tB,tP)\n                                    }else{\n                                        if(tI == 2){\n                                            set(tR,tP)\n                                            set(tG,tV)\n                                            set(tB,tT)\n                                        }else{\n                                            if(tI == 3){\n                                                set(tR,tP)\n                                                set(tG,tQ)\n                                                set(tB,tV)\n                                            }else{\n                                                if(tI == 4){\n                                                    set(tR,tT)\n                                                    set(tG,tP)\n                                                    set(tB,tV)\n                                                }else{\n                                                    set(tR,tV)\n                                                    set(tG,tP)\n                                                    set(tB,tQ)\n                                                }\n                                            }\n                                        }\n                                    }\n                                }    \n                                \n                            }\n                            //set picker bg color\n                            set('this.layers.2.subLayers.color.r',tR)\n                            set('this.layers.2.subLayers.color.g',tG)\n                            set('this.layers.2.subLayers.color.b',tB)\n                            //restore tS,tV\n                            set(tS,tSBack)\n                            set(tV,tVBack)\n                        }\n                    }\n                }\n            }\n            \n            if(tChangeFlag == 1){\n            \n                \n                if(tS == 0){\n                    set(tR,tV)\n                    set(tG,tV)\n                    set(tB,tV)\n                }else{\n                    set(tI,tH)\n                    divide(tI,60)\n                    set(tF,tH)\n                    set(tTemp,tI)\n                    multiply(tTemp,60)\n                    //tF = 60*f\n                    minus(tF,tTemp)\n                    \n                    //set p\n                    set(tP,255)\n                    minus(tP,tS)\n                    multiply(tP,tV)\n                    divide(tP,255)\n                    \n                    //set q\n                    set(tTemp,tS)\n                    multiply(tTemp,tF)\n                    set(tQ,15300)\n                    minus(tQ,tTemp)\n                    multiply(tQ,tV)\n                    divide(tQ,15300)\n                    \n                    //set t\n                    set(tTemp,60)\n                    minus(tTemp,tF)\n                    multiply(tTemp,tS)\n                    set(tT,15300)\n                    minus(tT,tTemp)\n                    multiply(tT,tV)\n                    divide(tT,15300)\n                   \n                    \n                    if(tI == 0){\n                        set(tR,tV)\n                        set(tG,tT)\n                        set(tB,tP)\n                    }else{\n                        if(tI == 1){\n                            set(tR,tQ)\n                            set(tG,tV)\n                            set(tB,tP)\n                        }else{\n                            if(tI == 2){\n                                set(tR,tP)\n                                set(tG,tV)\n                                set(tB,tT)\n                            }else{\n                                if(tI == 3){\n                                    set(tR,tP)\n                                    set(tG,tQ)\n                                    set(tB,tV)\n                                }else{\n                                    if(tI == 4){\n                                        set(tR,tT)\n                                        set(tG,tP)\n                                        set(tB,tV)\n                                    }else{\n                                        set(tR,tV)\n                                        set(tG,tP)\n                                        set(tB,tQ)\n                                    }\n                                }\n                            }\n                        }\n                    }    \n                    \n                }\n               \n                set('this.layers.3.subLayers.color.r',tR)\n                set('this.layers.3.subLayers.color.g',tG)\n                set('this.layers.3.subLayers.color.b',tB)\n                \n                var(tResult,0)\n                set(tResult,tR)\n                multiply(tResult,1000)\n                add(tResult,tG)\n                multiply(tResult,1000)\n                add(tResult,tB)\n                setTag(tResult)\n                \n                print('r',tR)\n                print('g',tG)\n                print('b',tB)\n            \n            }\n           \n            \n            \n            \n        ",onMouseMove:"\n            var(tTemp,0)\n            var(tH,0)\n            var(tS,0)\n            var(tV,0)\n            //get Last HSV\n            set(tH,'this.otherAttrs.1')\n            set(tS,'this.otherAttrs.2')\n            set(tV,'this.otherAttrs.3')\n            var(tR,0)\n            var(tG,0)\n            var(tB,0)\n            var(tI,0)\n            var(tF,0)\n            var(tP,0)\n            var(tQ,0)\n            var(tT,0)\n            var(tChangeFlag,0)\n            //get current h,s,v\n            var(tInnerX,0)\n            var(tInnerY,0)\n            set(tInnerX,'this.innerX')\n            set(tInnerY,'this.innerY')\n            var(tPickerX,0)\n            var(tPickerY,0)\n            var(tPickerW,0)\n            var(tPickerH,0)\n            var(tPickerRightX,0)\n            var(tPickerBottomY,0)\n            set(tPickerX,'this.layers.2.x')\n            set(tPickerY,'this.layers.2.y')\n            set(tPickerW,'this.layers.2.width')\n            set(tPickerH,'this.layers.2.height')\n            set(tPickerRightX,tPickerX)\n            add(tPickerRightX,tPickerW)\n            set(tPickerBottomY,tPickerY)\n            add(tPickerBottomY,tPickerH)\n            if(tInnerX >= tPickerX){\n                if(tInnerX < tPickerRightX){\n                    if(tInnerY >= tPickerY){\n                        if(tInnerY < tPickerBottomY){\n                            set(tChangeFlag,1)\n                            //hit picker area\n                            //otherAttr 4 hit area 0:none 1:hue 2:picker\n                            //move picker indicator\n                            set('this.layers.5.x',tInnerX)\n                            set('this.layers.5.y',tInnerY)\n                            set(tS,tInnerX)\n                            minus(tS,tPickerX)\n                            multiply(tS,255)\n                            divide(tS,tPickerW)\n                            set(tV,tPickerH)\n                            minus(tV,tInnerY)\n                            add(tV,tPickerY)\n                            multiply(tV,255)\n                            divide(tV,tPickerH)\n                            set('this.otherAttrs.2',tS)\n                            set('this.otherAttrs.3',tV)\n                        }\n                    }\n                }\n            }\n            \n            //hue\n            var(tHueX,0)\n            var(tHuey,0)\n            var(tHueW,0)\n            var(tHueH,0)\n            var(tHueRightX,0)\n            var(tHueBottomY,0)\n            set(tHueX,'this.layers.1.x')\n            set(tHueY,'this.layers.1.y')\n            set(tHueW,'this.layers.1.width')\n            set(tHueH,'this.layers.1.height')\n            set(tHueRightX,tHueX)\n            add(tHueRightX,tHueW)\n            set(tHueBottomY,tHueY)\n            add(tHueBottomY,tHueH)\n            var(tSBack,0)\n            var(tVBack,0)\n            if(tInnerX>=tHueX){\n                if(tInnerX<tHueRightX){\n                    if(tInnerY>=tHueY){\n                        if(tInnerY<tHueBottomY){\n                            set(tChangeFlag,1)\n                            set('this.layers.4.y',tInnerY)\n                            //set h\n                            set(tH,tInnerY)\n                            minus(tH,tHueY)\n                            multiply(tH,360)\n                            divide(tH,tHueH)\n                            set('this.otherAttrs.1',tH)\n                            \n                            //change picker bg color\n                            set(tSBack,tS)\n                            set(tVBack,tV)\n                            set(tS,255)\n                            set(tV,255)\n                            if(tS == 0){\n                                set(tR,tV)\n                                set(tG,tV)\n                                set(tB,tV)\n                            }else{\n                                set(tI,tH)\n                                divide(tI,60)\n                                set(tF,tH)\n                                set(tTemp,tI)\n                                multiply(tTemp,60)\n                                //tF = 60*f\n                                minus(tF,tTemp)\n                                \n                                //set p\n                                set(tP,255)\n                                minus(tP,tS)\n                                multiply(tP,tV)\n                                divide(tP,255)\n                                \n                                //set q\n                                set(tTemp,tS)\n                                multiply(tTemp,tF)\n                                set(tQ,15300)\n                                minus(tQ,tTemp)\n                                multiply(tQ,tV)\n                                divide(tQ,15300)\n                                \n                                //set t\n                                set(tTemp,60)\n                                minus(tTemp,tF)\n                                multiply(tTemp,tS)\n                                set(tT,15300)\n                                minus(tT,tTemp)\n                                multiply(tT,tV)\n                                divide(tT,15300)\n                               \n                                \n                                if(tI == 0){\n                                    set(tR,tV)\n                                    set(tG,tT)\n                                    set(tB,tP)\n                                }else{\n                                    if(tI == 1){\n                                        set(tR,tQ)\n                                        set(tG,tV)\n                                        set(tB,tP)\n                                    }else{\n                                        if(tI == 2){\n                                            set(tR,tP)\n                                            set(tG,tV)\n                                            set(tB,tT)\n                                        }else{\n                                            if(tI == 3){\n                                                set(tR,tP)\n                                                set(tG,tQ)\n                                                set(tB,tV)\n                                            }else{\n                                                if(tI == 4){\n                                                    set(tR,tT)\n                                                    set(tG,tP)\n                                                    set(tB,tV)\n                                                }else{\n                                                    set(tR,tV)\n                                                    set(tG,tP)\n                                                    set(tB,tQ)\n                                                }\n                                            }\n                                        }\n                                    }\n                                }    \n                                \n                            }\n                            //set picker bg color\n                            set('this.layers.2.subLayers.color.r',tR)\n                            set('this.layers.2.subLayers.color.g',tG)\n                            set('this.layers.2.subLayers.color.b',tB)\n                            //restore tS,tV\n                            set(tS,tSBack)\n                            set(tV,tVBack)\n                        }\n                    }\n                }\n            }\n            \n            if(tChangeFlag == 1){\n            \n                \n                if(tS == 0){\n                    set(tR,tV)\n                    set(tG,tV)\n                    set(tB,tV)\n                }else{\n                    set(tI,tH)\n                    divide(tI,60)\n                    set(tF,tH)\n                    set(tTemp,tI)\n                    multiply(tTemp,60)\n                    //tF = 60*f\n                    minus(tF,tTemp)\n                    \n                    //set p\n                    set(tP,255)\n                    minus(tP,tS)\n                    multiply(tP,tV)\n                    divide(tP,255)\n                    \n                    //set q\n                    set(tTemp,tS)\n                    multiply(tTemp,tF)\n                    set(tQ,15300)\n                    minus(tQ,tTemp)\n                    multiply(tQ,tV)\n                    divide(tQ,15300)\n                    \n                    //set t\n                    set(tTemp,60)\n                    minus(tTemp,tF)\n                    multiply(tTemp,tS)\n                    set(tT,15300)\n                    minus(tT,tTemp)\n                    multiply(tT,tV)\n                    divide(tT,15300)\n                   \n                    \n                    if(tI == 0){\n                        set(tR,tV)\n                        set(tG,tT)\n                        set(tB,tP)\n                    }else{\n                        if(tI == 1){\n                            set(tR,tQ)\n                            set(tG,tV)\n                            set(tB,tP)\n                        }else{\n                            if(tI == 2){\n                                set(tR,tP)\n                                set(tG,tV)\n                                set(tB,tT)\n                            }else{\n                                if(tI == 3){\n                                    set(tR,tP)\n                                    set(tG,tQ)\n                                    set(tB,tV)\n                                }else{\n                                    if(tI == 4){\n                                        set(tR,tT)\n                                        set(tG,tP)\n                                        set(tB,tV)\n                                    }else{\n                                        set(tR,tV)\n                                        set(tG,tP)\n                                        set(tB,tQ)\n                                    }\n                                }\n                            }\n                        }\n                    }    \n                    \n                }\n               \n                set('this.layers.3.subLayers.color.r',tR)\n                set('this.layers.3.subLayers.color.g',tG)\n                set('this.layers.3.subLayers.color.b',tB)\n                \n                var(tResult,0)\n                set(tResult,tR)\n                multiply(tResult,1000)\n                add(tResult,tG)\n                multiply(tResult,1000)\n                add(tResult,tB)\n                setTag(tResult)\n                \n                print('r',tR)\n                print('g',tG)\n                print('b',tB)\n            \n            }\n            \n        "},t});