ideServices.service("NavService",["CanvasService","ProjectService","OperateQueService","Type","$timeout",function(e,t,n,r,u){var i=this;this.getDeleteStatus=function(){var e=t.getCurrentSelectObject();return e.type!=r.MyPage},this.getOperateQueStatus=function(){return n.getOperateQueStatus()},this.getLayerStatus=function(){return t.isEditingPage()},this.getSubLayerStatus=function(){var e=t.getCurrentSelectObject();return e.type==r.MyLayer},this.getWidgetStatus=function(){return!t.isEditingPage()},this.getCopyStatus=function(){return t.getCurrentSelectObject().type!=r.MyPage&&t.getCurrentSelectObject().type!=r.MySubLayer},this.getPasteStatus=function(){return t.shearPlateEnable()},this.DoCopy=function(e){if(i.getCopyStatus()){var n=t.getCurrentSelectObject();n.type==r.MyLayer?t.CopyLayer(n.level,function(){e&&e()}):n.type==r.MyGroup&&0==n.mode?t.CopyLayerGroup(n.target,function(){e&&e()}):r.isWidget(n.type)?t.CopyWidget(n.level,function(){e&&e()}):n.type==r.MyGroup&&1==n.mode&&t.CopyWidgetGroup(n.target,function(){e&&e()})}},this.DoPaste=function(e){i.getPasteStatus()&&t.DoPaste(function(){e&&e()})};var o=!1;this.DoDelete=function(e){if(i.getDeleteStatus()&&!o){o=!0;var n=t.getCurrentSelectObject();n.type==r.MyLayer||n.type==r.MyGroup&&0==n.mode?t.DeleteActiveLayers(function(){e&&e(),o=!1}):n.type==r.MySubLayer?t.DeleteCurrentSubLayer(function(){e&&e(),o=!1}):r.isWidget(n.type)||n.type==r.MyGroup&&1==n.mode?t.DeleteActiveWidgets(function(){e&&e(),o=!1}):o=!1}},this.DoMove=function(e,n,u){var i=t.getCurrentSelectObject();i.type==r.MyLayer||i.type==r.MyGroup&&0==i.mode?t.MoveActiveObjects("layers",e,n,function(){u&&u()}):r.isWidget(i.type)||i.type==r.MyGroup&&1==i.mode?t.MoveActiveObjects("widgets",e,n,function(){u&&u()}):o=!1};var a=!1;this.DoUndo=function(e){i.getOperateQueStatus().undoEnable&&(a||(a=!0,n.undo(function(){a=!1,e&&e()}),u(function(){a=!1},800)))};var c=!1;this.DoRedo=function(e){i.getOperateQueStatus().redoEnable&&(c||(c=!0,n.redo(function(){c=!1,e&&e()}),u(function(){c=!1},800)))}}]);