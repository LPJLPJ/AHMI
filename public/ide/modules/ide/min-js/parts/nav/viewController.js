ide.controller("ViewCtl",["$scope","ViewService","ProjectService",function(i,e,a){function t(){i.defaultRatios=["25%","50%","75%","100%","125%","150%","175%","200%","225%","250%"],n(),i.ratioRange={min:25,max:250}}function n(){a.isEditingPage()?(i.isEditingPage=!0,i.viewRatio=e.getScale("page")):(i.isEditingPage=!1,i.viewRatio=e.getScale("canvas"))}function o(){function a(e){var a,t=parseInt(i.viewRatio);e<0?t<250&&(t+=5):e>0&&t>25&&(t-=5),a=t+"%",i.defaultRatios.splice(10,1,a),i.viewRatio=a}i.$on("AttributeChanged",function(){n()}),i.$on("wheelScale",function(i,e){a(e)}),i.$watch("viewRatio",function(){var a=i.isEditingPage?"page":"subCanvas";e.setScale(i.viewRatio,a),i.$emit("changeCanvasScale",a)})}i.$on("GlobalProjectReceived",function(){t(),o()})}]);