ide.controller("ProjectFileCtrl",["$scope","$timeout","$uibModal","$log",function(e,t,n,i){function o(){e.items=["http://i13.tietuku.cn/c2f97e2245d519e0.jpg","http://i13.tietuku.cn/05910ed1cab0abfe.jpg","http://i13.tietuku.cn/ac9b0472df29b450.jpg"],e.projects=[],e.dataGetted=!1,e.num=1}function c(){e.animationsEnabled=!0,e.open=function(t){var o=n.open({animation:e.animationsEnabled,templateUrl:"projectFile.html",controller:"ProjectFileInstanceCtrl",resolve:{items:function(){return e.items},isRecent:function(){return t}}});o.result.then(function(t){e.selected=t},function(){i.info("Modal dismissed at: "+new Date)})}}e.$on("GlobalProjectReceived",function(){o(),c(),e.$emit("LoadUp")})}]).controller("ProjectFileInstanceCtrl",["$scope","ProjectService","ProjectFileManage","$uibModalInstance","items","isRecent","$timeout",function(e,t,n,i,o,c,l){e.items=o,e.selected={item:null},e.isStartDownloaded=!1,e.downloadProgress={value:100,max:300},e.downloading={item:null},e.changeState=function(t){e.selected.item=t,e.isStartDownloaded=!1,e.downloading.item=null};var a=c?n.getRecentProjectFile:n.getAllProjectFile;a(function(t){l(function(){e.items=c?t.recentProjects:t.projects,e.itemsGetted=!0})},function(t){e.itemsGetted=!0,toastr.warning("获取数据失败")}),e.ok=function(){t.getProjectTo(e);var n=PID;window.localStorage.setItem("projectCache"+n,JSON.stringify(e.project)),ideScope.$broadcast("ReOpenProject",e.selected.item.pid),i.dismiss("cancel")},e.cancel=function(){i.dismiss("cancel")}}]);