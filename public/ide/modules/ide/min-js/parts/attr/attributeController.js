ide.controller("AttributeCtrl",["$scope","$rootScope","$timeout","ProjectService","Type","Preference","ResourceService","characterSetService","CanvasService","AnimationService","UserTypeService",function(e,n,o,t,i,r,l,a,c,m,u){function f(){e.component={type:"",onAttributeChanged:v,transitionMode:[{name:"NO_TRANSITION",show:"无动画"},{name:"MOVE_LR",show:"从左进入"},{name:"MOVE_RL",show:"从右进入"},{name:"SCALE",show:"缩放"}],transitionName:null,page:{enterImage:D,selectImage:"demo20.png"},layer:{enterShowSubLayer:B,selectModel:null},subLayer:{enterImage:D,selectImage:"blank.png"},slide:{addSubSlide:h},button:{buttonModeId:"0",buttonModes:[{id:"0",name:"普通模式"},{id:"1",name:"开关模式"}],highlightModeId:"0",enterButtonMode:le,enterArrange:Z},buttonGroup:{enterInterval:F,enterButtonCount:R,enterArrange:Z,highlightModeId:"0"},progress:{progressModeId:"0",enableAnimationModeId:"0",progressModes:[{id:"0",name:"普通进度条"},{id:"1",name:"变色进度条"},{id:"3",name:"多色进度条"}],thresholdModeId:"1",thresholdModes:[{id:"1",name:"两段色"},{id:"2",name:"三段色"}],enterProgressValue:z,enterArrange:Z,enterCursor:H,enterThresholdMode:L,enterThresholdValue1:G,enterThresholdValue2:W},dashboard:{dashboardModeId:"0",clockwise:"1",dashboardModes:[{id:"0",name:"简单模式"},{id:"1",name:"复杂模式"},{id:"2",name:"精简模式"}],dashboardClockwise:[{wise:"1",name:"顺时针"},{wise:"0",name:"逆时针"}],enableAnimationModeId:"0",enterDashboardMode:E,enterDashboardClockwise:J,enterDashboardValue:X,enterDashboardOffsetValue:U,enterPointerLength:Y,enterMinCoverAngle:K,enterMaxCoverAngle:Q},textArea:{enterText:ae,selectCharacterSetByIndex:ce,selectCharacterSetByName:me,addCharacterSet:ue,deleteCharacterSetByIndex:fe,enterArrange:Z},num:{numModeId:"0",enableAnimationModeId:"0",numModes:[{id:"0",name:"普通模式"},{id:"1",name:"动画模式"}],symbolMode:"0",symbolModes:[{id:"0",name:"无符号模式"},{id:"1",name:"有符号模式"}],frontZeroMode:"0",frontZeroModes:[{id:"0",name:"无前导0模式"},{id:"1",name:"有前导0模式"}],overFlowStyle:"0",overFlowStyles:[{id:"0",name:"溢出不显示"},{id:"1",name:"溢出显示"}],changeNumOfDigits:de,changeDecimalCount:ge,enterNumMode:ve,enterSymbolMode:be,enterFrontZeroMode:pe,enterOverFlowStyle:se,enterNumValue:he,changeNumAlign:Ce,enterArrange:Z},texNum:{numModeId:"0",enableAnimationModeId:"0",numModes:[{id:"0",name:"普通模式"},{id:"1",name:"动画模式"}],symbolMode:"0",symbolModes:[{id:"0",name:"无符号模式"},{id:"1",name:"有符号模式"}],frontZeroMode:"0",frontZeroModes:[{id:"0",name:"无前导0模式"},{id:"1",name:"有前导0模式"}],overFlowStyle:"0",overFlowStyles:[{id:"0",name:"溢出不显示"},{id:"1",name:"溢出显示"}],changeNumOfDigits:de,changeDecimalCount:ge,enterNumMode:ve,enterSymbolMode:be,enterFrontZeroMode:pe,enterOverFlowStyle:se,enterNumValue:he,changeNumAlign:Ce,enterCharacterW:je,enterCharacterH:Me},knob:{backgroundImage:"blank.png",knobImg:"blank.png",enterKnobSize:ye,enterKnobValue:Ae},oscilloscope:{changeOscSpacing:Ie,changeOscGrid:ke,changeOscLinWidth:Se,changeOscGridInitValue:Te,changeOscGridUnitX:we,changeOscGridUnitY:xe},switchWidget:{enterBindBit:Ne},rotateImg:{enterInitValue:Ve},dateTime:{dateTimeModes:[{id:"0",name:"时分秒模式"},{id:"1",name:"时分模式"},{id:"2",name:"斜杠日期"},{id:"3",name:"减号日期"}],RTCModes:[{id:"0",name:"使用内部时钟"},{id:"1",name:"使用外部时钟"}],highlightModeId:"0",enterDateTimeMode:Pe,enterArrange:Z},texTime:{dateTimeModes:[{id:"0",name:"时分秒模式"},{id:"1",name:"时分模式"},{id:"2",name:"斜杠日期"},{id:"3",name:"减号日期"}],RTCModes:[{id:"0",name:"使用内部时钟"},{id:"1",name:"使用外部时钟"}],highlightModeId:"0",enterDateTimeMode:Pe,enterArrange:Z,enterCharacterW:je,enterCharacterH:Me},slideBlock:{enterInitValue:Ve,enterArrange:Z},video:{source:[{id:"CVBS",name:"CVBS"},{id:"HDMI",name:"HDMI"}],scale:[{id:"0",name:"非原比例"},{id:"1",name:"原比例"}],changeVideoSource:Be,changeVideoScale:De},group:{align:[{id:"top",name:"上对齐"},{id:"bottom",name:"下对齐"},{id:"left",name:"左对齐"},{id:"right",name:"右对齐"}],alignModeId:null,changeGroupAlign:Oe},highlightModes:[{id:"0",name:"启用高亮"},{id:"1",name:"禁用高亮"}],enableAnimationModes:[{id:"0",name:"启用动画"},{id:"1",name:"关闭动画"}],enterName:C,enterColor:T,enterFontText:w,enterFontSize:x,enterFontFamily:k,enterFontBold:N,enterFontItalic:V,enterX:j,enterY:M,enterAbsoluteX:y,enterAbsoluteY:A,enterWidth:I,enterHeight:S,enterImage:D,enterMinValue:q,enterMaxValue:ee,enterMinAngle:ne,enterMaxAngle:oe,enterMinAlert:te,enterMaxAlert:ie,restore:b,changeTransitionName:p,changeTransitionDur:s,enterHighlightMode:O,enterEnableAnimationMode:$,enterSpacing:re},e.animationsDisabled=u.getAnimationAuthor()}function d(){t.getProjectTo(e),e.maxWidth=e.project.initSize.width||1280,e.maxHeight=e.project.initSize.height||1080,e.defaultTransition=m.getDefaultTransition(),v(),g(),e.$on("ResourceChanged",function(){g()}),e.$on("AttributeChanged",function(e){v()}),e.$on("colorpicker-submit",function(e,n){T(n)}),e.$on("colorpicker-closed",function(e,n){b()}),e.$on("changeFontFamily",function(e,n){enterFontStyle(n)})}function g(){var n={id:"blank.png",src:"",name:"空白"};o(function(){e.component.images=l.getAllImages(),e.component.images.unshift(n)})}function v(){var n=t.getCurrentSelectObject();o(function(){switch(e.component.object=_.cloneDeep(n),_e=_.cloneDeep(n),e.component.object.type){case i.MyLayer:e.component.layer.selectModel=e.component.object.level.showSubLayer.id,"object"!=typeof e.component.object.level.transition&&(t.AddAttributeTransition(_.cloneDeep(e.defaultTransition)),e.component.object.level.transition=_.cloneDeep(e.defaultTransition)),e.component.transitionName=e.component.object.level.transition.name;break;case i.MyPage:e.component.page.selectImage=e.component.object.level.backgroundImage,"object"!=typeof e.component.object.level.transition&&(t.AddAttributeTransition(_.cloneDeep(e.defaultTransition)),e.component.object.level.transition=_.cloneDeep(e.defaultTransition)),e.component.transitionName=e.component.object.level.transition.name;break;case i.MyGroup:var o=r.GROUP_CONTROL_VISIBLE;n.target.setControlsVisibility(o),e.component.group.alignModeId=null;break;case i.MyProgress:e.component.progress.arrangeModel=e.component.object.level.info.arrange,e.component.progress.cursor=e.component.object.level.info.cursor,e.component.progress.progressModeId=e.component.object.level.info.progressModeId,e.component.object.level.info.thresholdModeId?e.component.progress.thresholdModeId=e.component.object.level.info.thresholdModeId:(n.level.info.thresholdModeId="1",n.level.info.threshold1=null,n.level.info.threshold2=null,e.component.progress.thresholdModeId="1"),void 0===e.component.object.level.info.enableAnimation?(n.level.info.enableAnimation=!1,e.component.progress.enableAnimationModeId="1"):!1===e.component.object.level.info.enableAnimation?e.component.progress.enableAnimationModeId="1":!0===e.component.object.level.info.enableAnimation&&(e.component.progress.enableAnimationModeId="0"),void 0===e.component.object.level.transition&&(n.level.transition={},e.component.object.level.transition={}),void 0===e.component.object.level.transition.duration&&(n.level.transition.duration=0,e.component.object.level.transition.duration=0);break;case i.MyDashboard:e.component.dashboard.dashboardModeId=e.component.object.level.dashboardModeId,e.component.dashboard.clockwise=e.component.object.level.info.clockwise,e.component.object.level.info.minCoverAngle||e.component.object.level.info.maxCoverAngle||(e.component.object.level.info.minCoverAngle=0,e.component.object.level.info.maxCoverAngle=0,n.level.info.minCoverAngle=0,n.level.info.maxCoverAngle=0),void 0===e.component.object.level.info.enableAnimation?(n.level.info.enableAnimation=!1,e.component.dashboard.enableAnimationModeId="1"):!1===e.component.object.level.info.enableAnimation?e.component.dashboard.enableAnimationModeId="1":!0===e.component.object.level.info.enableAnimation&&(e.component.dashboard.enableAnimationModeId="0"),void 0===e.component.object.level.transition&&(n.level.transition={},e.component.object.level.transition={}),void 0===e.component.object.level.transition.duration&&(n.level.transition.duration=0,e.component.object.level.transition.duration=0);break;case i.MyTextArea:e.component.textArea.arrangeModel=e.component.object.level.info.arrange;break;case i.MyButton:e.component.button.buttonModeId=e.component.object.level.buttonModeId,e.component.button.arrangeModel=e.component.object.level.info.arrange,void 0===e.component.object.level.info.disableHighlight?(n.level.info.disableHighlight=!1,e.component.button.highlightModeId="0"):!1===e.component.object.level.info.disableHighlight?e.component.button.highlightModeId="0":!0===e.component.object.level.info.disableHighlight&&(e.component.button.highlightModeId="1");break;case i.MyButtonGroup:e.component.buttonGroup.arrangeModel=e.component.object.level.info.arrange,void 0===e.component.object.level.info.disableHighlight?(n.level.info.disableHighlight=!1,e.component.buttonGroup.highlightModeId="0"):!1===e.component.object.level.info.disableHighlight?e.component.buttonGroup.highlightModeId="0":!0===e.component.object.level.info.disableHighlight&&(e.component.buttonGroup.highlightModeId="1");break;case i.MyNum:e.component.num.numModeId=e.component.object.level.info.numModeId,e.component.num.symbolMode=e.component.object.level.info.symbolMode,e.component.num.frontZeroMode=e.component.object.level.info.frontZeroMode,e.component.num.overFlowStyle=e.component.object.level.info.overFlowStyle,e.component.num.arrangeModel=e.component.object.level.info.arrange,"object"!=typeof e.component.object.level.transition&&(t.AddAttributeTransition(_.cloneDeep(e.defaultTransition)),e.component.object.level.transition=_.cloneDeep(e.defaultTransition)),e.component.transitionName=e.component.object.level.transition.name,void 0===e.component.object.level.info.enableAnimation?(n.level.info.enableAnimation=!1,e.component.num.enableAnimationModeId="1"):0==e.component.object.level.info.enableAnimation?e.component.num.enableAnimationModeId="1":1==e.component.object.level.info.enableAnimation&&(e.component.num.enableAnimationModeId="0"),void 0===e.component.object.level.transition&&(n.level.transition={},e.component.object.level.transition={}),void 0===e.component.object.level.transition.duration&&(n.level.transition.duration=0,e.component.object.level.transition.duration=0);break;case i.MyTexNum:e.component.texNum.numModeId=e.component.object.level.info.numModeId,e.component.texNum.symbolMode=e.component.object.level.info.symbolMode,e.component.texNum.frontZeroMode=e.component.object.level.info.frontZeroMode,e.component.texNum.overFlowStyle=e.component.object.level.info.overFlowStyle,e.component.texNum.arrangeModel=e.component.object.level.info.arrange,e.component.transitionName=e.component.object.level.transition.name,0==e.component.object.level.info.enableAnimation?e.component.texNum.enableAnimationModeId="1":1==e.component.object.level.info.enableAnimation&&(e.component.texNum.enableAnimationModeId="0"),void 0===e.component.object.level.info.enableAnimation?(n.level.info.enableAnimation=!1,e.component.texNum.enableAnimationModeId="1"):0==e.component.object.level.info.enableAnimation?e.component.texNum.enableAnimationModeId="1":1==e.component.object.level.info.enableAnimation&&(e.component.texNum.enableAnimationModeId="0"),void 0===e.component.object.level.transition&&(n.level.transition={},e.component.object.level.transition={}),void 0===e.component.object.level.transition.duration&&(n.level.transition.duration=0,e.component.object.level.transition.duration=0);break;case i.MyDateTime:e.component.dateTime.arrangeModel=e.component.object.level.info.arrange,e.component.dateTime.dateTimeModeId=e.component.object.level.info.dateTimeModeId,e.component.dateTime.RTCModeId=e.component.object.level.info.RTCModeId,void 0==e.component.object.level.info.disableHighlight?(n.level.info.disableHighlight=!1,e.component.dateTime.highlightModeId="0"):0==e.component.object.level.info.disableHighlight?e.component.dateTime.highlightModeId="0":1==e.component.object.level.info.disableHighlight&&(e.component.dateTime.highlightModeId="1");break;case i.MyTexTime:e.component.texTime.arrangeModel=e.component.object.level.info.arrange,e.component.texTime.dateTimeModeId=e.component.object.level.info.dateTimeModeId,e.component.texTime.RTCModeId=e.component.object.level.info.RTCModeId,void 0==e.component.object.level.info.disableHighlight?(n.level.info.disableHighlight=!1,e.component.texTime.highlightModeId="0"):0==e.component.object.level.info.disableHighlight?e.component.texTime.highlightModeId="0":1==e.component.object.level.info.disableHighlight&&(e.component.texTime.highlightModeId="1");break;case i.MySlideBlock:e.component.slideBlock.arrangeModel=e.component.object.level.info.arrange;break;case i.MyVideo:e.component.video.sourceId=e.component.object.level.info.source;break;case i.MySlide:void 0===n.level.info.fontFamily&&(n.level.info.fontFamily="宋体",n.level.info.fontSize=20,n.level.info.fontColor="rgba(0,0,0,1)",n.level.info.fontBold="100",n.level.info.fontItalic="");break;case i.MySwitch:void 0===n.level.info.text&&(n.level.info.text="",n.level.info.fontFamily="宋体",n.level.info.fontSize=20,n.level.info.fontColor="rgba(0,0,0,1)",n.level.info.fontBold="100",n.level.info.fontItalic="")}})}function b(){o(function(){e.component.object=_.cloneDeep(_e)})}function p(){for(var n={name:e.component.transitionName},o=0;o<e.component.transitionMode.length;o++)if(e.component.transitionMode[o].name==e.component.transitionName){n.show=e.component.transitionMode[o].show;break}t.ChangeAttributeTransition(n)}function s(n){if(13==n.keyCode){if(e.component.object.level.transition.duration>5e3||e.component.object.level.transition.duration<0)return toastr.warning("超出限制"),void b();if(!_.isInteger(e.component.object.level.transition.duration))return toastr.warning("输入不合法"),void b();if(e.component.object.level.transition.duration==_e.level.transition.duration)return;var o={duration:e.component.object.level.transition.duration};toastr.info("修改成功"),t.ChangeAttributeTransition(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function h(){}function C(n,o){if(13==n.keyCode){if(e.component.object.level.name==_e.level.name)return void(o.component.object.level.name=e.component.object.level.name);if(!t.inputValidate(e.component.object.level.name))return void b();toastr.info("修改成功");var i={name:e.component.object.level.name};t.ChangeAttributeName(i,function(n){e.$emit("ChangeCurrentPage",n)})}}function j(n){if(13==n.keyCode){var o=Number(e.component.object.level.info.left);if(!_.isInteger(o))return toastr.warning("输入不合法"),void b();if(o<-2e3||o>2e3)return toastr.warning("超出画布范围"),void b();if(o==_e.level.info.left)return void toastr.warning("未改变值"+e.component.object.level.info.left);var i={left:o};t.ChangeAttributePosition(i,function(n){e.$emit("ChangeCurrentPage",n);var o=e.component.object.level.info;t.setAbsolutePosition(o)})}}function M(n){if(13==n.keyCode){var o=Number(e.component.object.level.info.top);if(!_.isInteger(o))return toastr.warning("输入不合法"),void b();if(o<-2e3||o>2e3)return toastr.warning("超出范围"),void b();if(o==_e.level.info.top)return;var i={top:o};t.ChangeAttributePosition(i,function(n){e.$emit("ChangeCurrentPage",n);var o=e.component.object.level.info;t.setAbsolutePosition(o)})}}function y(o){var i=Number(n.position.absoluteX);if(13==o.keyCode){if(!_.isInteger(i))return toastr.warning("输入不合法"),void b();if(i<-2e3||i>2e3)return toastr.warning("超出画布范围"),void b();if(i==n.position.initAbsoluteX)return void toastr.warning("未改变值"+n.position.absoluteX);i=n.position.absoluteX-n.position.currentLayerInfo.left;var r={left:i};t.ChangeAttributePosition(r,function(n){e.$emit("ChangeCurrentPage",n)})}}function A(o){if(13==o.keyCode){var i=Number(n.position.absoluteY);if(!_.isInteger(i))return toastr.warning("输入不合法"),void b();if(i<-2e3||i>2e3)return toastr.warning("超出范围"),void b();if(i==n.position.initAbsoluteY)return void toastr.warning("未改变值"+n.position.absoluteY);i=n.position.absoluteY-n.position.currentLayerInfo.top;var r={top:i};t.ChangeAttributePosition(r,function(n){e.$emit("ChangeCurrentPage",n)})}}function I(n){if(13==n.keyCode){var o=Number(e.component.object.level.info.width);if(!_.isInteger(o))return toastr.warning("输入不合法"),void b();if(o<1||o>2e3)return toastr.warning("超出范围"),void b();if(o==_e.level.info.width)return void console.log("没有变化");var i={width:o};t.ChangeAttributeSize(i,function(n){e.$emit("ChangeCurrentPage",n)})}}function S(n){if(13==n.keyCode){var o=Number(e.component.object.level.info.height);if(!_.isInteger(o))return toastr.warning("输入不合法"),void b();if(o<1||o>2e3)return toastr.warning("超出范围"),void b();if(o==_e.level.info.height)return void console.log("没有变化");var i={height:o};t.ChangeAttributeSize(i,function(n){e.$emit("ChangeCurrentPage",n)})}}function T(n){var o,i,r=null,l=null;for(o=n.value.slice(5,n.value.length-1),o=o.split(","),i=0;i<o.length-1;i++)if(o[i]>255||o[i]<0||!_.isInteger(Number(o[i])))return toastr.warning("格式错误"),void b();if(4===o.length){var a=o[o.length-1];if(a<0||a>1)return toastr.warning("格式错误"),void b()}if("component.object.level.backgroundColor"==n.name){if(_e.level.backgroundColor==n.value)return;r=t.SaveCurrentOperate(),l={color:n.value},t.ChangeAttributeBackgroundColor(l,function(){e.$emit("ChangeCurrentPage",r)})}if("component.object.level.info.fontColor"==n.name){if(_e.level.info.fontColor==n.value)return;l={fontColor:n.value},P(l)}if("component.object.level.info.lineColor"==n.name){if(_e.level.info.lineColor==n.value)return;l={lineColor:n.value},r=t.SaveCurrentOperate(),t.ChangeAttributeOscilloscope(l,function(n){e.$emit("ChangeCurrentPage",n)})}}function w(n){if(13==n.keyCode){var o=e.component.object.level.info.text;if(o==_e.level.info.text)return;if(o.length>20)return toastr.warning("字数最大20"),void b();P({text:o})}}function x(n){if(13==n.keyCode){var o=e.component.object.level.info.fontSize;if(!_.isInteger(Number(o)))return toastr.warning("输入不合法"),void b();if(o<0||o>150)return toastr.warning("超出范围"),void b();if(o==_e.level.info.fontSize)return;P({fontSize:o})}}function k(n){var o=e.component.object.level.info.fontFamily;if(o!=_e.level.info.fontFamily){P({fontFamily:o})}}function N(n){var o=e.component.object.level.info.fontBold;"100"===o?o="bold":"bold"===o&&(o="100"),P({fontBold:o})}function V(n){var o=e.component.object.level.info.fontItalic;""===o?o="italic":"italic"===o&&(o=""),P({fontItalic:o})}function P(n){t.SaveCurrentOperate();switch(t.getCurrentSelectObject().type){case i.MyTextArea:t.ChangeAttributeTextContent(n,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyDateTime:t.ChangeAttributeDateTimeText(n,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyNum:t.ChangeAttributeNumContent(n,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MySwitch:case i.MySlide:case i.MyButton:t.ChangeAttributeFontStyle(n,function(n){e.$emit("ChangeCurrentPage",n)});break;default:console.error("not match in change font color!")}}function O(){var n=t.getCurrentSelectObject(),o=null;n.type==i.MyButton?o=e.component.button.highlightModeId:n.type==i.MyButtonGroup?o=e.component.buttonGroup.highlightModeId:n.type==i.MyDateTime?o=e.component.dateTime.highlightModeId:n.type==i.MyTexTime&&(o=e.component.texTime.highlightModeId);var r={highlightMode:o};t.ChangeAttributeHighLightMode(r,function(n){e.$emit("ChangeCurrentPage",n)})}function $(){var n,o=t.getCurrentSelectObject();o.type==i.MyDashboard?n=e.component.dashboard.enableAnimationModeId:o.type==i.MyProgress?n=e.component.progress.enableAnimationModeId:o.type==i.MyNum?n=e.component.num.enableAnimationModeId:o.type===i.MyTexNum&&(n=e.component.texNum.enableAnimationModeId);var r={enableAnimationModeId:n};t.ChangeEnableAnimationMode(r,function(n){e.$emit("ChangeCurrentPage",n)})}function B(n){var o=t.SaveCurrentOperate(),i=e.component.layer.selectModel,r=t.getCurrentLayer();_.forEach(r.subLayers,function(n,r){n.id==i&&t.changeCurrentSubLayerIndex(r,function(){e.$emit("ChangeCurrentPage",o)})})}function D(){var n="";if(e.component.object.type==i.MyPage){n=e.component.page.selectImage,e.component.object.level.backgroundColor=n?"rgb(0,0,0)":"rgb(54,71,92)";var o=t.getCurrentPage(),r=c.getPageNode();r.setBackgroundColor(e.component.object.level.backgroundColor,function(){r.renderAll(),o.backgroundColor=e.component.object.level.backgroundColor,o.proJsonStr=r.toJSON()})}else{if(e.component.object.type!=i.MySubLayer)return;n=e.component.subLayer.selectImage,e.component.object.level.backgroundColor="/public/images/blank.png"==n?$e():"rgba(0,0,0,0)";var l=t.getCurrentSubLayer(),a=c.getSubLayerNode();a.setBackgroundColor(e.component.object.level.backgroundColor,function(){a.renderAll(),l.backgroundColor=e.component.object.level.backgroundColor,l.proJsonStr=a.toJSON()})}var m={image:_.cloneDeep(n)};t.ChangeAttributeBackgroundImage(m,function(n){e.$emit("ChangeCurrentPage",n)})}function F(n){if(13==n.keyCode){if(!_.isInteger(Number(e.component.object.level.info.interval))||parseInt(e.component.object.level.info.interval)<0)return toastr.warning("输入不合法"),void b();if((e.component.object.level.info.interval||0)*((e.component.object.level.info.count||0)-1)>(e.component.object.level.info.width||0))return toastr.warning("配置不合理"),void b();if(e.component.object.level.info.interval==_e.level.info.interval)return;var o={interval:e.component.object.level.info.interval},i=t.SaveCurrentOperate();t.ChangeAttributeInterval(o,function(){e.$emit("ChangeCurrentPage",i)})}}function R(n){if(13==n.keyCode){if(!_.isInteger(parseInt(e.component.object.level.info.count))||parseInt(e.component.object.level.info.interval)<0)return toastr.warning("输入不合法"),void b();if((e.component.object.level.info.interval||0)*((e.component.object.level.info.count||0)-1)>(e.component.object.level.info.width||0))return toastr.warning("配置不合理"),void b();if(e.component.object.level.info.count==_e.level.info.count)return;if(e.component.object.level.info.count<2)return toastr.warning("按钮数至少为2"),void b();if(e.component.object.level.info.count>15)return toastr.warning("按钮数至多为15"),void b();var o={count:parseInt(e.component.object.level.info.count)},i=t.SaveCurrentOperate();t.ChangeAttributeButtonCount(o,function(){e.$emit("ChangeCurrentPage",i)})}}function z(n){if(13==n.keyCode){if(!_.isInteger(parseInt(e.component.object.level.info.progressValue)))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.progressValue==_e.level.info.progressValue)return;if(e.component.object.level.info.progressValue<e.component.object.level.info.minValue||e.component.object.level.info.progressValue>e.component.object.level.info.maxValue)return toastr.warning("超出范围"),void b();var o={progressValue:e.component.object.level.info.progressValue};t.ChangeAttributeProgressValue(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function H(){var n=t.getCurrentSelectObject(),o=null,r=null,l=null;if(n.type==i.MyProgress){o=e.component.progress.cursor,r=e.component.progress.progressModeId,l=e.component.progress.thresholdModeId;var a=t.SaveCurrentOperate(),c={cursor:o,progressModeId:r,thresholdModeId:l};t.ChangeAttributeCursor(c,function(){e.$emit("ChangeCurrentPage",a)})}}function L(n){var o=e.component.progress.thresholdModeId;e.component.progress.threshold2=null;var i={thresholdModeId:o},r=t.SaveCurrentOperate();t.ChangeAttributeProgressThreshold(i,function(){e.$emit("ChangeCurrentPage",r)})}function G(n){if(13==n.keyCode){if(e.component.object.level.info.threshold1==_e.level.info.threshold1)return;if(e.component.object.level.info.threshold1<e.component.object.level.info.minValue||e.component.object.level.info.threshold1>e.component.object.level.info.maxValue)return toastr.warning("超出范围"),void b();if(e.component.object.level.info.threshold2&&e.component.object.level.info.threshold1>e.component.object.level.info.threshold2)return toastr.warning("超出范围"),void b();var o={threshold1:e.component.object.level.info.threshold1},i=t.SaveCurrentOperate();t.ChangeAttributeProgressThreshold(o,function(){e.$emit("ChangeCurrentPage",i)})}}function W(n){if(13==n.keyCode){if(e.component.object.level.info.threshold2==_e.level.info.threshold2)return;if(e.component.object.level.info.threshold2<e.component.object.level.info.minValue||e.component.object.level.info.threshold2>e.component.object.level.info.maxValue)return toastr.warning("超出范围"),void b();if(e.component.object.level.info.threshold1&&e.component.object.level.info.threshold2<e.component.object.level.info.threshold1)return toastr.warning("超出范围"),void b();var o={threshold2:e.component.object.level.info.threshold2},i=t.SaveCurrentOperate();t.ChangeAttributeProgressThreshold(o,function(){e.$emit("ChangeCurrentPage",i)})}}function Z(){var n=t.getCurrentSelectObject(),o=null;if(n.type==i.MyProgress)o=e.component.progress.arrangeModel;else if(n.type==i.MyButtonGroup)o=e.component.buttonGroup.arrangeModel;else if(n.type==i.MySlideBlock)o=e.component.slideBlock.arrangeModel;else if(n.type==i.MyNum)o=e.component.num.arrangeModel;else if(n.type==i.MyTextArea)o=e.component.textArea.arrangeModel;else if(n.type==i.MyButton)o=e.component.button.arrangeModel;else if(n.type=i.MyDateTime)o=e.component.dateTime.arrangeModel;else{if(!(n.type=i.MyTexTime))return;o=e.component.texTime.arrangeModel}var r=t.SaveCurrentOperate(),l={arrange:o};t.ChangeAttributeArrange(l,function(){e.$emit("ChangeCurrentPage",r)})}function U(n){if(13==n.keyCode){if(!_.isInteger(Number(e.component.object.level.info.offsetValue)))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.offsetValue<-360||e.component.object.level.info.offsetValue>360)return toastr.warning("超出最小最大角度范围"),void b();if(e.component.object.level.info.offsetValue==_e.level.info.offsetValue)return;var o={offsetValue:e.component.object.level.info.offsetValue},i=t.SaveCurrentOperate();t.ChangeAttributeDashboardOffsetValue(o,function(){e.$emit("ChangeCurrentPage",i)})}}function X(n){if(13==n.keyCode){if(!_.isNumber(e.component.object.level.info.value))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.value==_e.level.info.value)return;if(e.component.object.level.info.value<e.component.object.level.info.minValue||e.component.object.level.info.value>e.component.object.level.info.maxValue)return toastr.warning("超出范围"),void b();var o={value:e.component.object.level.info.value},i=t.SaveCurrentOperate();t.ChangeAttributeDashboardValue(o,function(){e.$emit("ChangeCurrentPage",i)})}}function Y(n){if(13==n.keyCode){var o=e.component.object.level.info.pointerLength,i=e.component.object.level.info.width,r=i/Math.SQRT2+10;if(!_.isInteger(Number(o)))return toastr.warning("输入不合法"),void b();if(o<0||o>r)return toastr.warning("指针长度超出范围"),void b();if(o==_e.level.info.pointerLength)return;var l={pointerLength:o},a=t.SaveCurrentOperate();t.ChangeAttributeDashboardPointerLength(l,function(){e.$emit("ChangeCurrentPage",a)})}}function E(n){var o=t.getCurrentSelectObject(),r=null;if(o.type==i.MyDashboard){r=e.component.dashboard.dashboardModeId;var l=t.SaveCurrentOperate(),a={dashboardModeId:r};t.ChangeAttributeDashboardModeId(a,function(){e.$emit("ChangeCurrentPage",l)})}}function J(n){var o=t.getCurrentSelectObject(),r=null;if(o.type==i.MyDashboard){r=e.component.dashboard.clockwise;var l=t.SaveCurrentOperate(),a={clockwise:r};t.ChangeAttributeDashboardClockwise(a,function(){e.$emit("ChangeCurrentPage",l)})}}function K(n){if(13==n.keyCode){if(!_.isInteger(e.component.object.level.info.minCoverAngle))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.minCoverAngle<-360||e.component.object.level.info.minCoverAngle>360||e.component.object.level.info.minCoverAngle>e.component.object.level.info.maxCoverAngle||e.component.object.level.info.maxCoverAngle-e.component.object.level.info.minCoverAngle>360)return toastr.warning("超出范围"),void b();var o={minCoverAngle:e.component.object.level.info.minCoverAngle},i=t.SaveCurrentOperate();t.ChangeAttributeDashboardCoverAngle(o,function(){e.$emit("ChangeCurrentPage",i)})}}function Q(n){if(13==n.keyCode){if(!_.isInteger(e.component.object.level.info.maxCoverAngle))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.maxCoverAngle<-360||e.component.object.level.info.maxCoverAngle>360||e.component.object.level.info.maxCoverAngle<e.component.object.level.info.minCoverAngle||e.component.object.level.info.maxCoverAngle-e.component.object.level.info.minCoverAngle>360)return toastr.warning("超出范围"),void b();var o={maxCoverAngle:e.component.object.level.info.maxCoverAngle},i=t.SaveCurrentOperate();t.ChangeAttributeDashboardCoverAngle(o,function(){e.$emit("ChangeCurrentPage",i)})}}function q(n){if(13==n.keyCode){if(!_.isInteger(e.component.object.level.info.minValue))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.minValue<1-Math.pow(10,9))return toastr.warning("小于最小临界值"),void b();if(e.component.object.level.info.minValue==_e.level.info.minValue)return;if(e.component.object.level.info.maxValue<=e.component.object.level.info.minValue)return toastr.warning("不能比最大值大"),void b();if(e.component.object.level.type==i.MyProgress){if(e.component.object.level.info.minValue>e.component.object.level.info.progressValue)return toastr.warning("不能比当前值大"),void b()}else if(e.component.object.level.type==i.MyDashboard){if(e.component.object.level.info.minValue>e.component.object.level.info.value)return toastr.warning("不能比当前值大"),void b()}else if(e.component.object.level.type==i.MyNum||e.component.object.level.type==i.MyTexNum){if(e.component.object.level.info.minValue>e.component.object.level.info.initValue)return toastr.warning("不能比当前值大"),void b()}else if(e.component.object.level.type==i.MySlideBlock){if(e.component.object.level.info.minValue>e.component.object.level.info.initValue)return toastr.warning("不能比初始值大"),void b()}else if(e.component.object.level.type==i.MyRotateImg&&e.component.object.level.info.minValue<0)return toastr.warning("不能小于0"),void b();var o={minValue:e.component.object.level.info.minValue},r=t.SaveCurrentOperate();t.ChangeAttributeValue(o,function(){e.$emit("ChangeCurrentPage",r)})}}function ee(n){if(13==n.keyCode){var o=e.component.object.level.info.maxValue,r=e.component.object.level.type;if(!_.isInteger(parseInt(o)))return toastr.warning("输入不合法"),void b();if(o>Math.pow(10,9)-1)return toastr.warning("超过最大临界值"),void b();if(o===_e.level.info.maxValue)return;if(o<=e.component.object.level.info.minValue)return toastr.warning("不能比最小值小"),void b();if(r===i.MyProgress){if(o<e.component.object.level.info.progressValue)return toastr.warning("不能比当前值小"),void b()}else if(r===i.MyNum||r==i.MyTexNum){if(o<e.component.object.level.info.numValue)return toastr.warning("不能比当前值小"),void b();var l=e.component.object.level.info.numOfDigits,a=Math.pow(10,l)-1;if(o>a)return toastr.warning("超出范围"),void b()}else if(r===i.MySlideBlock){if(o<e.component.object.level.info.initValue)return toastr.warning("不能比初始值小"),void b()}else if(r===i.MyRotateImg&&o>360)return toastr.warning("不能超过360"),void b();var c={maxValue:o},m=t.SaveCurrentOperate();t.ChangeAttributeValue(c,function(){e.$emit("ChangeCurrentPage",m)})}}function ne(n){if(13==n.keyCode){if(!_.isInteger(Number(e.component.object.level.info.minAngle)))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.minAngle<-360||e.component.object.level.info.minAngle>360)return toastr.warning("最小角度应在-360到360之间"),void b();if(e.component.object.level.info.minAngle==_e.level.info.minAngle)return;var o={minAngle:e.component.object.level.info.minAngle},i=t.SaveCurrentOperate();t.ChangeAttributeValue(o,function(){e.$emit("ChangeCurrentPage",i)})}}function oe(n){if(13==n.keyCode){if(!_.isInteger(parseInt(e.component.object.level.info.maxAngle)))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.maxAngle>360||e.component.object.level.info.maxAngle<e.component.object.level.info.minAngle)return toastr.warning("最大角度不能大于360且不小于最小角"),void b();if(e.component.object.level.info.maxAngle==_e.level.info.maxAngle)return;var o={maxAngle:e.component.object.level.info.maxAngle},i=t.SaveCurrentOperate();t.ChangeAttributeValue(o,function(){e.$emit("ChangeCurrentPage",i)})}}function te(n){
if(13==n.keyCode){if(!_.isInteger(parseInt(e.component.object.level.info.lowAlarmValue)))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.lowAlarmValue<1-Math.pow(10,9))return toastr.warning("小于最小临界值"),void b();if(e.component.object.level.info.lowAlarmValue==_e.level.info.lowAlarmValue)return;var o={lowAlarmValue:e.component.object.level.info.lowAlarmValue},i=t.SaveCurrentOperate();t.ChangeAttributeValue(o,function(){e.$emit("ChangeCurrentPage",i)})}}function ie(n){if(13==n.keyCode){if(!_.isInteger(parseInt(e.component.object.level.info.highAlarmValue)))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.highAlarmValue>Math.pow(10,9)-1)return toastr.warning("大于最大临界值"),void b();if(e.component.object.level.info.highAlarmValue==_e.level.info.highAlarmValue)return;var o={highAlarmValue:e.component.object.level.info.highAlarmValue},i=t.SaveCurrentOperate();t.ChangeAttributeValue(o,function(){e.$emit("ChangeCurrentPage",i)})}}function re(n){if(13==n.keyCode){var o=e.component.object.level.info.spacing,i=e.component.object.level.info.fontSize;if(!_.isInteger(o))return toastr.warning("输入不合法"),void b();if(o===_e.level.info.spacing)return;if(o<-i||o>i)return toastr.warning("超出范围"),void b();var r={spacing:o},l=t.SaveCurrentOperate();switch(e.component.object.type,e.component.object.type){case"MyNum":t.ChangeAttributeNumContent(r,function(){e.$emit("ChangeCurrentPage",l)});break;case"MyDateTime":console.log("MyDateTimeEnterSpacing"),t.ChangeAttributeOfDateTime(r,function(){e.$emit("ChangeCurrentPage",l)});break;default:console.log("error!")}}}function le(n){var o=t.getCurrentSelectObject(),r=null;if(o.type==i.MyButton){r=e.component.button.buttonModeId;var l=t.SaveCurrentOperate(),a={buttonModeId:r};t.ChangeAttributeButtonModeId(a,function(){e.$emit("ChangeCurrentPage",l)})}}function ae(n){if(13==n.keyCode){if(e.component.object.level.info.text==_e.level.info.text)return;var o={text:e.component.object.level.info.text},i=t.SaveCurrentOperate();t.ChangeAttributeTextContent(o,function(){e.$emit("ChangeCurrentPage",i)})}}function ce(n){var o=a.selectCharacterByIndex(n);if(o){e.component.object.level.info.fontName=o.fontName,e.component.object.level.info.fontFamily=o.fontFamily,e.component.object.level.info.fontSize=o.fontSize,e.component.object.level.info.fontColor=o.fontColor,e.component.object.level.info.fontBold=o.fontBold,e.component.object.level.info.fontItalic=o.fontItalic,e.component.object.level.info.boldBtnToggle=o.boldBtnToggle,e.component.object.level.info.italicBtnToggle=o.italicBtnToggle;var i={text:e.component.object.level.info.text,fontName:e.component.object.level.info.fontName,fontFamily:e.component.object.level.info.fontFamily,fontSize:e.component.object.level.info.fontSize,fontColor:e.component.object.level.info.fontColor,fontBold:e.component.object.level.info.fontBold,fontItalic:e.component.object.level.info.fontItalic,boldBtnToggle:e.component.object.level.info.boldBtnToggle,italicBtnToggle:e.component.object.level.info.italicBtnToggle};t.ChangeAttributeTextContent(i,function(n){e.$emit("ChangeCurrentPage",n)})}}function me(n){if(t.getCurrentSelectObject().type==i.MyTextArea){var o=a.selectCharacterByName(n);if(o){e.component.object.level.info.fontName=o.fontName,e.component.object.level.info.fontFamily=o.fontFamily,e.component.object.level.info.fontSize=o.fontSize,e.component.object.level.info.fontColor=o.fontColor,e.component.object.level.info.fontBold=o.fontBold,e.component.object.level.info.fontItalic=o.fontItalic,e.component.object.level.info.boldBtnToggle=o.boldBtnToggle,e.component.object.level.info.italicBtnToggle=o.italicBtnToggle;var r={text:e.component.object.level.info.text,fontName:e.component.object.level.info.fontName,fontFamily:e.component.object.level.info.fontFamily,fontSize:e.component.object.level.info.fontSize,fontColor:e.component.object.level.info.fontColor,fontBold:e.component.object.level.info.fontBold,fontItalic:e.component.object.level.info.fontItalic,boldBtnToggle:e.component.object.level.info.boldBtnToggle,italicBtnToggle:e.component.object.level.info.italicBtnToggle};t.ChangeAttributeTextContent(r,function(n){e.$emit("ChangeCurrentPage",n)})}}}function ue(n){var o={fontName:"自定义",text:"自定义",fontFamily:_.cloneDeep(e.component.object.level.info.fontFamily),fontSize:_.cloneDeep(e.component.object.level.info.fontSize),fontColor:_.cloneDeep(e.component.object.level.info.fontColor),fontBold:_.cloneDeep(e.component.object.level.info.fontBold),fontItalic:_.cloneDeep(e.component.object.level.info.fontItalic),boldBtnToggle:_.cloneDeep(e.component.object.level.info.boldBtnToggle),italicBtnToggle:_.cloneDeep(e.component.object.level.info.italicBtnToggle)};a.addCharacterSet(o),n.stopPropagation()}function fe(e,n){a.deleteCharacterSetByIndex(n),e.stopPropagation()}function de(n){if(13==n.keyCode){var o=e.component.object.level.type;if(e.component.object.level.info.numOfDigits.toString().indexOf(".")>-1)return void b();if(e.component.object.level.info.numOfDigits==_e.level.info.numOfDigits)return;if(e.component.object.level.info.numOfDigits<1||e.component.object.level.info.numOfDigits>10)return b(),void toastr.warning("超出范围");var r=e.component.object.level.info.numValue.toString().length+e.component.object.level.info.decimalCount;if(e.component.object.level.info.numOfDigits<=e.component.object.level.info.decimalCount||e.component.object.level.info.numOfDigits<r)return b(),void toastr.warning("超出范围");var l={numOfDigits:e.component.object.level.info.numOfDigits};switch(o){case i.MyNum:t.ChangeAttributeNumContent(l,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyTexNum:t.ChangeAttributeTexNumContent(l,function(n){e.$emit("ChangeCurrentPage",n)})}}}function ge(n){if(13==n.keyCode){var o=e.component.object.level.type;if(e.component.object.level.info.decimalCount.toString().indexOf(".")>-1)return void b();if(e.component.object.level.info.decimalCount==_e.level.info.decimalCount)return;if(e.component.object.level.info.decimalCount<0||e.component.object.level.info.decimalCount>=e.component.object.level.info.numOfDigits)return b(),void toastr.warning("超出范围");var r={decimalCount:e.component.object.level.info.decimalCount};t.SaveCurrentOperate();switch(o){case i.MyNum:t.ChangeAttributeNumContent(r,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyTexNum:t.ChangeAttributeTexNumContent(r,function(n){e.$emit("ChangeCurrentPage",n)})}}}function ve(){var n=t.getCurrentSelectObject(),o=null;if(n.type==i.MyNum){o=e.component.num.numModeId;var r={numModeId:o};t.SaveCurrentOperate();t.ChangeAttributeOfNum(r,function(n){e.$emit("ChangeCurrentPage",n)})}}function be(){var n=t.getCurrentSelectObject(),o=n.type,r={};t.SaveCurrentOperate();switch(o){case i.MyNum:r.symbolMode=e.component.num.symbolMode,t.ChangeAttributeNumContent(r,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyTexNum:r.symbolMode=e.component.texNum.symbolMode,t.ChangeAttributeTexNumContent(r,function(n){e.$emit("ChangeCurrentPage",n)})}}function pe(){var n=t.getCurrentSelectObject(),o={};t.SaveCurrentOperate();switch(n.type){case i.MyNum:o.frontZeroMode=e.component.num.frontZeroMode,t.ChangeAttributeNumContent(o,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyTexNum:o.frontZeroMode=e.component.texNum.frontZeroMode,t.ChangeAttributeTexNumContent(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function se(){var n=t.getCurrentSelectObject(),o={};t.SaveCurrentOperate();switch(n.type){case i.MyNum:o.overFlowStyle=e.component.num.overFlowStyle,t.ChangeAttributeOfNum(o,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyTexNum:o.overFlowStyle=e.component.texNum.overFlowStyle,t.ChangeAttributeOfTexNum(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function he(n){if(13==n.keyCode){var o=e.component.object.level.type,r=e.component.object.level.info.numValue,l=e.component.object.level.info.minValue,a=e.component.object.level.info.maxValue,c=r.toString();if(r==_e.level.info.numValue)return;if(r<l||r>a||isNaN(r)||-1!=c.indexOf("."))return toastr.warning("输入不合法"),void b();var m={numValue:r};switch(o){case i.MyNum:t.ChangeAttributeNumContent(m,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyTexNum:t.ChangeAttributeTexNumContent(m,function(n){e.$emit("ChangeCurrentPage",n)})}}}function Ce(){var n=e.component.object.level.type;if(e.component.object.level.info.align!=_e.level.info.align){var o={align:e.component.object.level.info.align};switch(n){case i.MyNum:t.ChangeAttributeNumContent(o,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyTexNum:t.ChangeAttributeTexNumContent(o,function(n){e.$emit("ChangeCurrentPage",n)})}}}function je(n){if(13===n.keyCode){var o=e.component.object.level.info.characterW,r=e.component.object.level.type;if(!_.isInteger(o)||o<=0)return void toastr.warning("输入不合法");if(o<1||o>2e3)return void toastr.warning("超出范围");var l={characterW:o};switch(r){case i.MyTexTime:t.ChangeAttributeTexTimeContent(l,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyTexNum:t.ChangeAttributeTexNumContent(l,function(n){e.$emit("ChangeCurrentPage",n)})}}}function Me(n){if(13===n.keyCode){var o=e.component.object.level.info.characterH,r=e.component.object.level.type;if(!_.isInteger(o)||o<=0)return void toastr.warning("输入不合法");if(o<1||o>2e3)return void toastr.warning("超出范围");var l={characterH:o};switch(r){case i.MyTexTime:t.ChangeAttributeTexTimeContent(l,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyTexNum:t.ChangeAttributeTexNumContent(l,function(n){e.$emit("ChangeCurrentPage",n)})}}}function ye(n){if(13==n.keyCode){if(!_.isInteger(parseInt(e.component.object.level.info.knobSize)))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.knobSize==_e.level.info.knobSize)return;var o={knobSize:e.component.object.level.info.knobSize};t.ChangeAttributeKnobSize(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function Ae(n){if(13==n.keyCode){if(!_.isInteger(parseInt(e.component.object.level.info.value)))return toastr.warning("输入不合法"),void b();if(e.component.object.level.info.value==_e.level.info.value)return;if(e.component.object.level.info.value<e.component.object.level.info.minValue||e.component.object.level.info.value>e.component.object.level.info.maxValue)return toastr.warning("超出范围"),void b();var o={value:e.component.object.level.info.value};t.ChangeAttributeKnobValue(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function Ie(n){if(13==n.keyCode){if(e.component.object.level.info.spacing==_e.level.info.spacing)return;(e.component.object.level.info.spacing<=0||e.component.object.level.info.spacing>e.component.object.level.info.width)&&toastr.warning("超出范围");var o={spacing:e.component.object.level.info.spacing};t.SaveCurrentOperate();t.ChangeAttributeOscilloscopeForRender(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function Se(n){if(13==n.keyCode){if(e.component.object.level.info.lineWidth==_e.level.info.lineWidth)return;(e.component.object.level.info.lineWidth<=0||e.component.object.level.info.lineWidth>e.component.object.level.info.spacing/2)&&toastr.warning("超出范围");var o={lineWidth:e.component.object.level.info.lineWidth};t.SaveCurrentOperate();t.ChangeAttributeOscilloscopeForRender(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function Te(n){if(13==n.keyCode){if(e.component.object.level.info.gridInitValue==_e.level.info.gridInitValue)return;var o={gridInitValue:e.component.object.level.info.gridInitValue};t.SaveCurrentOperate();t.ChangeAttributeOscilloscopeForRender(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function we(n){if(13==n.keyCode){if(e.component.object.level.info.gridUnitX==_e.level.info.gridUnitX)return;var o={gridUnitX:e.component.object.level.info.gridUnitX};t.SaveCurrentOperate();t.ChangeAttributeOscilloscopeForRender(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function xe(n){if(13==n.keyCode){if(e.component.object.level.info.gridUnitY==_e.level.info.gridUnitY)return;var o={gridUnitY:e.component.object.level.info.gridUnitY};t.SaveCurrentOperate();t.ChangeAttributeOscilloscopeForRender(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function ke(){if(e.component.object.level.info.grid!=_e.level.info.grid){var n={grid:e.component.object.level.info.grid};t.SaveCurrentOperate();t.ChangeAttributeOscilloscopeForRender(n,function(n){e.$emit("ChangeCurrentPage",n)})}}function Ne(n){if(13==n.keyCode){if(e.component.object.level.info.bindBit==_e.level.info.bindBit)return;if(e.component.object.level.info.bindBit<0||e.component.object.level.info.bindBit>31)return toastr.warning("超出范围"),void b();toastr.info("修改成功");var o={bindBit:e.component.object.level.info.bindBit};t.SaveCurrentOperate();t.ChangeAttributeBindBit(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function Ve(n){if(13==n.keyCode){if(e.component.object.level.info.initValue==_e.level.info.initValue)return;if(e.component.object.level.info.initValue<e.component.object.level.info.minValue||e.component.object.level.info.initValue>e.component.object.level.info.maxValue)return toastr.warning("超出最大或最小范围"),void b();var o={initValue:e.component.object.level.info.initValue};t.SaveCurrentOperate();t.ChangeAttributeInitValue(o,function(n){e.$emit("ChangeCurrentPage",n)})}}function Pe(n){var o=t.getCurrentSelectObject(),r=null;if(o.type==i.MyDateTime)r=e.component.dateTime.dateTimeModeId,selectRTCModeId=e.component.dateTime.RTCModeId;else{if(o.type!=i.MyTexTime)return;r=e.component.texTime.dateTimeModeId,selectRTCModeId=e.component.texTime.RTCModeId}var l=(t.SaveCurrentOperate(),{dateTimeModeId:r,RTCModeId:selectRTCModeId});switch(o.type){case i.MyTexTime:t.ChangeAttributeTexTimeModeId(l,function(n){e.$emit("ChangeCurrentPage",n)});break;case i.MyDateTime:t.ChangeAttributeDateTimeModeId(l,function(n){e.$emit("ChangeCurrentPage",n)})}}function Oe(){var n={align:e.component.group.alignModeId};t.ChangeAttributeGroupAlign(n)}function $e(){return"rgba("+_.random(64,255)+","+_.random(64,255)+","+_.random(64,255)+",1.0)"}function Be(n){var o=e.component.video.sourceId,i={source:o};t.SaveCurrentOperate();t.changeVideoSource(i,function(n){e.$emit("ChangeCurrentPage",n)})}function De(n){var o=e.component.video.scaleId,i={scale:o};t.SaveCurrentOperate();t.changeVideoScale(i,function(n){e.$emit("ChangeCurrentPage",n)})}var _e=null;e.$on("GlobalProjectReceived",function(){f(),d()}),e.$on("ToolShowChanged",function(n,o){e.component.textArea.toolShow=o})}]);