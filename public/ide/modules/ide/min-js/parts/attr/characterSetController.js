ide.controller("characterSetCtrl",["$scope","characterSetService","$timeout","ProjectService","Type","Preference","ResourceService","CanvasService",function(e,t,n,a,r,c,o,l){function i(){e.componentOfChar={character:{text:null,fontName:"默认",fontFamily:"宋体",fontSize:"20px",fontColor:null,fontBold:null,fontItalic:null,fontAlignment:null},fontFamilies:[],enableInput:f,disableInput:h,allCharacters:[],selectCharacterByIndex:s}}function u(){var t=o.getAllFontResources().map(function(e){return{name:e.name}});e.componentOfChar.fontFamilies=[{name:"宋体"},{name:"times"}].concat(t)}function m(){e.componentOfChar.allCharacters=t.getCharacterSet(),u(),e.$on("ResourceChanged",function(e){u()})}function f(e){var t=document.getElementById("characterNameInput"),n=t.getElementsByTagName("input");0<=e&&e<n.length&&n[e].removeAttribute("readonly")}function h(e){var t=document.getElementById("characterNameInput"),n=t.getElementsByTagName("input");0<=e&&e<n.length&&n[e].setAttribute("readonly","readonly")}function s(n){e.componentOfChar.character=t.selectCharacterByIndex(n)}e.$on("GlobalProjectReceived",function(){i(),m()})}]);