ide.controller("characterSetCtrl",["$scope","characterSetService","$timeout","ProjectService","Type","Preference","ResourceService","CanvasService",function(e,n,t,a,o,c,r,l){function i(){e.componentOfChar={character:{text:null,fontName:"默认",fontFamily:"宋体",fontSize:"20px",fontColor:null,fontBold:null,fontItalic:null,fontAlignment:null},fontFamilies:[],enableInput:f,disableInput:h,allCharacters:[],selectCharacterByIndex:s}}function u(){var n=r.getAllFontResources().map(function(e){return{name:e.name}});e.componentOfChar.fontFamilies=[{name:"宋体"},{name:"times"}].concat(n)}function m(){e.componentOfChar.allCharacters=n.getCharacterSet(),u(),e.$on("ResourceChanged",function(e){console.log("Fonts changed!!"),u()})}function f(e){var n=document.getElementById("characterNameInput"),t=n.getElementsByTagName("input");0<=e&&e<t.length&&t[e].removeAttribute("readonly")}function h(e){var n=document.getElementById("characterNameInput"),t=n.getElementsByTagName("input");0<=e&&e<t.length&&t[e].setAttribute("readonly","readonly")}function s(t){console.log("hh"),e.componentOfChar.character=n.selectCharacterByIndex(t)}e.$on("GlobalProjectReceived",function(){i(),m()})}]);