ideServices.service("ActionService",["ProjectService","Type",function(e,t){function n(e,t){this.name=e||"",this.value=t||""}var i=[],r=new n,c=new n("按下","Press"),a=new n("释放","Release"),s=new n("加载","Load"),o=new n("离开","UnLoad"),u=new n("进入低警报","EnterLowAlarm"),g=new n("离开低警报","LeaveLowAlarm"),l=new n("进入高警报","EnterHighAlarm"),h=new n("离开高警报","LeaveHighAlarm"),A=new n("进入","Enter"),w=new n("离开","Leave"),y=[{title:"action0",trigger:"Press",commands:[]}],d=[c,a];this.getAllActions=function(){return i},this.getTriggers=function(e){switch(e){case t.MyPage:d=[s,o];break;case t.MyLayer:d=[s,o];break;case t.MySubLayer:break;case t.MyButton:d=[a];break;case t.MyButtonGroup:d=[a];break;case t.MyScriptTrigger:case t.MyProgress:case t.MyDashboard:case t.MyNum:case t.MySlideBlock:d=[u,g,l,h];break;default:d=[A,w]}return d},this.setActions=function(e){i=e?e:_.cloneDeep(y)},this.setTriggers=function(e){e&&(d=e)},this.deleteActionByIndex=function(t,n,r){return t<0||t>i.length-1?(r&&r(),!1):(i.splice(t,1),e.ChangeAttributeAction(_.cloneDeep(i)),n&&n(),!0)},this.appendAction=function(t,n){i.push(t),e.ChangeAttributeAction(_.cloneDeep(i)),n&&n()},this.updateActionByIndex=function(t,n,r,c){n>=0&&n<i.length?(i[n]=t,e.ChangeAttributeAction(_.cloneDeep(i)),r&&r()):c&&c()},this.getNewAction=function(){return{title:"default",trigger:r,commands:[]}}}]);