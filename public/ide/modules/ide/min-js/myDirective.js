ide.directive("tagSelect",function(){return{restrict:"E",templateUrl:"tagSelect.html",controller:"TagSelect",scope:{selectedTag:"=?bind",action:"&?actionFunction"}}}),ide.controller("TagSelect",["$scope","TagService","$timeout",function(a,e,n){function o(){a.component.tagClasses=e.getAllTagClasses()}function s(){a.component.curTagClassName=a.component.tagClasses[0].name,a.component.curTagClass=a.component.tagClasses[0],a.component.curTagArray=a.component.curTagClass.tagArray}function l(){console.log("syncTagClasses"),console.log("$scope",a),a.component.tagClasses=e.getAllTagClasses(),a.component.curTagClassName=a.component.curTagClass.name,c(),a.component.curTagArray=a.component.curTagClass.tagArray}function t(){void 0!==a.selectedTag.tagName&&null!==a.selectedTag.tagName&&a.$emit("SelectedTagChanged")}function c(){for(var e=a.component.curTagClassName,n=a.component.tagClasses,o=0;o<n.length;o++)if(n[o].name===e){a.component.curTagClass=n[o],g(),a.component.selectedIdx=null;break}}function g(){var e=[],n=null;if(!0===a.component.showRegValidTagsFlag){for(var o=0;o<a.component.curTagClass.tagArray.length;o++)n=a.component.curTagClass.tagArray[o],console.log("tag",n),!0===n.register&&(e.push(n),console.log("tagArray",e));a.component.curTagArray=e}else a.component.curTagArray=a.component.curTagClass.tagArray}a.component={allCustomTags:null,tagClasses:null,curTagClassName:null,curTagClass:null,curTagArray:null,showRegValidTagsFlag:!1,selectedTagFun:t,changeCurTagClass:c,showRegValidTags:g,syncTagClasses:l},a.selectedTag={tagName:null},function(){o(),s()}()}]);